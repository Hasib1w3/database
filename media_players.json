[
  {
    "title": "audio-player-howler",
    "code": "Documentation\n\nSetup: External Scripts\n\n<script src=\"https://cdn.jsdelivr.net/npm/howler@2.2.4/dist/howler.min.js\">script>\n\nStep 1: Add HTML\n\n<div data-howler=\"\" data-howler-src=\"https://mukta.b-cdn.net/resource-media/taka.mp3\" data-howler-status=\"not-playing\" class=\"howler-player\">\n  <div class=\"howler-player__top\">\n    <div class=\"howler-player__cover\">\n      <img src=\"https://cdn.prod.website-files.com/67a603feca1854765a2dd961/67a60456c1d2029f1bfc7d45_bilal-mansuri-8JmMH__hvVM-unsplash.avif\" loading=\"eager\" alt=\"\" class=\"howler-player__cover-img\">\n    div>\n    <div class=\"howler-player__title\">\n      <h2 class=\"howler-player__title-h2\">mukta Weekly #003h2>\n      <p class=\"howler-player__title-p\">The mukta Podcastp>\n    div>\n    <button data-howler-control=\"toggle-play\" aria-label=\"Play Audio\" aria-pressed=\"false\" role=\"button\" class=\"howler-player__btn\">\n      <div class=\"howler-player__btn-play\">\n        <span class=\"howler-player__btn-span\">Playspan>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 42 42\" fill=\"none\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M11.4027 10.7448C11.4468 10.3954 11.5777 10.0605 11.785 9.76668C11.9922 9.47288 12.27 9.22833 12.5963 9.05251C12.9226 8.87669 13.2884 8.77446 13.6645 8.75396C14.0405 8.73346 14.4165 8.79526 14.7625 8.93444C16.5116 9.63275 20.4314 11.2924 25.4052 13.9733C30.3807 16.6558 33.8804 18.9984 35.4006 20.0612C36.6985 20.9703 36.7018 22.773 35.4024 23.6851C33.8969 24.7417 30.44 27.0536 25.4052 29.7699C20.3655 32.4862 16.4918 34.1259 14.7592 34.815C13.2671 35.4102 11.597 34.5072 11.4027 33.0046C11.1754 31.2481 10.7505 27.2597 10.7505 21.8731C10.7505 16.4897 11.1738 12.5029 11.4027 10.7448Z\" fill=\"currentColor\">path>svg>\n      div>\n      <div class=\"howler-player__btn-pause\">\n        <span class=\"howler-player__btn-span\">Pausespan>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\"><path d=\"M6 5.58333C6 5.26117 6.29848 5 6.66667 5H9.33333C9.70147 5 10 5.26117 10 5.58333V18.4167C10 18.7388 9.70147 19 9.33333 19H6.66667C6.29848 19 6 18.7388 6 18.4167V5.58333Z\" fill=\"currentColor\">path><path d=\"M14 5.58333C14 5.26117 14.2985 5 14.6667 5H17.3333C17.7015 5 18 5.26117 18 5.58333V18.4167C18 18.7388 17.7015 19 17.3333 19H14.6667C14.2985 19 14 18.7388 14 18.4167V5.58333Z\" fill=\"currentColor\">path>svg>\n      div>\n    button>\n  div>\n  <div class=\"howler-player__bottom\">\n    <span data-howler-info=\"progress\" aria-live=\"polite\" class=\"howler-player__time\">0:00span>\n    <div data-hover=\"\" data-howler-control=\"timeline\" role=\"progressbar\" aria-label=\"Audio Progress\" aria-valuemin=\"0\" aria-valuemax=\"100\" aria-valuenow=\"0\" class=\"howler-player__timeline\">\n      <div class=\"howler-player__timeline-back\">div>\n      <div data-howler-control=\"progress\" class=\"howler-player__timeline-progress\">div>\n    div>\n    <span data-howler-info=\"duration\" aria-hidden=\"true\" class=\"howler-player__time\">0:00span>\n  div>\ndiv>\n\nStep 2: Add CSS\n\n.howler-player {\n  grid-column-gap: 1.5em;\n  grid-row-gap: 1.5em;\n  background-color: #efeeec;\n  border-radius: 1.5em;\n  flex-flow: column;\n  flex-grow: 1;\n  max-width: 28em;\n  padding: 1.75em;\n  display: flex;\n  position: relative;\n}\n\n.howler-player__top {\n  grid-column-gap: 1.25em;\n  grid-row-gap: 1.25em;\n  align-items: center;\n  display: flex;\n}\n\n.howler-player__bottom {\n  grid-column-gap: .5em;\n  grid-row-gap: .5em;\n  align-items: center;\n  display: flex;\n}\n\n.howler-player__btn {\n  outline-offset: 0px;\n  pointer-events: auto;\n  font: inherit;\n  color: inherit;\n  border: 0 solid #0000;\n  border-radius: 50%;\n  outline: 0 #0000;\n  flex-shrink: 0;\n  justify-content: center;\n  align-items: center;\n  width: 2.75em;\n  height: 2.75em;\n  display: flex;\n  position: relative;\n}\n\n.howler-player__btn-play {\n  color: #efeeec;\n  background-color: #f04b23;\n  border-radius: 50%;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  padding: 20% 25%;\n  position: absolute;\n}\n\n.howler-player__btn-pause {\n  color: #efeeec;\n  background-color: #131313;\n  border-radius: 50%;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  padding-left: 25%;\n  padding-right: 25%;\n  display: flex;\n  position: absolute;\n}\n\n[data-howler-status=\"not-playing\"] .howler-player__btn-play,\n[data-howler-status=\"playing\"] .howler-player__btn-pause{\n  display: flex;\n}\n\n[data-howler-status=\"playing\"] .howler-player__btn-play,\n[data-howler-status=\"not-playing\"] .howler-player__btn-pause{\n  display: none;\n}\n\n.howler-player__btn-span {\n  opacity: 0;\n  pointer-events: none;\n  -webkit-user-select: none;\n  user-select: none;\n  position: absolute;\n}\n\n.howler-player__time {\n  opacity: .75;\n  text-align: center;\n  width: 3em;\n  display: block;\n}\n\n.howler-player__timeline {\n  cursor: pointer;\n  flex-grow: 1;\n  justify-content: flex-start;\n  align-items: center;\n  height: 1em;\n  display: flex;\n  position: relative;\n}\n\n.howler-player__timeline-progress {\n  background-color: #f04b23;\n  border-radius: 1em;\n  width: 0%;\n  height: .25em;\n  transition: width .1s linear;\n  position: relative;\n}\n\n.howler-player__timeline-back {\n  background-color: #d0cfcd;\n  border-radius: 1em;\n  width: 100%;\n  height: .25em;\n  position: absolute;\n}\n\n.howler-player__cover {\n  border-radius: .5em;\n  flex-shrink: 0;\n  width: 3.25em;\n  height: 3.25em;\n  position: relative;\n  overflow: hidden;\n}\n\n.howler-player__cover-img {\n  width: 100%;\n  height: 100%;\n}\n\n.howler-player__title {\n  grid-column-gap: .125em;\n  grid-row-gap: .125em;\n  flex-flow: column;\n  flex-grow: 1;\n  justify-content: center;\n  display: flex;\n}\n\n.howler-player__title-h2 {\n  margin-top: 0;\n  margin-bottom: 0;\n  font-size: 1.375em;\n  font-weight: 500;\n  line-height: 1.2;\n}\n\n.howler-player__title-p {\n  opacity: .5;\n  margin-bottom: 0;\n  line-height: 1.2;\n}\n\nStep 2: Add custom Javascript\n\nfunction initHowlerJSAudioPlayer() {\n  const howlerElements = document.querySelectorAll('[data-howler]');\n  const soundInstances = {};\n\n  howlerElements.forEach((element, index) => {\n    const uniqueId = `howler-${index}`;\n    element.id = uniqueId;\n    element.setAttribute('data-howler-status', 'not-playing');\n\n    const audioSrc = element.getAttribute('data-howler-src');\n    const durationElement = element.querySelector('[data-howler-info=\"duration\"]');\n    const progressTextElement = element.querySelector('[data-howler-info=\"progress\"]');\n    const timelineContainer = element.querySelector('[data-howler-control=\"timeline\"]');\n    const timelineBar = element.querySelector('[data-howler-control=\"progress\"]');\n    const toggleButton = element.querySelector('[data-howler-control=\"toggle-play\"]');\n\n    const sound = new Howl({\n      src: [audioSrc],\n      html5: true,\n      onload: () => {\n        if (durationElement) durationElement.textContent = formatTime(sound.duration());\n        const audioNode = sound._sounds?.[0]?._node;\n        if (audioNode) {\n          audioNode.addEventListener('pause', () => {\n            if (sound.playing()) {\n              sound.pause();\n            }\n          });\n          audioNode.addEventListener('play', () => {\n            if (!sound.playing()) {\n              sound.play();\n            }\n          });\n        }\n      },\n      onplay: () => {\n        pauseAllExcept(uniqueId);\n        element.setAttribute('data-howler-status', 'playing');\n        requestAnimationFrame(updateProgress);\n      },\n      onpause: () => element.setAttribute('data-howler-status', 'not-playing'),\n      onstop: () => element.setAttribute('data-howler-status', 'not-playing'),\n      onend: resetUI,\n    });\n\n    soundInstances[uniqueId] = sound;\n\n    function updateProgress() {\n      if (!sound.playing()) return;\n      updateUI();\n      requestAnimationFrame(updateProgress);\n    }\n\n    function updateUI() {\n      const currentTime = sound.seek() || 0;\n      const duration = sound.duration() || 1;\n      if (progressTextElement) progressTextElement.textContent = formatTime(currentTime);\n      if (timelineBar) timelineBar.style.width = `${(currentTime / duration) * 100}%`;\n      timelineContainer?.setAttribute('aria-valuenow', Math.round((currentTime / duration) * 100));\n    }\n\n    function resetUI() {\n      if (timelineBar) timelineBar.style.width = '100%';\n      element.setAttribute('data-howler-status', 'not-playing');\n    }\n\n    function seekToPosition(event) {\n      const rect = timelineContainer.getBoundingClientRect();\n      const percentage = (event.clientX - rect.left) / rect.width;\n      sound.seek(sound.duration() * percentage);\n      if (!sound.playing()) {\n        pauseAllExcept(uniqueId);\n        sound.play();\n        element.setAttribute('data-howler-status', 'playing');\n      }\n      updateUI();\n    }\n\n    function togglePlay() {\n      const isPlaying = sound.playing();\n      sound.playing() ? sound.pause() : (pauseAllExcept(uniqueId), sound.play());\n      toggleButton?.setAttribute('aria-pressed', !isPlaying);\n    }\n\n    function pauseAllExcept(id) {\n      Object.keys(soundInstances).forEach(otherId => {\n        if (otherId !== id && soundInstances[otherId].playing()) {\n          soundInstances[otherId].pause();\n          document.getElementById(otherId)?.setAttribute('data-howler-status', 'not-playing');\n        }\n      });\n    }\n\n    function formatTime(seconds) {\n      const minutes = Math.floor(seconds / 60);\n      const secs = Math.floor(seconds % 60);\n      return `${minutes}:${secs.toString().padStart(2, '0')}`;\n    }\n\n    toggleButton?.addEventListener('click', togglePlay);\n    timelineContainer?.addEventListener('click', seekToPosition);\n    sound.on('seek', updateUI);\n    sound.on('play', updateUI);\n  });\n\n  return soundInstances;\n}\n\n// Initialize Audio Player (HowlerJS)\ndocument.addEventListener('DOMContentLoaded', function() {\n  initHowlerJSAudioPlayer();\n});\n\nImplementation\n\nAudio Source\nTo load an audio file, add the file path to the attribute [data-howler-src=\"audio/file.mp3\"].\n\nPlay/Pause\nElements with the attributes [data-howler-control=\"toggle-play\"] allow the user to play or pause the audio. This action updates the [data-howler-status=\"not-playing\"] attribute from \"not-playing\" to \"playing\", allowing UI elements to reflect playback status. We use this information to show/hide the play and pause icon.\n\nTimeline\nThe [data-howler-control=\"timeline\"] element will target the [data-howler-control=\"progress\"] element inside to show the progression of the audio. Clicking anywhere on the timeline bar seeks the audio to that position.\n\nInformation\nThere are two types of information available to be displayed, the duration and the progress.\n- The attribute [data-howler-info=\"duration\"] displays the total duration of the audio file.\n- The attribute [data-howler-info=\"progress\"] dynamically updates to show the elapsed time.\n\nMultiple Audio Players\nWe prepared the script to have multiple audio players at the same page. The script will create an unique ID for all [data-howler] elements. When one of the other players is played the one that is playing will pause.\n\nMore information\nRead more about the Audio Library: Howler.js Documentation",
    "id": "audio-player-howler"
  },
  {
    "title": "bunny-hls-background-video",
    "code": "Documentation\n\nSetup: External Scripts\n\n<script src=\"https://cdn.jsdelivr.net/npm/hls.js@1.6.11\">script>\n\nStep 1: Add HTML\n\n<section class=\"demo-section\">\n  <div class=\"bunny-bg\" data-bunny-background-init=\"\" data-player-activated=\"false\" data-player-src=\"https://vz-6ed806ff-5e5.b-cdn.net/b6a663de-07c1-4c37-8bb6-0e79fef7fb3c/playlist.m3u8\" data-player-status=\"idle\" data-player-lazy=\"false\" data-player-autoplay=\"true\">\n    <video class=\"bunny-bg__video\" preload=\"auto\" width=\"1920\" height=\"1080\" playsinline=\"playsinline\" muted=\"\">video>\n    <img src=\"https://cdn.prod.website-files.com/68d1624803866689f970e4b1/68d165db0007459a86b6cfd9_player-placeholder.jpg\" loading=\"lazy\" width=\"Auto\" class=\"bunny-bg__placeholder\">\n    <div data-player-control=\"playpause\" class=\"bunny-bg__playpause\">\n      <div class=\"bunny-bg__btn\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"bunny-bg__pause-svg\"><path d=\"M16 5V19\" stroke=\"currentColor\" stroke-width=\"3\" stroke-miterlimit=\"10\">path><path d=\"M8 5V19\" stroke=\"currentColor\" stroke-width=\"3\" stroke-miterlimit=\"10\">path>svg>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"bunny-bg__play-svg\"><path d=\"M6 12V5.01109C6 4.05131 7.03685 3.4496 7.87017 3.92579L14 7.42855L20.1007 10.9147C20.9405 11.3945 20.9405 12.6054 20.1007 13.0853L14 16.5714L7.87017 20.0742C7.03685 20.5503 6 19.9486 6 18.9889V12Z\" fill=\"currentColor\">path>svg>\n      div>\n    div>\n    <div class=\"bunny-bg__loading\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"L9\" x=\"0px\" y=\"0px\" viewbox=\"0 0 100 100\" enable-background=\"new 0 0 0 0\" xml:space=\"preserve\" width=\"100%\" class=\"bunny-bg__loading-svg vimeo-player__loading-svg\" fill=\"none\"><path fill=\"currentColor\" d=\"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50\">path><animatetransform attributename=\"transform\" attributetype=\"XML\" type=\"rotate\" dur=\"1s\" from=\"0 50 50\" to=\"360 50 50\" repeatcount=\"indefinite\">animatetransform>svg>\n    div>\n  div>\n  <div class=\"demo-section__fade-left\">div>\n  <div class=\"demo-section__title\">\n    <h1 class=\"demo-section__title-h1\">Background<br>Bunny HLS Playerh1>\n  div>\nsection>\n\nStep 2: Add CSS\n\n.bunny-bg {\n  pointer-events: none;\n  color: #fff;\n  isolation: isolate;\n  border-radius: 1em;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  position: absolute;\n  top: 0;\n  left: 0;\n  overflow: hidden;\n  transform: translateX(0);\n}\n\n.bunny-bg__video {\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n  padding-bottom: 0;\n  padding-right: 0;\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n/* Animation */\n[data-bunny-background-init] :is(.bunny-bg__placeholder, .bunny-bg__loading) {\n  transition: opacity 0.3s linear, visibility 0.3s linear;\n}\n\n/* Placeholder */\n.bunny-bg__placeholder {\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n\n[data-bunny-background-init][data-player-status=\"playing\"] .bunny-bg__placeholder,\n[data-bunny-background-init][data-player-status=\"paused\"] .bunny-bg__placeholder,\n[data-bunny-background-init][data-player-activated=\"true\"][data-player-status=\"ready\"] .bunny-bg__placeholder {\n  opacity: 0;\n  visibility: hidden;\n}\n\n/* Loading */\n.bunny-bg__loading {\n  opacity: 0;\n  visibility: hidden;\n  background-color: #00000054;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  position: absolute;\n}\n\n.bunny-bg__loading-svg {\n  width: 6em;\n}\n\n[data-bunny-background-init][data-player-status=\"loading\"] .bunny-bg__loading {\n  opacity: 1;\n  visibility: visible;\n}\n\n/* Play/Pause */\n.bunny-bg__playpause {\n  pointer-events: auto;\n  justify-content: center;\n  align-items: center;\n  display: flex;\n  position: absolute;\n  bottom: 4vw;\n  right: 4vw;\n}\n\n.bunny-bg__btn {\n  -webkit-backdrop-filter: blur(1em);\n  backdrop-filter: blur(1em);\n  cursor: pointer;\n  background-color: #6464644d;\n  border: 1px solid #ffffff1a;\n  border-radius: 50%;\n  justify-content: center;\n  align-items: center;\n  width: 3em;\n  height: 3em;\n  padding: .8125em;\n  display: flex;\n  position: relative;\n}\n\n.bunny-bg__pause-svg {\n  display: none;\n}\n\n[data-bunny-background-init][data-player-status=\"playing\"] .bunny-bg__play-svg,\n[data-bunny-background-init][data-player-status=\"loading\"] .bunny-bg__play-svg {\n  display: none;\n}\n\n[data-bunny-background-init][data-player-status=\"playing\"] .bunny-bg__pause-svg,\n[data-bunny-background-init][data-player-status=\"loading\"] .bunny-bg__pause-svg{\n  display: block;\n}\n\n/* Demo Section */\n.demo-section {\n  color: #efeeec;\n  background-color: #000;\n  flex-flow: column;\n  justify-content: flex-end;\n  align-items: flex-start;\n  min-height: 100svh;\n  padding: 4vw;\n  display: flex;\n  position: relative;\n  overflow: hidden;\n}\n\n.demo-section__title {\n  position: relative;\n}\n\n.demo-section__title-h1 {\n  max-width: 9em;\n  font-size: 8vw;\n  font-weight: 500;\n  line-height: 1;\n}\n\n.demo-section__fade-left {\n  pointer-events: none;\n  background-image: linear-gradient(45deg, #000, #0000 50%);\n  width: 90vw;\n  height: 90vw;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n}\n\n@media screen and (max-width: 991px) {\n  .bunny-bg__playpause {\n    bottom: 1em;\n    right: 1em;\n  }\n\n  .demo-section {\n    padding-bottom: 25vw;\n  }\n\n  .demo-section__title-h1 {\n    font-size: 15vw;\n  }\n}\n\nStep 2: Add custom Javascript\n\nfunction initBunnyPlayerBackground() {\n  document.querySelectorAll('[data-bunny-background-init]').forEach(function(player) {\n    var src = player.getAttribute('data-player-src');\n    if (!src) return;\n\n    var video = player.querySelector('video');\n    if (!video) return;\n\n    try { video.pause(); } catch(_) {}\n    try { video.removeAttribute('src'); video.load(); } catch(_) {}\n\n    // Attribute helpers\n    function setStatus(s) {\n      if (player.getAttribute('data-player-status') !== s) {\n        player.setAttribute('data-player-status', s);\n      }\n    }\n    function setActivated(v) { player.setAttribute('data-player-activated', v ? 'true' : 'false'); }\n    if (!player.hasAttribute('data-player-activated')) setActivated(false);\n\n    // Flags\n    var lazyMode   = player.getAttribute('data-player-lazy'); // \"true\" | \"false\" (no meta)\n    var isLazyTrue = lazyMode === 'true';\n    var autoplay   = player.getAttribute('data-player-autoplay') === 'true';\n    var initialMuted = player.getAttribute('data-player-muted') === 'true';\n\n    // Used to suppress 'ready' flicker when user just pressed play in lazy modes\n    var pendingPlay = false;\n\n    // Autoplay forces muted + loop; IO will drive play/pause\n    if (autoplay) { video.muted = true; video.loop = true; }\n    else { video.muted = initialMuted; }\n\n    video.setAttribute('muted', '');\n    video.setAttribute('playsinline', '');\n    video.setAttribute('webkit-playsinline', '');\n    video.playsInline = true;\n    if (typeof video.disableRemotePlayback !== 'undefined') video.disableRemotePlayback = true;\n    if (autoplay) video.autoplay = false;\n\n    var isSafariNative = !!video.canPlayType('application/vnd.apple.mpegurl');\n    var canUseHlsJs    = !!(window.Hls && Hls.isSupported()) && !isSafariNative;\n\n    // Attach media only once (for actual playback)\n    var isAttached = false;\n    var userInteracted = false;\n    var lastPauseBy = ''; // 'io' | 'manual' | ''\n    function attachMediaOnce() {\n      if (isAttached) return;\n      isAttached = true;\n\n      if (player._hls) { try { player._hls.destroy(); } catch(_) {} player._hls = null; }\n\n      if (isSafariNative) {\n        video.preload = isLazyTrue ? 'none' : 'auto';\n        video.src = src;\n        video.addEventListener('loadedmetadata', function() {\n          readyIfIdle(player, pendingPlay);\n        }, { once: true });\n      } else if (canUseHlsJs) {\n        var hls = new Hls({ maxBufferLength: 10 });\n        hls.attachMedia(video);\n        hls.on(Hls.Events.MEDIA_ATTACHED, function() { hls.loadSource(src); });\n        hls.on(Hls.Events.MANIFEST_PARSED, function() {\n          readyIfIdle(player, pendingPlay);\n        });\n        player._hls = hls;\n      } else {\n        video.src = src;\n      }\n    }\n\n    // Initialize based on lazy mode\n    if (isLazyTrue) {\n      video.preload = 'none';\n    } else {\n      attachMediaOnce();\n    }\n\n    // Toggle play/pause\n    function togglePlay() {\n      userInteracted = true;\n      if (video.paused || video.ended) {\n        if (isLazyTrue && !isAttached) attachMediaOnce();\n        pendingPlay = true;\n        lastPauseBy = '';\n        setStatus('loading');\n        safePlay(video);\n      } else {\n        lastPauseBy = 'manual';\n        video.pause();\n      }\n    }\n\n    // Toggle mute\n    function toggleMute() {\n      video.muted = !video.muted;\n      player.setAttribute('data-player-muted', video.muted ? 'true' : 'false');\n    }\n\n    // Controls (delegated)\n    player.addEventListener('click', function(e) {\n      var btn = e.target.closest('[data-player-control]');\n      if (!btn || !player.contains(btn)) return;\n      var type = btn.getAttribute('data-player-control');\n      if (type === 'play' || type === 'pause' || type === 'playpause') togglePlay();\n      else if (type === 'mute') toggleMute();\n    });\n\n    // Media event wiring\n    video.addEventListener('play', function() { setActivated(true); setStatus('playing'); });\n    video.addEventListener('playing', function() { pendingPlay = false; setStatus('playing'); });\n    video.addEventListener('pause', function() { pendingPlay = false; setStatus('paused'); });\n    video.addEventListener('waiting', function() { setStatus('loading'); });\n    video.addEventListener('canplay', function() { readyIfIdle(player, pendingPlay); });\n    video.addEventListener('ended', function() { pendingPlay = false; setStatus('paused'); setActivated(false); });\n\n    // In-view auto play/pause (only when autoplay is true)\n    if (autoplay) {\n      if (player._io) { try { player._io.disconnect(); } catch(_) {} }\n      var io = new IntersectionObserver(function(entries) {\n        entries.forEach(function(entry) {\n          var inView = entry.isIntersecting && entry.intersectionRatio > 0;\n          if (inView) {\n            if (isLazyTrue && !isAttached) attachMediaOnce();\n            if ((lastPauseBy === 'io') || (video.paused && lastPauseBy !== 'manual')) {\n              setStatus('loading');\n              if (video.paused) togglePlay();\n              lastPauseBy = '';\n            }\n          } else {\n            if (!video.paused && !video.ended) {\n              lastPauseBy = 'io';\n              video.pause();\n            }\n          }\n        });\n      }, { threshold: 0.1 });\n      io.observe(player);\n      player._io = io;\n    }\n  });\n\n  // Helper: Ready status guard\n  function readyIfIdle(player, pendingPlay) {\n    if (!pendingPlay &&\n        player.getAttribute('data-player-activated') !== 'true' &&\n        player.getAttribute('data-player-status') === 'idle') {\n      player.setAttribute('data-player-status', 'ready');\n    }\n  }\n\n  // Helper: safe programmatic play\n  function safePlay(video) {\n    var p = video.play();\n    if (p && typeof p.then === 'function') p.catch(function(){});\n  }\n}\n\n// Initialize Bunny HTML HLS Player (Background)\ndocument.addEventListener('DOMContentLoaded', function() {\n  initBunnyPlayerBackground();\n});\n\nImplementation\n\nHosting videos on Bunny\nFor hosting .m3u8 HLS files we use Bunny.net. It provides a straightforward interface for uploading and managing videos, automatically generating the HLS streams needed by this player. \n\nAbout HLS (.m3u8)\nThis player is built exclusively for HTTP Live Streaming (HLS) sources, which use a .m3u8 playlist file. An .m3u8 playlist describes a sequence of small media chunks (usually .ts or .mp4 segments) and can include multiple quality levels for adaptive streaming. Playback is handled through hls.j on most browsers, or through Safari’s native HLS support on macOS and iOS. Because of this design, the player will not work with regular MP4 files or any format other than .m3u8.\n\nContainer\nThe player is always wrapped in a container marked with [data-bunny-player-init]. Inside this wrapper, the [data-player-src] attribute points to an HLS .m3u8 source. This container becomes the root for all other attributes and UI.\n\nStatus\nThe [data-player-status] attribute reflects the live playback state of the video. This value is never set manually, it updates automatically as the player changes state. You can style your UI based on these statuses to show or hide placeholders, loaders, and controls.\n- idle → The player has been initialized but no media is attached or ready yet. This is the starting state, often where you show a poster or placeholder image.\n- ready → Metadata or manifest information has been loaded, so the video is prepared to start instantly. At this stage, you can show a “ready to play” UI but playback hasn’t started yet.\n- loading → The video is buffering, either while starting playback or resuming from a stall. This is the moment to display a loading indicator or spinner.\n- playing → Playback is running actively. Overlays like placeholders should be hidden.\n- paused → Playback has been stopped by the user or has reached the end. The placeholder can reappear.\n\nIn addition, the attribute [data-player-activated=“true|false”] tracks whether the video has ever started once. It switches to true after the first play and resets back to false when the video ends. This lets you hide placeholders only after first play, then bring them back when playback finishes.\n\nPlay / Pause\nElements with [data-player-control=“play”] or [data-player-control=“pause”] control playback explicitly. A play button always attempts to start playback, while a pause button always stops it.\n\n\nPlayPause Toggle\nAn element with [data-player-control=“playpause”] acts as a toggle. When the video is paused, clicking it will start playback; when the video is playing, clicking it will pause. This is the simplest control if you want just one button.\n\n\nMute\nAn element with [data-player-control=“mute”] toggles the mute state. The status attribute [data-player-muted=“true|false”] is updated automatically to reflect the current mute state, so you can style your mute/unmute icon accordingly.\n\n\nLazy Loading\nLoading behavior is controlled with [data-player-lazy]:\n- When set to true, the player defers all loading until the user presses play. Nothing is fetched before interaction.\n- When set to false, the player loads the stream eagerly on initialization.\n\n\nAutoplay\nEnable autoplay by setting the attribute [data-player-autoplay=“true”]. Videos that autoplay are muted by default to comply with browser policies. When autoplay is enabled the player will loop the video.",
    "id": "bunny-hls-background-video"
  },
  {
    "title": "custom-bunny-hls-lightbox-advanced",
    "code": "Documentation\n\nSetup: External Scripts\n\n<script src=\"https://cdn.jsdelivr.net/npm/hls.js@1.6.11\">script>\n\nStep 1: Add HTML\n\n<div data-bunny-lightbox-status=\"not-active\" class=\"bunny-lightbox\">\n  <div data-bunny-lightbox-control=\"close\" class=\"bunny-lightbox__dark\">div>\n  <div data-bunny-lightbox-calc-height=\"\" class=\"bunny-lightbox__calc\">\n    <div data-bunny-lightbox-init=\"\" data-player-muted=\"false\" data-player-fullscreen=\"false\" data-player-activated=\"false\" data-player-autoplay=\"true\" data-player-hover=\"idle\" data-player-src=\"\" data-player-status=\"idle\" data-player-update-size=\"true\" class=\"bunny-lightbox-player\">\n      <div data-player-before=\"\" class=\"bunny-lightbox-player__before\">div>\n      <video preload=\"auto\" width=\"1920\" height=\"1080\" playsinline=\"\" class=\"bunny-lightbox-player__video\">video>\n      <img data-bunny-lightbox-placeholder=\"\" src=\"\" alt=\"\" class=\"bunny-lightbox-player__placeholder\">\n      <div class=\"bunny-lightbox-player__dark\">div>\n      <div data-player-control=\"playpause\" class=\"bunny-lightbox-player__playpause\">\n        <div class=\"bunny-lightbox-player__big-btn\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"bunny-lightbox-player__pause-svg\"><path d=\"M16 5V19\" stroke=\"currentColor\" stroke-width=\"3\" stroke-miterlimit=\"10\">path><path d=\"M8 5V19\" stroke=\"currentColor\" stroke-width=\"3\" stroke-miterlimit=\"10\">path>svg>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"bunny-lightbox-player__play-svg\"><path d=\"M6 12V5.01109C6 4.05131 7.03685 3.4496 7.87017 3.92579L14 7.42855L20.1007 10.9147C20.9405 11.3945 20.9405 12.6054 20.1007 13.0853L14 16.5714L7.87017 20.0742C7.03685 20.5503 6 19.9486 6 18.9889V12Z\" fill=\"currentColor\">path>svg>\n        div>\n      div>\n      <div class=\"bunny-lightbox-player__interface\">\n        <div class=\"bunny-lightbox-player__interface-fade\">div>\n        <div class=\"bunny-lightbox-player__interface-bottom\">\n          <div data-player-control=\"playpause\" class=\"bunny-lightbox-player__toggle-playpause\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"bunny-lightbox-player__pause-svg\"><path d=\"M16 5V19\" stroke=\"currentColor\" stroke-width=\"3\" stroke-miterlimit=\"10\">path><path d=\"M8 5V19\" stroke=\"currentColor\" stroke-width=\"3\" stroke-miterlimit=\"10\">path>svg>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"bunny-lightbox-player__play-svg\"><path d=\"M6 12V5.01109C6 4.05131 7.03685 3.4496 7.87017 3.92579L14 7.42855L20.1007 10.9147C20.9405 11.3945 20.9405 12.6054 20.1007 13.0853L14 16.5714L7.87017 20.0742C7.03685 20.5503 6 19.9486 6 18.9889V12Z\" fill=\"currentColor\">path>svg>\n          div>\n          <div class=\"bunny-lightbox-player__time\">\n            <p data-player-time-progress=\"\" class=\"bunny-lightbox-player__text\">00:00p>\n            <p class=\"bunny-lightbox-player__text is--transparent\">/p>\n            <p data-player-time-duration=\"\" class=\"bunny-lightbox-player__text is--transparent\">00:00p>\n          div>\n          <div data-player-timeline=\"\" class=\"bunny-lightbox-player__timeline\">\n            <div class=\"bunny-lightbox-player__timeline-bar\">\n              <div class=\"bunny-lightbox-player__timeline-bg\">div>\n              <div data-player-buffered=\"\" class=\"bunny-lightbox-player__timeline-buffered\">div>\n              <div data-player-progress=\"\" class=\"bunny-lightbox-player__timeline-progress\">div>\n            div>\n            <div data-player-timeline-handle=\"\" class=\"bunny-lightbox-player__timeline-handle\">div>\n          div>\n          <div class=\"bunny-lightbox-player__interface-btns\">\n            <div data-player-control=\"mute\" class=\"bunny-lightbox-player__toggle-mute\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"bunny-lightbox-player__volume-up-svg\"><path d=\"M3 8.99998V15H7L12 20V3.99998L7 8.99998H3ZM16.5 12C16.5 10.23 15.48 8.70998 14 7.96998V16.02C15.48 15.29 16.5 13.77 16.5 12ZM14 3.22998V5.28998C16.89 6.14998 19 8.82998 19 12C19 15.17 16.89 17.85 14 18.71V20.77C18.01 19.86 21 16.28 21 12C21 7.71998 18.01 4.13998 14 3.22998Z\" fill=\"currentColor\">path>svg>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"bunny-lightbox-player__volume-mute-svg\"><path d=\"M16.5 12C16.5 10.23 15.48 8.71 14 7.97V10.18L16.45 12.63C16.48 12.43 16.5 12.22 16.5 12ZM19 12C19 12.94 18.8 13.82 18.46 14.64L19.97 16.15C20.63 14.91 21 13.5 21 12C21 7.72 18.01 4.14 14 3.23V5.29C16.89 6.15 19 8.83 19 12ZM4.27 3L3 4.27L7.73 9H3V15H7L12 20V13.27L16.25 17.52C15.58 18.04 14.83 18.45 14 18.7V20.76C15.38 20.45 16.63 19.81 17.69 18.95L19.73 21L21 19.73L12 10.73L4.27 3ZM12 4L9.91 6.09L12 8.18V4Z\" fill=\"currentColor\">path>svg>\n            div>\n            <div data-player-control=\"fullscreen\" class=\"bunny-lightbox-player__toggle-fullscreen\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"bunny-lightbox-player__fullscreen-scale-svg\"><rect x=\"3\" y=\"14\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"3\" y=\"3\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"19\" y=\"3\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"19\" y=\"14\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"3\" y=\"19\" width=\"7\" height=\"2\" fill=\"currentColor\">rect><rect x=\"14\" y=\"19\" width=\"7\" height=\"2\" fill=\"currentColor\">rect><rect x=\"3\" y=\"3\" width=\"7\" height=\"2\" fill=\"currentColor\">rect><rect x=\"14\" y=\"3\" width=\"7\" height=\"2\" fill=\"currentColor\">rect>svg>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"bunny-lightbox-player__fullscreen-shrink-svg\"><rect x=\"7\" y=\"2\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"15\" y=\"2\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"15\" y=\"15\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"8\" y=\"15\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"2\" y=\"7\" width=\"7\" height=\"2\" fill=\"currentColor\">rect><rect x=\"3\" y=\"15\" width=\"7\" height=\"2\" fill=\"currentColor\">rect><rect x=\"15\" y=\"7\" width=\"7\" height=\"2\" fill=\"currentColor\">rect><rect x=\"15\" y=\"15\" width=\"7\" height=\"2\" fill=\"currentColor\">rect>svg>\n            div>\n          div>\n        div>\n      div>\n      <div class=\"bunny-lightbox-player__loading\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"L9\" x=\"0px\" y=\"0px\" viewbox=\"0 0 100 100\" enable-background=\"new 0 0 0 0\" xml:space=\"preserve\" width=\"100%\" class=\"bunny-lightbox-player__loading-svg\" fill=\"none\"><path fill=\"currentColor\" d=\"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50\">path><animatetransform attributename=\"transform\" attributetype=\"XML\" type=\"rotate\" dur=\"1s\" from=\"0 50 50\" to=\"360 50 50\" repeatcount=\"indefinite\">animatetransform>svg>\n      div>\n    div>\n  div>\n  <button data-bunny-lightbox-control=\"close\" class=\"bunny-lightbox__close\">\n    <div class=\"bunny-lightbox__close-bar\">div>\n    <div class=\"bunny-lightbox__close-bar is--duplicate\">div>\n  button>\ndiv>\n\nStep 2: Add CSS\n\n/* Lightbox */\n\n.bunny-lightbox {\n  z-index: 300;\n  pointer-events: none;\n  justify-content: center;\n  align-items: center;\n  padding: 5vw;\n  display: flex;\n  position: fixed;\n  inset: 0;\n  overflow: hidden;\n}\n\n.bunny-lightbox__calc {\n  transition: transform 0.3s cubic-bezier(0.625, 0.05, 0, 1), opacity 0.3s linear, visibility 0.3s linear;\n  width: 100%;\n  height: 100%;\n  position: relative;\n  opacity: 0;\n  visibility: hidden;\n  transform: scale(0.9) rotate(0.001deg);\n}\n\n[data-bunny-lightbox-status=\"active\"] .bunny-lightbox__calc {\n  opacity: 1;\n  visibility: visible;\n  transform: scale(1) rotate(0.001deg);\n}\n\n.bunny-lightbox__dark {\n  opacity: .95;\n  pointer-events: auto;\n  background-color: #191512;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.bunny-lightbox__close {\n  z-index: 600;\n  pointer-events: auto;\n  border-radius: 50%;\n  justify-content: center;\n  align-items: center;\n  width: 3em;\n  height: 3em;\n  display: flex;\n  position: absolute;\n  top: 2.5vw;\n  right: 2.5vw;\n}\n\n.bunny-lightbox__close-bar {\n  background-color: currentColor;\n  width: 1em;\n  height: .125em;\n  position: absolute;\n  transform: rotate(-45deg);\n}\n\n.bunny-lightbox__close-bar.is--duplicate {\n  transform: rotate(45deg);\n}\n\n[data-bunny-lightbox-status] .bunny-lightbox__dark,\n[data-bunny-lightbox-status] .bunny-lightbox__close {\n  transition: opacity 0.3s linear, visibility 0.3s linear;\n  opacity: 0;\n  visibility: hidden;\n}\n\n[data-bunny-lightbox-status=\"active\"] .bunny-lightbox__dark,\n[data-bunny-lightbox-status=\"active\"] .bunny-lightbox__close {\n  opacity: 1;\n  visibility: visible;\n}\n\n/* Player */\n\n.bunny-lightbox-player {\n  pointer-events: none;\n  color: #fff;\n  isolation: isolate;\n  border-radius: 1em;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  display: flex;\n  position: relative;\n  overflow: hidden;\n  -webkit-mask-image: radial-gradient(#fff, #000);\n  mask-image: radial-gradient(#fff, #000);\n}\n\n.bunny-lightbox-player__before {\n  padding-top: 62.5%;\n}\n\n/* Animation */\n[data-bunny-lightbox-init] :is(.bunny-lightbox-player__placeholder, .bunny-lightbox-player__dark, .bunny-lightbox-player__playpause, .bunny-lightbox-player__loading) {\n  transition: opacity 0.3s linear, visibility 0.3s linear;\n}\n\n/* Placeholder */\n.bunny-lightbox-player__placeholder {\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n\n[data-bunny-lightbox-init][data-player-status=\"playing\"] .bunny-lightbox-player__placeholder,\n[data-bunny-lightbox-init][data-player-status=\"paused\"] .bunny-lightbox-player__placeholder,\n[data-bunny-lightbox-init][data-player-activated=\"true\"][data-player-status=\"ready\"] .bunny-lightbox-player__placeholder {\n  opacity: 0;\n  visibility: hidden;\n}\n\n/* Dark Overlay */\n.bunny-lightbox-player__dark {\n  opacity: .1;\n  background-color: #000;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n\n[data-bunny-lightbox-init][data-player-status=\"paused\"] .bunny-lightbox-player__dark,\n[data-bunny-lightbox-init][data-player-status=\"playing\"][data-player-hover=\"active\"] .bunny-lightbox-player__dark{\n  opacity: 0.3;\n}\n\n[data-bunny-lightbox-init][data-player-status=\"playing\"] .bunny-lightbox-player__dark {\n  opacity: 0;\n}\n\n.bunny-lightbox-player__video {\n  width: 100%;\n  height: 100%;\n  padding-bottom: 0;\n  padding-right: 0;\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n/* Play/Pause */\n.bunny-lightbox-player__playpause {\n  pointer-events: auto;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  position: absolute;\n}\n\n[data-bunny-lightbox-init][data-player-status=\"playing\"] .bunny-lightbox-player__playpause,\n[data-bunny-lightbox-init][data-player-status=\"loading\"] .bunny-lightbox-player__playpause {\n  opacity: 0;\n}\n\n[data-bunny-lightbox-init][data-player-status=\"playing\"][data-player-hover=\"active\"] .bunny-lightbox-player__playpause {\n  opacity: 1;\n}\n\n[data-bunny-lightbox-init][data-player-status=\"playing\"] .bunny-lightbox-player__play-svg,\n[data-bunny-lightbox-init][data-player-status=\"loading\"] .bunny-lightbox-player__play-svg {\n  display: none;\n}\n\n[data-bunny-lightbox-init][data-player-status=\"playing\"] .bunny-lightbox-player__pause-svg,\n[data-bunny-lightbox-init][data-player-status=\"loading\"] .bunny-lightbox-player__pause-svg{\n  display: block;\n}\n\n/* Loading */\n.bunny-lightbox-player__loading {\n  opacity: 0;\n  visibility: hidden;\n  background-color: #00000054;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  position: absolute;\n}\n\n[data-bunny-lightbox-init][data-player-status=\"loading\"] .bunny-lightbox-player__loading {\n  opacity: 1;\n  visibility: visible;\n}\n\n/* Interface */\n.bunny-lightbox-player__interface {\n  flex-flow: column;\n  justify-content: flex-end;\n  align-items: baseline;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  position: absolute;\n  transition: all 0.6s cubic-bezier(0.625, 0.05, 0, 1);\n}\n\n[data-bunny-lightbox-init][data-player-status=\"playing\"] .bunny-lightbox-player__interface,\n[data-bunny-lightbox-init][data-player-status=\"loading\"] .bunny-lightbox-player__interface{\n  opacity: 0;\n  transform: translateY(1em) rotate(0.001deg);\n}\n\n[data-bunny-lightbox-init][data-player-status=\"playing\"][data-player-hover=\"active\"] .bunny-lightbox-player__interface,\n[data-bunny-lightbox-init][data-player-status=\"loading\"][data-player-hover=\"active\"] .bunny-lightbox-player__interface {\n  opacity: 1;\n  transform: translateY(0em) rotate(0.001deg);\n}\n\n.bunny-lightbox-player__interface-bottom {\n  grid-column-gap: 1em;\n  grid-row-gap: 1em;\n  pointer-events: auto;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  padding: min(2em, 4vw);\n  display: flex;\n  position: relative;\n}\n\n.bunny-lightbox-player__toggle-mute, \n.bunny-lightbox-player__toggle-fullscreen {\n  cursor: pointer;\n  width: 1.5em;\n  height: 1.5em;\n}\n\n.bunny-lightbox-player__timeline {\n  cursor: pointer;\n  flex: 1;\n  align-items: center;\n  height: 1em;\n  margin-left: .5em;\n  margin-right: .5em;\n  display: flex;\n  position: relative;\n}\n\n[data-bunny-lightbox-init][data-player-status=\"idle\"][data-player-activated=\"false\"] .bunny-lightbox-player__timeline,\n[data-bunny-lightbox-init][data-player-status=\"ready\"][data-player-activated=\"false\"] .bunny-lightbox-player__timeline {\n  pointer-events: none;\n}\n\n.bunny-lightbox-player__timeline-progress {\n  pointer-events: none;\n  background-color: #ff4c24;\n  border-radius: 1em;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  transform: translateX(-100%);\n}\n\n.bunny-lightbox-player__timeline-buffered {\n  opacity: .2;\n  pointer-events: none;\n  background-color: #fff;\n  border-radius: 1em;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  transform: translateX(-100%);\n}\n\n.bunny-lightbox-player__timeline-handle {\n  transition: transform 0.15s ease-in-out;\n  pointer-events: none;\n  background-color: #ff4c24;\n  border-radius: 1em;\n  width: 1em;\n  height: 1em;\n  position: absolute;\n  top: 50%;\n  transform: translate(-50%, -50%)scale(0);\n}\n\n[data-bunny-lightbox-init][data-timeline-drag=\"true\"] .bunny-lightbox-player__timeline-handle {\n  transform: translate(-50%, -50%) scale(1);\n}\n\n.bunny-lightbox-player__timeline-bar {\n  border-radius: 1em;\n  width: 100%;\n  height: 30%;\n  position: absolute;\n  overflow: hidden;\n}\n\n.bunny-lightbox-player__time {\n  grid-column-gap: .125em;\n  grid-row-gap: .125em;\n  flex: none;\n  justify-content: center;\n  align-items: center;\n  width: 5.75em;\n  display: flex;\n}\n\n.bunny-lightbox-player__timeline-bg {\n  background-color: #ffffff26;\n  border-radius: 1em;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n\n.bunny-lightbox-player__toggle-playpause {\n  cursor: pointer;\n  width: 1.5em;\n  height: 1.5em;\n}\n\n.bunny-lightbox-player__text {\n  white-space: nowrap;\n  margin-bottom: 0;\n  font-size: .9375em;\n  line-height: 1;\n}\n\n.bunny-lightbox-player__big-btn {\n  -webkit-backdrop-filter: blur(1em);\n  backdrop-filter: blur(1em);\n  cursor: pointer;\n  background-color: #64646433;\n  border: 1px solid #ffffff1a;\n  border-radius: 50%;\n  justify-content: center;\n  align-items: center;\n  width: 6em;\n  height: 6em;\n  padding: 2em;\n  display: flex;\n  position: relative;\n}\n\n.bunny-lightbox-player__loading-svg {\n  width: 6em;\n}\n\n.bunny-lightbox-player__pause-svg {\n  display: none;\n}\n\n.bunny-lightbox-player__interface-fade {\n  opacity: .5;\n  background-image: linear-gradient(#0000, #000);\n  width: 100%;\n  height: 25%;\n  position: absolute;\n  bottom: 0;\n}\n\n.bunny-lightbox-player__interface-btns {\n  grid-column-gap: .5em;\n  grid-row-gap: .5em;\n  align-items: center;\n  display: flex;\n}\n\n[data-bunny-lightbox-init][data-player-muted=\"true\"] .bunny-lightbox-player__volume-mute-svg {\n  display: block;\n}\n\n[data-bunny-lightbox-init][data-player-muted=\"true\"] .bunny-lightbox-player__volume-up-svg {\n  display: none;\n}\n\n.bunny-lightbox-player__volume-mute-svg {\n  display: none;\n}\n\n.bunny-lightbox-player__volume-up-svg {\n  display: block;\n}\n\n.bunny-lightbox-player__fullscreen-shrink-svg {\n  display: none;\n}\n\n.bunny-lightbox-player__fullscreen-scale-svg {\n  display: block;\n}\n\n[data-bunny-lightbox-init][data-player-fullscreen=\"true\"] .bunny-lightbox-player__fullscreen-shrink-svg {\n  display: block;\n}\n\n[data-bunny-lightbox-init][data-player-fullscreen=\"true\"] .bunny-lightbox-player__fullscreen-scale-svg {\n  display: none;\n}\n\n/* Cover Mode */\n[data-bunny-lightbox-init][data-player-update-size=\"cover\"] {\n  height: 100%;\n  top: 0;\n  left: 0;\n  position: absolute;\n}\n\n[data-bunny-lightbox-init][data-player-update-size=\"cover\"] [data-player-before] {\n  display: none;\n}\n\n[data-bunny-lightbox-init][data-player-update-size=\"cover\"][data-player-fullscreen=\"false\"] .bunny-lightbox-player__video {\n  object-fit: cover;\n}\n\nStep 2: Add custom Javascript\n\nfunction initBunnyLightboxPlayer() {\n  var player = document.querySelector('[data-bunny-lightbox-init]');\n  if (!player) return;\n\n  var wrapper = player.closest('[data-bunny-lightbox-status]');\n  if (!wrapper) return;\n\n  var video = player.querySelector('video');\n  if (!video) return;\n\n  try { video.pause(); } catch(_) {}\n  try { video.removeAttribute('src'); video.load(); } catch(_) {}\n\n  // Attribute helpers (collapsed)\n  function setAttr(el, name, val) {\n    var str = (typeof val === 'boolean') ? (val ? 'true' : 'false') : String(val);\n    if (el.getAttribute(name) !== str) el.setAttribute(name, str);\n  }\n  function setStatus(s) { setAttr(player, 'data-player-status', s); }\n  function setMutedState(v) { video.muted = !!v; setAttr(player, 'data-player-muted', video.muted); }\n  function setFsAttr(v) { setAttr(player, 'data-player-fullscreen', !!v); }\n  function setActivated(v) { setAttr(player, 'data-player-activated', !!v); }\n  if (!player.hasAttribute('data-player-activated')) setActivated(false);\n\n  // Elements\n  var timeline = player.querySelector('[data-player-timeline]');\n  var progressBar = player.querySelector('[data-player-progress]');\n  var bufferedBar = player.querySelector('[data-player-buffered]');\n  var handle = player.querySelector('[data-player-timeline-handle]');\n  var timeDurationEls = player.querySelectorAll('[data-player-time-duration]');\n  var timeProgressEls = player.querySelectorAll('[data-player-time-progress]');\n  var playerPlaceholderImg = player.querySelector('[data-bunny-lightbox-placeholder]');\n\n  // Flags\n  var updateSize = player.getAttribute('data-player-update-size'); // \"true\" | \"cover\" | \"false\" | null\n  var autoplay = player.getAttribute('data-player-autoplay') === 'true';\n  var initialMuted = player.getAttribute('data-player-muted') === 'true';\n\n  var pendingPlay = false;\n\n  video.loop = false;\n  setMutedState(initialMuted);\n\n  video.setAttribute('playsinline', '');\n  video.setAttribute('webkit-playsinline', '');\n  video.playsInline = true;\n  if (typeof video.disableRemotePlayback !== 'undefined') video.disableRemotePlayback = true;\n  if (autoplay) video.autoplay = false;\n\n  var isSafariNative = !!video.canPlayType('application/vnd.apple.mpegurl');\n  var canUseHlsJs = !!(window.Hls && Hls.isSupported()) && !isSafariNative;\n\n  // Load/attach only when opened\n  var isAttached = false;\n  var currentSrc = '';\n  var lastPauseBy = '';\n  var rafId;\n  var autoStartOnReady = false;\n\n  // Clamp setup for [data-bunny-lightbox-calc-height]\n  function setupLightboxClamp(player, wrapper, video, updateSize) {\n    var calcBox = wrapper.querySelector('[data-bunny-lightbox-calc-height]');\n    if (!calcBox) return;\n\n    function getRatio() {\n      if (updateSize === 'cover') return null;\n\n      if (updateSize === 'true') {\n        if (video.videoWidth && video.videoHeight) return video.videoWidth / video.videoHeight;\n        var before = player.querySelector('[data-player-before]');\n        if (before && before.style && before.style.paddingTop) {\n          var pct = parseFloat(before.style.paddingTop);\n          if (pct > 0) return 100 / pct;\n        }\n        var r = player.getBoundingClientRect();\n        if (r.height > 0) return r.width / r.height;\n        return 16/9;\n      }\n\n      var beforeFalse = player.querySelector('[data-player-before]');\n      if (beforeFalse && beforeFalse.style && beforeFalse.style.paddingTop) {\n        var pad = parseFloat(beforeFalse.style.paddingTop);\n        if (pad > 0) return 100 / pad;\n      }\n      var rb = player.getBoundingClientRect();\n      if (rb.height > 0) return rb.width / rb.height;\n      return 16/9;\n    }\n\n    function applyClamp() {\n      if (updateSize === 'cover') {\n        calcBox.style.maxWidth = '';\n        calcBox.style.maxHeight = '';\n        return;\n      }\n\n      var parent = wrapper;\n      var cs = getComputedStyle(parent);\n      var pt = parseFloat(cs.paddingTop)    || 0;\n      var pb = parseFloat(cs.paddingBottom) || 0;\n      var pl = parseFloat(cs.paddingLeft)   || 0;\n      var pr = parseFloat(cs.paddingRight)  || 0;\n\n      var cw = (parent.clientWidth  - pl - pr);\n      var ch = (parent.clientHeight - pt - pb);\n      if (cw <= 0 || ch <= 0) return;\n\n      var ratio = getRatio();\n      if (!ratio) {\n        calcBox.style.maxWidth = '';\n        calcBox.style.maxHeight = '';\n        return;\n      }\n\n      var hIfFullWidth = cw / ratio;\n\n      if (hIfFullWidth <= ch) {\n        calcBox.style.maxWidth  = '100%';\n        calcBox.style.maxHeight = (hIfFullWidth / ch * 100) + '%';\n      } else {\n        calcBox.style.maxHeight = '100%';\n        calcBox.style.maxWidth  = ((ch * ratio) / cw * 100) + '%';\n      }\n    }\n\n    var rafPending = false;\n    function debouncedApply() {\n      if (rafPending) return;\n      if (wrapper.getAttribute('data-bunny-lightbox-status') !== 'active') return;\n      rafPending = true;\n      requestAnimationFrame(function(){ \n        rafPending = false; \n        applyClamp(); \n      });\n    }\n\n    var ro = new ResizeObserver(debouncedApply);\n    ro.observe(wrapper);\n\n    window.addEventListener('resize', debouncedApply);\n    window.addEventListener('orientationchange', debouncedApply);\n\n    if (updateSize === 'true') {\n      video.addEventListener('loadedmetadata', debouncedApply);\n      video.addEventListener('loadeddata', debouncedApply);\n      video.addEventListener('playing', debouncedApply);\n    }\n\n    player._applyClamp = debouncedApply;\n    debouncedApply();\n  }\n\n  setupLightboxClamp(player, wrapper, video, updateSize);\n\n  // Unified attach pipeline\n  function withAttach(src, onReady) {\n    if (isSafariNative) {\n      video.preload = 'auto';\n      video.src = src;\n      video.addEventListener('loadedmetadata', onReady, { once: true });\n      return;\n    }\n    if (canUseHlsJs) {\n      var hls = new Hls({ maxBufferLength: 10 });\n      player._hls = hls;\n      hls.attachMedia(video);\n      hls.on(Hls.Events.MEDIA_ATTACHED, function(){ hls.loadSource(src); });\n      hls.on(Hls.Events.MANIFEST_PARSED, function(){ onReady(); });\n      hls.on(Hls.Events.LEVEL_LOADED, function(e, data){\n        if (data && data.details && isFinite(data.details.totalduration) && timeDurationEls.length) {\n          setText(timeDurationEls, formatTime(data.details.totalduration));\n        }\n      });\n      return;\n    }\n    video.preload = 'auto';\n    video.src = src;\n    video.addEventListener('loadedmetadata', onReady, { once: true });\n  }\n\n  function attachMediaFor(src) {\n    if (currentSrc === src && isAttached) return;\n    if (player._hls) { try { player._hls.destroy(); } catch(_) {} player._hls = null; }\n    if (timeDurationEls.length) setText(timeDurationEls, '00:00');\n\n    currentSrc = src;\n    isAttached = true;\n\n    withAttach(src, function onReady(){\n      readyIfIdle(player, pendingPlay);\n      updateBeforeRatioIOSSafe();\n      if (typeof player._applyClamp === 'function') player._applyClamp();\n      if (timeDurationEls.length && video.duration) setText(timeDurationEls, formatTime(video.duration));\n\n      if (autoStartOnReady && wrapper.getAttribute('data-bunny-lightbox-status') === 'active') {\n        setStatus('loading');\n        safePlay(video);\n        autoStartOnReady = false;\n      }\n    });\n  }\n\n  function ensureOpenUI(isActive) {\n    var state = isActive ? 'active' : 'not-active';\n    if (wrapper.getAttribute('data-bunny-lightbox-status') !== state) {\n      wrapper.setAttribute('data-bunny-lightbox-status', state);\n    }\n    if (isActive && typeof player._applyClamp === 'function') player._applyClamp();\n  }\n\n  // Centralized open policy\n  function isSameSrc(next){ return currentSrc && currentSrc === next; }\n  function planOnOpen(next) {\n    var same = isSameSrc(next);\n    if (!same) {\n      try { if (!video.paused && !video.ended) video.pause(); } catch(_) {}\n      if (player._hls) { try { player._hls.destroy(); } catch(_) {} player._hls = null; }\n      isAttached = false; currentSrc = '';\n      if (timeDurationEls.length) setText(timeDurationEls, '00:00');\n      setActivated(false);\n      setStatus('idle');\n\n      attachMediaFor(next);\n      autoStartOnReady = !!autoplay;\n      pendingPlay = !!autoplay;\n      return;\n    }\n    autoStartOnReady = !!autoplay;\n    if (autoplay) {\n      setStatus('loading');\n      safePlay(video);\n    } else {\n      try { if (!video.paused && !video.ended) video.pause(); } catch(_) {}\n      setActivated(false);\n      setStatus('paused');\n    }\n  }\n\n  // Open/Close API\n  function openLightbox(src, placeholderUrl) {\n    if (!src) return;\n\n    function activate() {\n      ensureOpenUI(true);\n      planOnOpen(src);\n    }\n\n    if (playerPlaceholderImg && placeholderUrl) {\n      var needsSwap = playerPlaceholderImg.getAttribute('src') !== placeholderUrl;\n      if (needsSwap || !playerPlaceholderImg.complete || !playerPlaceholderImg.naturalWidth) {\n        playerPlaceholderImg.onload = function(){ playerPlaceholderImg.onload = null; activate(); };\n        playerPlaceholderImg.onerror = function(){ playerPlaceholderImg.onerror = null; activate(); };\n        if (needsSwap) playerPlaceholderImg.setAttribute('src', placeholderUrl);\n        else playerPlaceholderImg.dispatchEvent(new Event('load'));\n      } else {\n        activate();\n      }\n    } else {\n      activate();\n    }\n  }\n\n  function togglePlay() {\n    if (video.paused || video.ended) {\n      pendingPlay = true;\n      lastPauseBy = '';\n      setStatus('loading');\n      safePlay(video);\n    } else {\n      lastPauseBy = 'manual';\n      video.pause();\n    }\n  }\n  function toggleMute() { setMutedState(!video.muted); }\n\n  player.addEventListener('click', function(e) {\n    var btn = e.target.closest('[data-player-control]');\n    if (!btn || !player.contains(btn)) return;\n    var type = btn.getAttribute('data-player-control');\n    if (type === 'play' || type === 'pause' || type === 'playpause') togglePlay();\n    else if (type === 'mute') toggleMute();\n    else if (type === 'fullscreen') toggleFullscreen();\n  });\n\n  // Fullscreen helpers\n  function isFsActive() { return !!(document.fullscreenElement || document.webkitFullscreenElement); }\n  function enterFullscreen() {\n    if (player.requestFullscreen) return player.requestFullscreen();\n    if (video.requestFullscreen) return video.requestFullscreen();\n    if (video.webkitSupportsFullscreen && typeof video.webkitEnterFullscreen === 'function') return video.webkitEnterFullscreen();\n  }\n  function exitFullscreen() {\n    if (document.exitFullscreen) return document.exitFullscreen();\n    if (document.webkitExitFullscreen) return document.webkitExitFullscreen();\n    if (video.webkitDisplayingFullscreen && typeof video.webkitExitFullscreen === 'function') return video.webkitExitFullscreen();\n  }\n  function toggleFullscreen() { if (isFsActive() || video.webkitDisplayingFullscreen) exitFullscreen(); else enterFullscreen(); }\n  document.addEventListener('fullscreenchange', function() { setFsAttr(isFsActive()); });\n  document.addEventListener('webkitfullscreenchange', function() { setFsAttr(isFsActive()); });\n  video.addEventListener('webkitbeginfullscreen', function() { setFsAttr(true); });\n  video.addEventListener('webkitendfullscreen', function() { setFsAttr(false); });\n\n  // Time text (not in rAF)\n  function updateTimeTexts() {\n    if (timeDurationEls.length) setText(timeDurationEls, formatTime(video.duration));\n    if (timeProgressEls.length) setText(timeProgressEls, formatTime(video.currentTime));\n  }\n  video.addEventListener('timeupdate', updateTimeTexts);\n  video.addEventListener('loadedmetadata', function(){ updateTimeTexts(); updateBeforeRatioIOSSafe(); });\n  video.addEventListener('loadeddata', function(){ updateBeforeRatioIOSSafe(); });\n  video.addEventListener('playing', function(){ updateBeforeRatioIOSSafe(); });\n  video.addEventListener('durationchange', updateTimeTexts);\n\n  // rAF visuals (progress + handle only)\n  function updateProgressVisuals() {\n    if (!video.duration) return;\n    var playedPct = (video.currentTime / video.duration) * 100;\n    if (progressBar) progressBar.style.transform = 'translateX(' + (-100 + playedPct) + '%)';\n    if (handle) handle.style.left = pctClamp(playedPct) + '%';\n  }\n  function pctClamp(p) { return p < 0 ? 0 : p > 100 ? 100 : p; }\n  function loop() {\n    updateProgressVisuals();\n    if (!video.paused && !video.ended) rafId = requestAnimationFrame(loop);\n  }\n\n  // Buffered bar (not in rAF)\n  function updateBufferedBar() {\n    if (!bufferedBar || !video.duration || !video.buffered.length) return;\n    var end = video.buffered.end(video.buffered.length - 1);\n    var buffPct = (end / video.duration) * 100;\n    bufferedBar.style.transform = 'translateX(' + (-100 + buffPct) + '%)';\n  }\n  video.addEventListener('progress', updateBufferedBar);\n  video.addEventListener('loadedmetadata', updateBufferedBar);\n  video.addEventListener('durationchange', updateBufferedBar);\n\n  // Media event wiring\n  video.addEventListener('play', function() { setActivated(true); cancelAnimationFrame(rafId); loop(); setStatus('playing'); });\n  video.addEventListener('playing', function() { pendingPlay = false; setStatus('playing'); });\n  video.addEventListener('pause', function() { pendingPlay = false; cancelAnimationFrame(rafId); updateProgressVisuals(); setStatus('paused'); });\n  video.addEventListener('waiting', function() { setStatus('loading'); });\n  video.addEventListener('canplay', function() { readyIfIdle(player, pendingPlay); });\n\n  // Video ended\n  video.addEventListener('ended', function () {\n    pendingPlay = false;\n    cancelAnimationFrame(rafId);\n    updateProgressVisuals();\n    setActivated(false);\n    video.currentTime = 0;\n\n    // Exit fullscreen if active\n    if (document.fullscreenElement || document.webkitFullscreenElement || video.webkitDisplayingFullscreen) {\n      if (document.exitFullscreen) document.exitFullscreen();\n      else if (document.webkitExitFullscreen) document.webkitExitFullscreen();\n      else if (video.webkitExitFullscreen) video.webkitExitFullscreen();\n    }\n\n    closeLightbox();\n  });\n\n  // Scrubbing (pointer events)\n  if (timeline) {\n    var dragging = false, wasPlaying = false, targetTime = 0, lastSeekTs = 0, seekThrottle = 180, rect = null;\n    window.addEventListener('resize', function() { if (!dragging) rect = null; });\n    function getFractionFromX(x) {\n      if (!rect) rect = timeline.getBoundingClientRect();\n      var f = (x - rect.left) / rect.width; if (f < 0) f = 0; if (f > 1) f = 1; return f;\n    }\n    function previewAtFraction(f) {\n      if (!video.duration) return;\n      var pct = f * 100;\n      if (progressBar) progressBar.style.transform = 'translateX(' + (-100 + pct) + '%)';\n      if (handle) handle.style.left = pct + '%';\n      if (timeProgressEls.length) setText(timeProgressEls, formatTime(f * video.duration));\n    }\n    function maybeSeek(now) {\n      if (!video.duration) return;\n      if ((now - lastSeekTs) < seekThrottle) return;\n      lastSeekTs = now; video.currentTime = targetTime;\n    }\n    function onPointerDown(e) {\n      if (!video.duration) return;\n      dragging = true; wasPlaying = !video.paused && !video.ended; if (wasPlaying) video.pause();\n      player.setAttribute('data-timeline-drag', 'true'); rect = timeline.getBoundingClientRect();\n      var f = getFractionFromX(e.clientX); targetTime = f * video.duration; previewAtFraction(f); maybeSeek(performance.now());\n      timeline.setPointerCapture && timeline.setPointerCapture(e.pointerId);\n      window.addEventListener('pointermove', onPointerMove, { passive: false });\n      window.addEventListener('pointerup', onPointerUp, { passive: true });\n      e.preventDefault();\n    }\n    function onPointerMove(e) {\n      if (!dragging) return;\n      var f = getFractionFromX(e.clientX); targetTime = f * video.duration; previewAtFraction(f); maybeSeek(performance.now()); e.preventDefault();\n    }\n    function onPointerUp() {\n      if (!dragging) return;\n      dragging = false; player.setAttribute('data-timeline-drag', 'false'); rect = null; video.currentTime = targetTime;\n      if (wasPlaying) safePlay(video); else { updateProgressVisuals(); updateTimeTexts(); }\n      window.removeEventListener('pointermove', onPointerMove);\n      window.removeEventListener('pointerup', onPointerUp);\n    }\n    timeline.addEventListener('pointerdown', onPointerDown, { passive: false });\n    if (handle) handle.addEventListener('pointerdown', onPointerDown, { passive: false });\n  }\n\n  // Hover/idle detection (pointer-based)\n  var hoverTimer;\n  var hoverHideDelay = 3000;\n  function setHover(state) {\n    if (player.getAttribute('data-player-hover') !== state) {\n      player.setAttribute('data-player-hover', state);\n    }\n  }\n  function scheduleHide() { clearTimeout(hoverTimer); hoverTimer = setTimeout(function() { setHover('idle'); }, hoverHideDelay); }\n  function wakeControls() { setHover('active'); scheduleHide(); }\n  player.addEventListener('pointerdown', wakeControls);\n  document.addEventListener('fullscreenchange', wakeControls);\n  document.addEventListener('webkitfullscreenchange', wakeControls);\n  var trackingMove = false;\n  function onPointerMoveGlobal(e) {\n    var r = player.getBoundingClientRect();\n    if (e.clientX >= r.left && e.clientX <= r.right && e.clientY >= r.top && e.clientY <= r.bottom) wakeControls();\n  }\n  player.addEventListener('pointerenter', function() {\n    wakeControls();\n    if (!trackingMove) { trackingMove = true; window.addEventListener('pointermove', onPointerMoveGlobal, { passive: true }); }\n  });\n  player.addEventListener('pointerleave', function() {\n    setHover('idle'); clearTimeout(hoverTimer);\n    if (trackingMove) { trackingMove = false; window.removeEventListener('pointermove', onPointerMoveGlobal); }\n  });\n\n  // Close Function\n  function closeLightbox() {\n    ensureOpenUI(false);\n\n    var hasPlayed = false;\n    try {\n      if (video.played && video.played.length) {\n        for (var i = 0; i < video.played.length; i++) {\n          if (video.played.end(i) > 0) { hasPlayed = true; break; }\n        }\n      } else {\n        hasPlayed = video.currentTime > 0;\n      }\n    } catch (_) {}\n\n    try { if (!video.paused && !video.ended) video.pause(); } catch (_) {}\n\n    setActivated(false);\n    setStatus(hasPlayed ? 'paused' : 'idle');\n  }\n\n  // Global open/close controls + ESC\n  document.addEventListener('click', function(e) {\n    var openBtn = e.target.closest('[data-bunny-lightbox-control=\"open\"]');\n    if (openBtn) {\n      var src = openBtn.getAttribute('data-bunny-lightbox-src') || '';\n      if (!src) return;\n      var imgEl = openBtn.querySelector('[data-bunny-lightbox-placeholder]');\n      var placeholderUrl = imgEl ? imgEl.getAttribute('src') : '';\n      openLightbox(src, placeholderUrl);\n      return;\n    }\n    var closeBtn = e.target.closest('[data-bunny-lightbox-control=\"close\"]');\n    if (closeBtn) {\n      var closeInWrapper = closeBtn.closest('[data-bunny-lightbox-status]');\n      if (closeInWrapper === wrapper) closeLightbox();\n      return;\n    }\n  });\n\n  document.addEventListener('keydown', function(e) {\n    if (e.key === 'Escape') closeLightbox();\n  });\n\n  // Helper: time/text/meta/ratio utilities\n  function pad2(n) { return (n < 10 ? '0' : '') + n; }\n  function formatTime(sec) {\n    if (!isFinite(sec) || sec < 0) return '00:00';\n    var s = Math.floor(sec), h = Math.floor(s / 3600), m = Math.floor((s % 3600) / 60), r = s % 60;\n    return h > 0 ? (h + ':' + pad2(m) + ':' + pad2(r)) : (pad2(m) + ':' + pad2(r));\n  }\n  function setText(nodes, text) { nodes.forEach(function(n){ n.textContent = text; }); }\n\n  // Helper: Choose best HLS level by resolution --- */\n  function bestLevel(levels) {\n    if (!levels || !levels.length) return null;\n    return levels.reduce(function(a, b) { return ((b.width||0) > (a.width||0)) ? b : a; }, levels[0]);\n  }\n\n  // Helper: Safe programmatic play\n  function safePlay(video) {\n    var p = video.play();\n    if (p && typeof p.then === 'function') p.catch(function(){});\n  }\n\n  // Helper: Ready status guard\n  function readyIfIdle(player, pendingPlay) {\n    if (!pendingPlay &&\n        player.getAttribute('data-player-activated') !== 'true' &&\n        player.getAttribute('data-player-status') === 'idle') {\n      player.setAttribute('data-player-status', 'ready');\n    }\n  }\n\n  // Helper: Ratio Setter\n  function setBeforeRatio(player, updateSize, w, h) {\n    if (updateSize !== 'true' || !w || !h) return;\n    var before = player.querySelector('[data-player-before]');\n    if (!before) return;\n    before.style.paddingTop = (h / w * 100) + '%';\n  }\n  function maybeSetRatioFromVideo(player, updateSize, video) {\n    if (updateSize !== 'true') return;\n    var before = player.querySelector('[data-player-before]');\n    if (!before) return;\n    var hasPad = before.style.paddingTop && before.style.paddingTop !== '0%';\n    if (!hasPad && video.videoWidth && video.videoHeight) {\n      setBeforeRatio(player, updateSize, video.videoWidth, video.videoHeight);\n    }\n  }\n\n  // Helper: robust ratio setter for iOS Safari (with HLS fallback)\n  function updateBeforeRatioIOSSafe() {\n    if (updateSize !== 'true') return;\n    var before = player.querySelector('[data-player-before]');\n    if (!before) return;\n\n    function apply(w, h) {\n      if (!w || !h) return;\n      before.style.paddingTop = (h / w * 100) + '%';\n      if (typeof player._applyClamp === 'function') player._applyClamp();\n    }\n\n    if (video.videoWidth && video.videoHeight) { apply(video.videoWidth, video.videoHeight); return; }\n\n    if (player._hls && player._hls.levels && player._hls.levels.length) {\n      var lvls = player._hls.levels;\n      var best = lvls.reduce(function(a, b) { return ((b.width||0) > (a.width||0)) ? b : a; }, lvls[0]);\n      if (best && best.width && best.height) { apply(best.width, best.height); return; }\n    }\n\n    requestAnimationFrame(function () {\n      if (video.videoWidth && video.videoHeight) { apply(video.videoWidth, video.videoHeight); return; }\n\n      var master = (typeof currentSrc === 'string' && currentSrc) ? currentSrc : '';\n      if (!master || master.indexOf('blob:') === 0) {\n        var attrSrc = player.getAttribute('data-bunny-lightbox-src') || player.getAttribute('data-player-src') || '';\n        if (attrSrc && attrSrc.indexOf('blob:') !== 0) master = attrSrc;\n      }\n      if (!master || !/^https?:/i.test(master)) return;\n\n      fetch(master, { credentials: 'omit', cache: 'no-store' })\n        .then(function (r) { if (!r.ok) throw new Error(); return r.text(); })\n        .then(function (txt) {\n          var lines = txt.split(/\\r?\\n/);\n          var bestW = 0, bestH = 0, last = null;\n          for (var i = 0; i < lines.length; i++) {\n            var line = lines[i];\n            if (line.indexOf('#EXT-X-STREAM-INF:') === 0) {\n              last = line;\n            } else if (last && line && line[0] !== '#') {\n              var m = /RESOLUTION=(\\d+)x(\\d+)/.exec(last);\n              if (m) {\n                var W = parseInt(m[1], 10), H = parseInt(m[2], 10);\n                if (W > bestW) { bestW = W; bestH = H; }\n              }\n              last = null;\n            }\n          }\n          if (bestW && bestH) apply(bestW, bestH);\n        })\n        .catch(function () {});\n    });\n  }\n}\n\n// Initialize Bunny HTML HLS Lightbox\ndocument.addEventListener('DOMContentLoaded', function() {\n  initBunnyLightboxPlayer();\n});\n\nImplementation\n\nHosting videos on Bunny\nFor hosting .m3u8 HLS files we use Bunny.net. It provides a straightforward interface for uploading and managing videos, automatically generating the HLS streams needed by this player. \n\nAbout HLS (.m3u8)\nThis player is built exclusively for HTTP Live Streaming (HLS) sources, which use a .m3u8 playlist file. An .m3u8 playlist describes a sequence of small media chunks (usually .ts or .mp4 segments) and can include multiple quality levels for adaptive streaming. Playback is handled through hls.j on most browsers, or through Safari’s native HLS support on macOS and iOS. Because of this design, the player will not work with regular MP4 files or any format other than .m3u8.\n\nOpen the lightbox\n- Add [data-bunny-lightbox-control=\"open\"] to any element. When the user clicks this element that will open the lightbox.\n- To load the correct video locate the HLS Playlist URL in the Bunny Stream section of the dashboard (e.g., https://vz-6c19fa58-db3.b-cdn.net/8505a43d-08ba-41b8-a579-31c524e2c854/playlist.m3u8). Add this url to the attribute [data-bunny-lightbox-src].\n- To show a placeholder image when loading the video add a  element with the attr [data-bunny-lightbox-placeholder] attached as a child of the [data-bunny-lightbox-control=\"open\"]. This image can be hidden with display: none; and will only be used as data.\n<button data-bunny-lightbox-control=\"open\" data-bunny-lightbox-src=\"https://vz-6ed806ff-5e5.b-cdn.net/b6a663de-07c1-4c37-8bb6-0e79fef7fb3c/playlist.m3u8\">\n  <img data-bunny-lightbox-placeholder=\"\" src=\"image.jpg\" alt=\"\">\n  <span>Open Videospan>\nbutton>\nClose the lightbox\nAdd [data-bunny-lightbox-control=\"close\"] to any element. When the user clicks this element it will close the lightbox and pause the video. Clicking the esc button on your keyboard will also close the lightbox.\n<button data-bunny-lightbox-control=\"close\">Close Videobutton>\nLightbox Container\nThe lightbox wrapper is defined with [data-bunny-lightbox-status=\"not-active\"]. Inside it, the video player is placed within [data-bunny-lightbox-calc-height], which manages its sizing. The wrapper also contains the dark background overlay and the close button.\nWhen the status is set to [data-bunny-lightbox-status=\"active\"] the player is opened. This attribute can be used to show/hide the player inside with CSS.\n<div data-bunny-lightbox-status=\"not-active\">\n  <div class=\"dark-background\" data-bunny-lightbox-control=\"close\">div>\n  <div data-bunny-lightbox-calc-height>\n  \n    \n    <div class=\"bunny-player\" data-bunny-lightbox-init>div>\n    \n  div>\ndiv>\nVideo Player\nThe player is always marked witht the attribute[data-bunny-lightbox-init]. Inside this player, the [data-player-src] attribute points to an HLS .m3u8 source. This container becomes the root for all other attributes and UI.\n\nStatus\nThe [data-player-status] attribute reflects the live playback state of the video. This value is never set manually, it updates automatically as the player changes state. You can style your UI based on these statuses to show or hide placeholders, loaders, and controls.\n- idle → The player has been initialized but no media is attached or ready yet. This is the starting state, often where you show a poster or placeholder image.\n- ready → Metadata or manifest information has been loaded, so the video is prepared to start instantly. At this stage, you can show a “ready to play” UI but playback hasn’t started yet.\n- loading → The video is buffering, either while starting playback or resuming from a stall. This is the moment to display a loading indicator or spinner.\n- playing → Playback is running actively. Controls for pause and timeline progress should be visible, and overlays like placeholders should be hidden.\n- paused → Playback has been stopped by the user or has reached the end. Controls for resuming can be emphasized, and depending on your design, the placeholder or play button can reappear.\n\nIn addition, the attribute [data-player-activated=“true|false”] tracks whether the video has ever started once. It switches to true after the first play and resets back to false when the video ends. This lets you hide placeholders only after first play, then bring them back when playback finishes.\n\nPlay / Pause\nElements with [data-player-control=“play”] or [data-player-control=“pause”] control playback explicitly. A play button always attempts to start playback, while a pause button always stops it.\n\n\nPlayPause Toggle\nAn element with [data-player-control=“playpause”] acts as a toggle. When the video is paused, clicking it will start playback; when the video is playing, clicking it will pause. This is the simplest control if you want just one button.\n\n\nMute\nAn element with [data-player-control=“mute”] toggles the mute state. The status attribute [data-player-muted=“true|false”] is updated automatically to reflect the current mute state, so you can style your mute/unmute icon accordingly.\n\n\nFullscreen\nAn element with [data-player-control=“fullscreen”] toggles fullscreen. The status attribute [data-player-fullscreen=“true|false”] is updated automatically whenever the player enters or exits fullscreen, so your UI can adjust to fullscreen mode.\n\nTimeline\nThe interactive seek area is marked with [data-player-timeline]. This is where users can click or drag to change playback position.\n- The element [data-player-progress] shows the portion of the video already played. It updates with a CSS transform (translateX) for smooth animation.\n- The element [data-player-buffered] shows how much of the video is buffered ahead of playback.\n- The element [data-player-timeline-handle] is a draggable knob that follows the current time. Users can drag this handle to scrub through the video.\n- While scrubbing, the player sets [data-timeline-drag=“true”], which you can use to style the timeline differently during user interaction.\n\nDuration & Progress\nTwo attributes provide formatted playback times for display:\n- The attribute [data-player-time-duration] shows the total length of the video. It is automatically formatted as mm:ss for short clips or hh:mm:ss if longer than an hour.\n- The attribute [data-player-time-progress] shows the current playback position, updating continuously during playback and also while scrubbing.\n\nBoth values are updated automatically, so you can place them anywhere in your interface.\n\nAspect Ratio\nThe layout of the player can be stabilized before playback begins:\n- The attribute [data-player-update-size=“true”] calculates the video’s aspect ratio and applies inline padding-top to [data-player-before] to preserve layout.\n- The attribute [data-player-update-size=“cover”] disables this calculation, leaving it up to CSS to cover the container.\n\nHover\nThe [data-player-hover=“active|idle”] attribute reflects whether the user is currently interacting with the player. When the mouse or touch is active, it switches to active, and after a few seconds of inactivity, it returns to idle. This allows you to fade controls in and out automatically depending on interaction.\n\nAutoplay\nEnable autoplay by setting the attribute [data-player-autoplay=“true”]. The video will start playing automatically when the lightbox is opened.",
    "id": "custom-bunny-hls-lightbox-advanced"
  },
  {
    "title": "custom-bunny-hls-player-advanced",
    "code": "Documentation\n\nSetup: External Scripts\n\n<script src=\"https://cdn.jsdelivr.net/npm/hls.js@1.6.11\">script>\n\nStep 1: Add HTML\n\n<div data-player-muted=\"false\" class=\"bunny-player\" data-player-fullscreen=\"false\" data-player-activated=\"false\" data-player-autoplay=\"false\" data-bunny-player-init=\"\" data-player-hover=\"idle\" data-player-src=\"https://vz-6ed806ff-5e5.b-cdn.net/b6a663de-07c1-4c37-8bb6-0e79fef7fb3c/playlist.m3u8\" data-player-status=\"idle\" data-player-update-size=\"false\" data-player-lazy=\"meta\">\n  <div data-player-before=\"\" class=\"bunny-player__before\">div>\n  <video preload=\"auto\" width=\"1920\" height=\"1080\" playsinline=\"\" class=\"bunny-player__video\">video>\n  <img src=\"https://cdn.prod.website-files.com/68b14d8b0d705811e0f931cf/68bb2d31856462ca9660c546_player-placeholder.jpg\" alt=\"\" class=\"bunny-player__placeholder\">\n  <div class=\"bunny-player__dark\">div>\n  <div data-player-control=\"playpause\" class=\"bunny-player__playpause\">\n    <div class=\"bunny-player__big-btn\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"bunny-player__pause-svg\"><path d=\"M16 5V19\" stroke=\"currentColor\" stroke-width=\"3\" stroke-miterlimit=\"10\">path><path d=\"M8 5V19\" stroke=\"currentColor\" stroke-width=\"3\" stroke-miterlimit=\"10\">path>svg>\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"bunny-player__play-svg\"><path d=\"M6 12V5.01109C6 4.05131 7.03685 3.4496 7.87017 3.92579L14 7.42855L20.1007 10.9147C20.9405 11.3945 20.9405 12.6054 20.1007 13.0853L14 16.5714L7.87017 20.0742C7.03685 20.5503 6 19.9486 6 18.9889V12Z\" fill=\"currentColor\">path>svg>\n    div>\n  div>\n  <div class=\"bunny-player__interface\">\n    <div class=\"bunny-player__interface-fade\">div>\n    <div class=\"bunny-player__interface-bottom\">\n      <div data-player-control=\"playpause\" class=\"bunny-player__toggle-playpause\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"bunny-player__pause-svg\"><path d=\"M16 5V19\" stroke=\"currentColor\" stroke-width=\"3\" stroke-miterlimit=\"10\">path><path d=\"M8 5V19\" stroke=\"currentColor\" stroke-width=\"3\" stroke-miterlimit=\"10\">path>svg>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"bunny-player__play-svg\"><path d=\"M6 12V5.01109C6 4.05131 7.03685 3.4496 7.87017 3.92579L14 7.42855L20.1007 10.9147C20.9405 11.3945 20.9405 12.6054 20.1007 13.0853L14 16.5714L7.87017 20.0742C7.03685 20.5503 6 19.9486 6 18.9889V12Z\" fill=\"currentColor\">path>svg>\n      div>\n      <div class=\"bunny-player__time\">\n        <p data-player-time-progress=\"\" class=\"bunny-player__text\">00:00p>\n        <p class=\"bunny-player__text is--transparent\">/p>\n        <p data-player-time-duration=\"\" class=\"bunny-player__text is--transparent\">00:00p>\n      div>\n      <div data-player-timeline=\"\" class=\"bunny-player__timeline\">\n        <div class=\"bunny-player__timeline-bar\">\n          <div class=\"bunny-player__timeline-bg\">div>\n          <div data-player-buffered=\"\" class=\"bunny-player__timeline-buffered\">div>\n          <div data-player-progress=\"\" class=\"bunny-player__timeline-progress\">div>\n        div>\n        <div data-player-timeline-handle=\"\" class=\"bunny-player__timeline-handle\">div>\n      div>\n      <div class=\"bunny-player__interface-btns\">\n        <div data-player-control=\"mute\" class=\"bunny-player__toggle-mute\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"bunny-player__volume-up-svg\"><path d=\"M3 8.99998V15H7L12 20V3.99998L7 8.99998H3ZM16.5 12C16.5 10.23 15.48 8.70998 14 7.96998V16.02C15.48 15.29 16.5 13.77 16.5 12ZM14 3.22998V5.28998C16.89 6.14998 19 8.82998 19 12C19 15.17 16.89 17.85 14 18.71V20.77C18.01 19.86 21 16.28 21 12C21 7.71998 18.01 4.13998 14 3.22998Z\" fill=\"currentColor\">path>svg>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"bunny-player__volume-mute-svg\"><path d=\"M16.5 12C16.5 10.23 15.48 8.71 14 7.97V10.18L16.45 12.63C16.48 12.43 16.5 12.22 16.5 12ZM19 12C19 12.94 18.8 13.82 18.46 14.64L19.97 16.15C20.63 14.91 21 13.5 21 12C21 7.72 18.01 4.14 14 3.23V5.29C16.89 6.15 19 8.83 19 12ZM4.27 3L3 4.27L7.73 9H3V15H7L12 20V13.27L16.25 17.52C15.58 18.04 14.83 18.45 14 18.7V20.76C15.38 20.45 16.63 19.81 17.69 18.95L19.73 21L21 19.73L12 10.73L4.27 3ZM12 4L9.91 6.09L12 8.18V4Z\" fill=\"currentColor\">path>svg>\n        div>\n        <div data-player-control=\"fullscreen\" class=\"bunny-player__toggle-fullscreen\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"bunny-player__fullscreen-scale-svg\"><rect x=\"3\" y=\"14\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"3\" y=\"3\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"19\" y=\"3\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"19\" y=\"14\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"3\" y=\"19\" width=\"7\" height=\"2\" fill=\"currentColor\">rect><rect x=\"14\" y=\"19\" width=\"7\" height=\"2\" fill=\"currentColor\">rect><rect x=\"3\" y=\"3\" width=\"7\" height=\"2\" fill=\"currentColor\">rect><rect x=\"14\" y=\"3\" width=\"7\" height=\"2\" fill=\"currentColor\">rect>svg>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"bunny-player__fullscreen-shrink-svg\"><rect x=\"7\" y=\"2\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"15\" y=\"2\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"15\" y=\"15\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"8\" y=\"15\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"2\" y=\"7\" width=\"7\" height=\"2\" fill=\"currentColor\">rect><rect x=\"3\" y=\"15\" width=\"7\" height=\"2\" fill=\"currentColor\">rect><rect x=\"15\" y=\"7\" width=\"7\" height=\"2\" fill=\"currentColor\">rect><rect x=\"15\" y=\"15\" width=\"7\" height=\"2\" fill=\"currentColor\">rect>svg>\n        div>\n      div>\n    div>\n  div>\n  <div class=\"bunny-player__loading\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"L9\" x=\"0px\" y=\"0px\" viewbox=\"0 0 100 100\" enable-background=\"new 0 0 0 0\" xml:space=\"preserve\" width=\"100%\" class=\"bunny-player__loading-svg\" fill=\"none\"><path fill=\"currentColor\" d=\"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50\">path><animatetransform attributename=\"transform\" attributetype=\"XML\" type=\"rotate\" dur=\"1s\" from=\"0 50 50\" to=\"360 50 50\" repeatcount=\"indefinite\">animatetransform>svg>\n  div>\ndiv>\n\nStep 2: Add CSS\n\n.bunny-player {\n  pointer-events: none;\n  color: #fff;\n  isolation: isolate;\n  border-radius: 1em;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  display: flex;\n  position: relative;\n  overflow: hidden;\n  transform: translateX(0);\n}\n\n.bunny-player__before {\n  padding-top: 62.5%;\n}\n\n/* Animation */\n[data-bunny-player-init] :is(.bunny-player__placeholder, .bunny-player__dark, .bunny-player__playpause, .bunny-player__loading) {\n  transition: opacity 0.3s linear, visibility 0.3s linear;\n}\n\n/* Placeholder */\n.bunny-player__placeholder {\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n\n[data-bunny-player-init][data-player-status=\"playing\"] .bunny-player__placeholder,\n[data-bunny-player-init][data-player-status=\"paused\"] .bunny-player__placeholder,\n[data-bunny-player-init][data-player-activated=\"true\"][data-player-status=\"ready\"] .bunny-player__placeholder {\n  opacity: 0;\n  visibility: hidden;\n}\n\n/* Dark Overlay */\n.bunny-player__dark {\n  opacity: .1;\n  background-color: #000;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n\n[data-bunny-player-init][data-player-status=\"paused\"] .bunny-player__dark,\n[data-bunny-player-init][data-player-status=\"playing\"][data-player-hover=\"active\"] .bunny-player__dark{\n  opacity: 0.3;\n}\n\n[data-bunny-player-init][data-player-status=\"playing\"] .bunny-player__dark {\n  opacity: 0;\n}\n\n.bunny-player__video {\n  width: 100%;\n  height: 100%;\n  padding-bottom: 0;\n  padding-right: 0;\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n/* Play/Pause */\n.bunny-player__playpause {\n  pointer-events: auto;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  position: absolute;\n}\n\n[data-bunny-player-init][data-player-status=\"playing\"] .bunny-player__playpause,\n[data-bunny-player-init][data-player-status=\"loading\"] .bunny-player__playpause {\n  opacity: 0;\n}\n\n[data-bunny-player-init][data-player-status=\"playing\"][data-player-hover=\"active\"] .bunny-player__playpause {\n  opacity: 1;\n}\n\n[data-bunny-player-init][data-player-status=\"playing\"] .bunny-player__play-svg,\n[data-bunny-player-init][data-player-status=\"loading\"] .bunny-player__play-svg {\n  display: none;\n}\n\n[data-bunny-player-init][data-player-status=\"playing\"] .bunny-player__pause-svg,\n[data-bunny-player-init][data-player-status=\"loading\"] .bunny-player__pause-svg{\n  display: block;\n}\n\n/* Loading */\n.bunny-player__loading {\n  opacity: 0;\n  visibility: hidden;\n  background-color: #00000054;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  position: absolute;\n}\n\n[data-bunny-player-init][data-player-status=\"loading\"] .bunny-player__loading {\n  opacity: 1;\n  visibility: visible;\n}\n\n/* Interface */\n.bunny-player__interface {\n  flex-flow: column;\n  justify-content: flex-end;\n  align-items: baseline;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  position: absolute;\n  transition: all 0.6s cubic-bezier(0.625, 0.05, 0, 1);\n}\n\n[data-bunny-player-init][data-player-status=\"playing\"] .bunny-player__interface,\n[data-bunny-player-init][data-player-status=\"loading\"] .bunny-player__interface{\n  opacity: 0;\n  transform: translateY(1em) rotate(0.001deg);\n}\n\n[data-bunny-player-init][data-player-status=\"playing\"][data-player-hover=\"active\"] .bunny-player__interface,\n[data-bunny-player-init][data-player-status=\"loading\"][data-player-hover=\"active\"] .bunny-player__interface {\n  opacity: 1;\n  transform: translateY(0em) rotate(0.001deg);\n}\n\n.bunny-player__interface-bottom {\n  grid-column-gap: 1em;\n  grid-row-gap: 1em;\n  pointer-events: auto;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  padding: min(2em, 4vw);\n  display: flex;\n  position: relative;\n}\n\n.bunny-player__toggle-mute, \n.bunny-player__toggle-fullscreen {\n  cursor: pointer;\n  width: 1.5em;\n  height: 1.5em;\n}\n\n.bunny-player__timeline {\n  cursor: pointer;\n  flex: 1;\n  align-items: center;\n  height: 1em;\n  margin-left: .5em;\n  margin-right: .5em;\n  display: flex;\n  position: relative;\n}\n\n[data-bunny-player-init][data-player-status=\"idle\"][data-player-activated=\"false\"] .bunny-player__timeline,\n[data-bunny-player-init][data-player-status=\"ready\"][data-player-activated=\"false\"] .bunny-player__timeline {\n  pointer-events: none;\n}\n\n.bunny-player__timeline-progress {\n  pointer-events: none;\n  background-color: #ff4c24;\n  border-radius: 1em;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  transform: translateX(-100%);\n}\n\n.bunny-player__timeline-buffered {\n  opacity: .2;\n  pointer-events: none;\n  background-color: #fff;\n  border-radius: 1em;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  transform: translateX(-100%);\n}\n\n.bunny-player__timeline-handle {\n  transition: transform 0.15s ease-in-out;\n  pointer-events: none;\n  background-color: #ff4c24;\n  border-radius: 1em;\n  width: 1em;\n  height: 1em;\n  position: absolute;\n  top: 50%;\n  transform: translate(-50%, -50%)scale(0);\n}\n\n[data-bunny-player-init][data-timeline-drag=\"true\"] .bunny-player__timeline-handle {\n  transform: translate(-50%, -50%) scale(1);\n}\n\n.bunny-player__timeline-bar {\n  border-radius: 1em;\n  width: 100%;\n  height: 30%;\n  position: absolute;\n  overflow: hidden;\n}\n\n.bunny-player__time {\n  grid-column-gap: .125em;\n  grid-row-gap: .125em;\n  flex: none;\n  justify-content: center;\n  align-items: center;\n  width: 5.75em;\n  display: flex;\n}\n\n.bunny-player__timeline-bg {\n  background-color: #ffffff26;\n  border-radius: 1em;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n\n.bunny-player__toggle-playpause {\n  cursor: pointer;\n  width: 1.5em;\n  height: 1.5em;\n}\n\n.bunny-player__text {\n  white-space: nowrap;\n  margin-bottom: 0;\n  font-size: .9375em;\n  line-height: 1;\n}\n\n.bunny-player__big-btn {\n  -webkit-backdrop-filter: blur(1em);\n  backdrop-filter: blur(1em);\n  cursor: pointer;\n  background-color: #64646433;\n  border: 1px solid #ffffff1a;\n  border-radius: 50%;\n  justify-content: center;\n  align-items: center;\n  width: 6em;\n  height: 6em;\n  padding: 2em;\n  display: flex;\n  position: relative;\n}\n\n.bunny-player__loading-svg {\n  width: 6em;\n}\n\n.bunny-player__pause-svg {\n  display: none;\n}\n\n.bunny-player__interface-fade {\n  opacity: .5;\n  background-image: linear-gradient(#0000, #000);\n  width: 100%;\n  height: 25%;\n  position: absolute;\n  bottom: 0;\n}\n\n.bunny-player__interface-btns {\n  grid-column-gap: .5em;\n  grid-row-gap: .5em;\n  align-items: center;\n  display: flex;\n}\n\n[data-bunny-player-init][data-player-muted=\"true\"] .bunny-player__volume-mute-svg {\n  display: block;\n}\n\n[data-bunny-player-init][data-player-muted=\"true\"] .bunny-player__volume-up-svg {\n  display: none;\n}\n\n.bunny-player__volume-mute-svg {\n  display: none;\n}\n\n.bunny-player__volume-up-svg {\n  display: block;\n}\n\n.bunny-player__fullscreen-shrink-svg {\n  display: none;\n}\n\n.bunny-player__fullscreen-scale-svg {\n  display: block;\n}\n\n[data-bunny-player-init][data-player-fullscreen=\"true\"] .bunny-player__fullscreen-shrink-svg {\n  display: block;\n}\n\n[data-bunny-player-init][data-player-fullscreen=\"true\"] .bunny-player__fullscreen-scale-svg {\n  display: none;\n}\n\n/* Cover Mode */\n[data-bunny-player-init][data-player-update-size=\"cover\"] {\n  height: 100%;\n  top: 0;\n  left: 0;\n  position: absolute;\n}\n\n[data-bunny-player-init][data-player-update-size=\"cover\"] [data-player-before] {\n  display: none;\n}\n\n[data-bunny-player-init][data-player-update-size=\"cover\"][data-player-fullscreen=\"false\"] .bunny-player__video {\n  object-fit: cover;\n}\n\nStep 2: Add custom Javascript\n\nfunction initBunnyPlayer() {\n  document.querySelectorAll('[data-bunny-player-init]').forEach(function(player) {\n    var src = player.getAttribute('data-player-src');\n    if (!src) return;\n\n    var video = player.querySelector('video');\n    if (!video) return;\n\n    try { video.pause(); } catch(_) {}\n    try { video.removeAttribute('src'); video.load(); } catch(_) {}\n\n    // Attribute helpers\n    function setStatus(s) {\n      if (player.getAttribute('data-player-status') !== s) {\n        player.setAttribute('data-player-status', s);\n      }\n    }\n    function setMutedState(v) {\n      video.muted = !!v;\n      player.setAttribute('data-player-muted', video.muted ? 'true' : 'false');\n    }\n    function setFsAttr(v) { player.setAttribute('data-player-fullscreen', v ? 'true' : 'false'); }\n    function setActivated(v) { player.setAttribute('data-player-activated', v ? 'true' : 'false'); }\n    if (!player.hasAttribute('data-player-activated')) setActivated(false);\n\n    // Elements\n    var timeline = player.querySelector('[data-player-timeline]');\n    var progressBar = player.querySelector('[data-player-progress]');\n    var bufferedBar = player.querySelector('[data-player-buffered]');\n    var handle = player.querySelector('[data-player-timeline-handle]');\n    var timeDurationEls = player.querySelectorAll('[data-player-time-duration]');\n    var timeProgressEls = player.querySelectorAll('[data-player-time-progress]');\n\n    // Flags\n    var updateSize = player.getAttribute('data-player-update-size'); // \"true\" | \"cover\" | null\n    var lazyMode = player.getAttribute('data-player-lazy');          // \"true\" | \"meta\" | null\n    var isLazyTrue = lazyMode === 'true';\n    var isLazyMeta = lazyMode === 'meta';\n    var autoplay = player.getAttribute('data-player-autoplay') === 'true';\n    var initialMuted = player.getAttribute('data-player-muted') === 'true';\n\n    // Used to suppress 'ready' flicker when user just pressed play in lazy modes\n    var pendingPlay = false;\n\n    // Autoplay forces muted; IO will trigger \"fake click\"\n    if (autoplay) { setMutedState(true); video.loop = true; } else { setMutedState(initialMuted); }\n\n    video.setAttribute('muted', '');\n    video.setAttribute('playsinline', '');\n    video.setAttribute('webkit-playsinline', '');\n    video.playsInline = true;\n    if (typeof video.disableRemotePlayback !== 'undefined') video.disableRemotePlayback = true;\n    if (autoplay) video.autoplay = false;\n\n    var isSafariNative = !!video.canPlayType('application/vnd.apple.mpegurl');\n    var canUseHlsJs = !!(window.Hls && Hls.isSupported()) && !isSafariNative;\n\n    // Minimal ratio fetch when requested (and not already handled by lazy meta)\n    if (updateSize === 'true' && !isLazyMeta) {\n      if (isLazyTrue) {\n        // Do nothing: no fetch, no  touch when lazy=true\n      } else {\n        var prev = video.preload;\n        video.preload = 'metadata';\n        var onMeta2 = function() {\n          setBeforeRatio(player, updateSize, video.videoWidth, video.videoHeight);\n          video.removeEventListener('loadedmetadata', onMeta2);\n          video.preload = prev || '';\n        };\n        video.addEventListener('loadedmetadata', onMeta2, { once: true });\n        video.src = src;\n      }\n    }\n\n    //  Lazy meta fetch (duration + aspect) without attaching playback\n    function fetchMetaOnce() {\n      getSourceMeta(src, canUseHlsJs).then(function(meta){\n        if (meta.width && meta.height) setBeforeRatio(player, updateSize, meta.width, meta.height);\n        if (timeDurationEls.length && isFinite(meta.duration) && meta.duration > 0) {\n          setText(timeDurationEls, formatTime(meta.duration));\n        }\n        readyIfIdle(player, pendingPlay);\n      });\n    }\n\n    // Attach media only once (for actual playback)\n    var isAttached = false;\n    var userInteracted = false;\n    var lastPauseBy = '';\n    function attachMediaOnce() {\n      if (isAttached) return;\n      isAttached = true;\n\n      if (player._hls) { try { player._hls.destroy(); } catch(_) {} player._hls = null; }\n\n      if (isSafariNative) {\n        video.preload = (isLazyTrue || isLazyMeta) ? 'auto' : video.preload;\n        video.src = src;\n        video.addEventListener('loadedmetadata', function() {\n          readyIfIdle(player, pendingPlay);\n          if (updateSize === 'true') setBeforeRatio(player, updateSize, video.videoWidth, video.videoHeight);\n          if (timeDurationEls.length) setText(timeDurationEls, formatTime(video.duration));\n        }, { once: true });\n      } else if (canUseHlsJs) {\n        var hls = new Hls({ maxBufferLength: 10 });\n        hls.attachMedia(video);\n        hls.on(Hls.Events.MEDIA_ATTACHED, function() { hls.loadSource(src); });\n        hls.on(Hls.Events.MANIFEST_PARSED, function() {\n          readyIfIdle(player, pendingPlay);\n          if (updateSize === 'true') {\n            var lvls = hls.levels || [];\n            var best = bestLevel(lvls);\n            if (best && best.width && best.height) setBeforeRatio(player, updateSize, best.width, best.height);\n          }\n        });\n        hls.on(Hls.Events.LEVEL_LOADED, function(e, data) {\n          if (data && data.details && isFinite(data.details.totalduration)) {\n            if (timeDurationEls.length) setText(timeDurationEls, formatTime(data.details.totalduration));\n          }\n        });\n        player._hls = hls;\n      } else {\n        video.src = src;\n      }\n    }\n\n    // Initialize based on lazy mode\n    if (isLazyMeta) {\n      fetchMetaOnce();\n      video.preload = 'none';\n    } else if (isLazyTrue) {\n      video.preload = 'none';\n    } else {\n      attachMediaOnce();\n    }\n\n    // Toggle play/pause\n    function togglePlay() {\n      userInteracted = true;\n      if (video.paused || video.ended) {\n        if ((isLazyTrue || isLazyMeta) && !isAttached) attachMediaOnce();\n        pendingPlay = true;\n        lastPauseBy = '';\n        setStatus('loading');\n        safePlay(video);\n      } else {\n        lastPauseBy = 'manual';\n        video.pause();\n      }\n    }\n\n    // Toggle mute\n    function toggleMute() {\n      video.muted = !video.muted;\n      player.setAttribute('data-player-muted', video.muted ? 'true' : 'false');\n    }\n\n    // Fullscreen helpers\n    function isFsActive() { return !!(document.fullscreenElement || document.webkitFullscreenElement); }\n    function enterFullscreen() {\n      if (player.requestFullscreen) return player.requestFullscreen();\n      if (video.requestFullscreen) return video.requestFullscreen();\n      if (video.webkitSupportsFullscreen && typeof video.webkitEnterFullscreen === 'function') return video.webkitEnterFullscreen();\n    }\n    function exitFullscreen() {\n      if (document.exitFullscreen) return document.exitFullscreen();\n      if (document.webkitExitFullscreen) return document.webkitExitFullscreen();\n      if (video.webkitDisplayingFullscreen && typeof video.webkitExitFullscreen === 'function') return video.webkitExitFullscreen();\n    }\n    function toggleFullscreen() { if (isFsActive() || video.webkitDisplayingFullscreen) exitFullscreen(); else enterFullscreen(); }\n    document.addEventListener('fullscreenchange', function() { setFsAttr(isFsActive()); });\n    document.addEventListener('webkitfullscreenchange', function() { setFsAttr(isFsActive()); });\n    video.addEventListener('webkitbeginfullscreen', function() { setFsAttr(true); });\n    video.addEventListener('webkitendfullscreen', function() { setFsAttr(false); });\n\n    // Controls (delegated)\n    player.addEventListener('click', function(e) {\n      var btn = e.target.closest('[data-player-control]');\n      if (!btn || !player.contains(btn)) return;\n      var type = btn.getAttribute('data-player-control');\n      if (type === 'play' || type === 'pause' || type === 'playpause') togglePlay();\n      else if (type === 'mute') toggleMute();\n      else if (type === 'fullscreen') toggleFullscreen();\n    });\n\n    // Time text (not in rAF)\n    function updateTimeTexts() {\n      if (timeDurationEls.length) setText(timeDurationEls, formatTime(video.duration));\n      if (timeProgressEls.length) setText(timeProgressEls, formatTime(video.currentTime));\n    }\n    video.addEventListener('timeupdate', updateTimeTexts);\n    video.addEventListener('loadedmetadata', function(){ updateTimeTexts(); maybeSetRatioFromVideo(player, updateSize, video); });\n    video.addEventListener('loadeddata', function(){ maybeSetRatioFromVideo(player, updateSize, video); });\n    video.addEventListener('playing', function(){ maybeSetRatioFromVideo(player, updateSize, video); });\n    video.addEventListener('durationchange', updateTimeTexts);\n\n    // rAF visuals (progress + handle only)\n    var rafId;\n    function updateProgressVisuals() {\n      if (!video.duration) return;\n      var playedPct = (video.currentTime / video.duration) * 100;\n      if (progressBar) progressBar.style.transform = 'translateX(' + (-100 + playedPct) + '%)';\n      if (handle) handle.style.left = playedPct + '%';\n    }\n    function loop() {\n      updateProgressVisuals();\n      if (!video.paused && !video.ended) rafId = requestAnimationFrame(loop);\n    }\n\n    // Buffered bar (not in rAF)\n    function updateBufferedBar() {\n      if (!bufferedBar || !video.duration || !video.buffered.length) return;\n      var end = video.buffered.end(video.buffered.length - 1);\n      var buffPct = (end / video.duration) * 100;\n      bufferedBar.style.transform = 'translateX(' + (-100 + buffPct) + '%)';\n    }\n    video.addEventListener('progress', updateBufferedBar);\n    video.addEventListener('loadedmetadata', updateBufferedBar);\n    video.addEventListener('durationchange', updateBufferedBar);\n\n    // Media event wiring\n    video.addEventListener('play', function() { setActivated(true); cancelAnimationFrame(rafId); loop(); setStatus('playing'); });\n    video.addEventListener('playing', function() { pendingPlay = false; setStatus('playing'); });\n    video.addEventListener('pause', function() { pendingPlay = false; cancelAnimationFrame(rafId); updateProgressVisuals(); setStatus('paused'); });\n    video.addEventListener('waiting', function() { setStatus('loading'); });\n    video.addEventListener('canplay', function() { readyIfIdle(player, pendingPlay); });\n    video.addEventListener('ended', function() { pendingPlay = false; cancelAnimationFrame(rafId); updateProgressVisuals(); setStatus('paused'); setActivated(false); });\n\n    // Scrubbing (pointer events)\n    if (timeline) {\n      var dragging = false, wasPlaying = false, targetTime = 0, lastSeekTs = 0, seekThrottle = 180, rect = null;\n      window.addEventListener('resize', function() { if (!dragging) rect = null; });\n      function getFractionFromX(x) {\n        if (!rect) rect = timeline.getBoundingClientRect();\n        var f = (x - rect.left) / rect.width; if (f < 0) f = 0; if (f > 1) f = 1; return f;\n      }\n      function previewAtFraction(f) {\n        if (!video.duration) return;\n        var pct = f * 100;\n        if (progressBar) progressBar.style.transform = 'translateX(' + (-100 + pct) + '%)';\n        if (handle) handle.style.left = pct + '%';\n        if (timeProgressEls.length) setText(timeProgressEls, formatTime(f * video.duration));\n      }\n      function maybeSeek(now) {\n        if (!video.duration) return;\n        if ((now - lastSeekTs) < seekThrottle) return;\n        lastSeekTs = now; video.currentTime = targetTime;\n      }\n      function onPointerDown(e) {\n        if (!video.duration) return;\n        dragging = true; wasPlaying = !video.paused && !video.ended; if (wasPlaying) video.pause();\n        player.setAttribute('data-timeline-drag', 'true'); rect = timeline.getBoundingClientRect();\n        var f = getFractionFromX(e.clientX); targetTime = f * video.duration; previewAtFraction(f); maybeSeek(performance.now());\n        timeline.setPointerCapture && timeline.setPointerCapture(e.pointerId);\n        window.addEventListener('pointermove', onPointerMove, { passive: false });\n        window.addEventListener('pointerup', onPointerUp, { passive: true });\n        e.preventDefault();\n      }\n      function onPointerMove(e) {\n        if (!dragging) return;\n        var f = getFractionFromX(e.clientX); targetTime = f * video.duration; previewAtFraction(f); maybeSeek(performance.now()); e.preventDefault();\n      }\n      function onPointerUp() {\n        if (!dragging) return;\n        dragging = false; player.setAttribute('data-timeline-drag', 'false'); rect = null; video.currentTime = targetTime;\n        if (wasPlaying) safePlay(video); else { updateProgressVisuals(); updateTimeTexts(); }\n        window.removeEventListener('pointermove', onPointerMove);\n        window.removeEventListener('pointerup', onPointerUp);\n      }\n      timeline.addEventListener('pointerdown', onPointerDown, { passive: false });\n      if (handle) handle.addEventListener('pointerdown', onPointerDown, { passive: false });\n    }\n\n    // Hover/idle detection (pointer-based)\n    var hoverTimer;\n    var hoverHideDelay = 3000;\n    function setHover(state) {\n      if (player.getAttribute('data-player-hover') !== state) {\n        player.setAttribute('data-player-hover', state);\n      }\n    }\n    function scheduleHide() { clearTimeout(hoverTimer); hoverTimer = setTimeout(function() { setHover('idle'); }, hoverHideDelay); }\n    function wakeControls() { setHover('active'); scheduleHide(); }\n    player.addEventListener('pointerdown', wakeControls);\n    document.addEventListener('fullscreenchange', wakeControls);\n    document.addEventListener('webkitfullscreenchange', wakeControls);\n    var trackingMove = false;\n    function onPointerMoveGlobal(e) {\n      var r = player.getBoundingClientRect();\n      if (e.clientX >= r.left && e.clientX <= r.right && e.clientY >= r.top && e.clientY <= r.bottom) wakeControls();\n    }\n    player.addEventListener('pointerenter', function() {\n      wakeControls();\n      if (!trackingMove) { trackingMove = true; window.addEventListener('pointermove', onPointerMoveGlobal, { passive: true }); }\n    });\n    player.addEventListener('pointerleave', function() {\n      setHover('idle'); clearTimeout(hoverTimer);\n      if (trackingMove) { trackingMove = false; window.removeEventListener('pointermove', onPointerMoveGlobal); }\n    });\n\n    // In-view auto play/pause (only when autoplay is true)\n    if (autoplay) {\n      var io = new IntersectionObserver(function(entries) {\n        entries.forEach(function(entry) {\n          var inView = entry.isIntersecting && entry.intersectionRatio > 0;\n\n          if (inView) {\n            if ((isLazyTrue || isLazyMeta) && !isAttached) attachMediaOnce();\n\n            if (video.paused) {\n              // we will attempt to play -> show loading until events flip to playing\n              lastPauseBy = '';\n              pendingPlay = true;\n              setStatus('loading');\n              safePlay(video);\n            } else {\n              // already playing; don't flash loading\n              setStatus('playing');\n            }\n          } else {\n            if (!video.paused && !video.ended) {\n              lastPauseBy = 'io';\n              video.pause();\n              setStatus('paused'); // keep UI honest while out of view\n            }\n          }\n        });\n      }, { threshold: 0.1 });\n\n      io.observe(player);\n    }\n  });\n\n  // Helper: time/text/meta/ratio utilities\n  function pad2(n) { return (n < 10 ? '0' : '') + n; }\n  function formatTime(sec) {\n    if (!isFinite(sec) || sec < 0) return '00:00';\n    var s = Math.floor(sec), h = Math.floor(s / 3600), m = Math.floor((s % 3600) / 60), r = s % 60;\n    return h > 0 ? (h + ':' + pad2(m) + ':' + pad2(r)) : (pad2(m) + ':' + pad2(r));\n  }\n  function setText(nodes, text) { nodes.forEach(function(n){ n.textContent = text; }); }\n\n  // Helper: Choose best HLS level by resolution --- */\n  function bestLevel(levels) {\n    if (!levels || !levels.length) return null;\n    return levels.reduce(function(a, b) { return ((b.width||0) > (a.width||0)) ? b : a; }, levels[0]);\n  }\n\n  // Helper: Safe programmatic play\n  function safePlay(video) {\n    var p = video.play();\n    if (p && typeof p.then === 'function') p.catch(function(){});\n  }\n\n  // Helper: Ready status guard\n  function readyIfIdle(player, pendingPlay) {\n    if (!pendingPlay &&\n        player.getAttribute('data-player-activated') !== 'true' &&\n        player.getAttribute('data-player-status') === 'idle') {\n      player.setAttribute('data-player-status', 'ready');\n    }\n  }\n\n  // Helper: Ratio Setter\n  function setBeforeRatio(player, updateSize, w, h) {\n    if (updateSize !== 'true' || !w || !h) return;\n    var before = player.querySelector('[data-player-before]');\n    if (!before) return;\n    before.style.paddingTop = (h / w * 100) + '%';\n  }\n  function maybeSetRatioFromVideo(player, updateSize, video) {\n    if (updateSize !== 'true') return;\n    var before = player.querySelector('[data-player-before]');\n    if (!before) return;\n    var hasPad = before.style.paddingTop && before.style.paddingTop !== '0%';\n    if (!hasPad && video.videoWidth && video.videoHeight) {\n      setBeforeRatio(player, updateSize, video.videoWidth, video.videoHeight);\n    }\n  }\n\n  // Helper: simple URL resolver\n  function resolveUrl(base, rel) { try { return new URL(rel, base).toString(); } catch(_) { return rel; } }\n\n  // Helper: Unified meta fetch (hls.js or native fetch)\n  function getSourceMeta(src, useHlsJs) {\n    return new Promise(function(resolve) {\n      if (useHlsJs && window.Hls && Hls.isSupported()) {\n        try {\n          var tmp = new Hls();\n          var out = { width: 0, height: 0, duration: NaN };\n          var haveLvls = false, haveDur = false;\n\n          tmp.on(Hls.Events.MANIFEST_PARSED, function(e, data) {\n            var lvls = (data && data.levels) || tmp.levels || [];\n            var best = bestLevel(lvls);\n            if (best && best.width && best.height) { out.width = best.width; out.height = best.height; haveLvls = true; }\n          });\n          tmp.on(Hls.Events.LEVEL_LOADED, function(e, data) {\n            if (data && data.details && isFinite(data.details.totalduration)) { out.duration = data.details.totalduration; haveDur = true; }\n          });\n          tmp.on(Hls.Events.ERROR, function(){ try { tmp.destroy(); } catch(_) {} resolve(out); });\n          tmp.on(Hls.Events.LEVEL_LOADED, function(){ try { tmp.destroy(); } catch(_) {} resolve(out); });\n\n          tmp.loadSource(src);\n          return;\n        } catch(_) {\n          resolve({ width:0, height:0, duration:NaN });\n          return;\n        }\n      }\n\n      function parseMaster(masterText) {\n        var lines = masterText.split(/\\r?\\n/);\n        var bestW = 0, bestH = 0, firstMedia = null, lastInf = null;\n        for (var i=0;i          var line = lines[i];\n          if (line.indexOf('#EXT-X-STREAM-INF:') === 0) {\n            lastInf = line;\n          } else if (lastInf && line && line[0] !== '#') {\n            if (!firstMedia) firstMedia = line.trim();\n            var m = /RESOLUTION=(\\d+)x(\\d+)/.exec(lastInf);\n            if (m) {\n              var w = parseInt(m[1],10), h = parseInt(m[2],10);\n              if (w > bestW) { bestW = w; bestH = h; }\n            }\n            lastInf = null;\n          }\n        }\n        return { bestW: bestW, bestH: bestH, media: firstMedia };\n      }\n      function sumDuration(mediaText) {\n        var dur = 0, re = /#EXTINF:([\\d.]+)/g, m;\n        while ((m = re.exec(mediaText))) dur += parseFloat(m[1]);\n        return dur;\n      }\n\n      fetch(src, { credentials: 'omit', cache: 'no-store' }).then(function(r){\n        if (!r.ok) throw new Error('master');\n        return r.text();\n      }).then(function(master){\n        var info = parseMaster(master);\n        if (!info.media) { resolve({ width: info.bestW||0, height: info.bestH||0, duration: NaN }); return; }\n        var mediaUrl = resolveUrl(src, info.media);\n        return fetch(mediaUrl, { credentials: 'omit', cache: 'no-store' }).then(function(r){\n          if (!r.ok) throw new Error('media');\n          return r.text();\n        }).then(function(mediaText){\n          resolve({ width: info.bestW||0, height: info.bestH||0, duration: sumDuration(mediaText) });\n        });\n      }).catch(function(){ resolve({ width:0, height:0, duration:NaN }); });\n    });\n  }\n}\n\n// Initialize Bunny HTML HLS Player (Advanced)\ndocument.addEventListener('DOMContentLoaded', function() {\n  initBunnyPlayer();\n});\n\nImplementation\n\nHosting videos on Bunny\nFor hosting .m3u8 HLS files we use Bunny.net. It provides a straightforward interface for uploading and managing videos, automatically generating the HLS streams needed by this player. \n\nAbout HLS (.m3u8)\nThis player is built exclusively for HTTP Live Streaming (HLS) sources, which use a .m3u8 playlist file. An .m3u8 playlist describes a sequence of small media chunks (usually .ts or .mp4 segments) and can include multiple quality levels for adaptive streaming. Playback is handled through hls.j on most browsers, or through Safari’s native HLS support on macOS and iOS. Because of this design, the player will not work with regular MP4 files or any format other than .m3u8.\n\nContainer\nThe player is always wrapped in a container marked with [data-bunny-player-init]. Inside this wrapper, the [data-player-src] attribute points to an HLS .m3u8 source. This container becomes the root for all other attributes and UI.\n\nStatus\nThe [data-player-status] attribute reflects the live playback state of the video. This value is never set manually, it updates automatically as the player changes state. You can style your UI based on these statuses to show or hide placeholders, loaders, and controls.\n- idle → The player has been initialized but no media is attached or ready yet. This is the starting state, often where you show a poster or placeholder image.\n- ready → Metadata or manifest information has been loaded, so the video is prepared to start instantly. At this stage, you can show a “ready to play” UI but playback hasn’t started yet.\n- loading → The video is buffering, either while starting playback or resuming from a stall. This is the moment to display a loading indicator or spinner.\n- playing → Playback is running actively. Controls for pause and timeline progress should be visible, and overlays like placeholders should be hidden.\n- paused → Playback has been stopped by the user or has reached the end. Controls for resuming can be emphasized, and depending on your design, the placeholder or play button can reappear.\n\nIn addition, the attribute [data-player-activated=“true|false”] tracks whether the video has ever started once. It switches to true after the first play and resets back to false when the video ends. This lets you hide placeholders only after first play, then bring them back when playback finishes.\n\nPlay / Pause\nElements with [data-player-control=“play”] or [data-player-control=“pause”] control playback explicitly. A play button always attempts to start playback, while a pause button always stops it.\n\n\nPlayPause Toggle\nAn element with [data-player-control=“playpause”] acts as a toggle. When the video is paused, clicking it will start playback; when the video is playing, clicking it will pause. This is the simplest control if you want just one button.\n\n\nMute\nAn element with [data-player-control=“mute”] toggles the mute state. The status attribute [data-player-muted=“true|false”] is updated automatically to reflect the current mute state, so you can style your mute/unmute icon accordingly.\n\n\nFullscreen\nAn element with [data-player-control=“fullscreen”] toggles fullscreen. The status attribute [data-player-fullscreen=“true|false”] is updated automatically whenever the player enters or exits fullscreen, so your UI can adjust to fullscreen mode.\n\nTimeline\nThe interactive seek area is marked with [data-player-timeline]. This is where users can click or drag to change playback position.\n- The element [data-player-progress] shows the portion of the video already played. It updates with a CSS transform (translateX) for smooth animation.\n- The element [data-player-buffered] shows how much of the video is buffered ahead of playback.\n- The element [data-player-timeline-handle] is a draggable knob that follows the current time. Users can drag this handle to scrub through the video.\n- While scrubbing, the player sets [data-timeline-drag=“true”], which you can use to style the timeline differently during user interaction.\n\nDuration & Progress\nTwo attributes provide formatted playback times for display:\n- The attribute [data-player-time-duration] shows the total length of the video. It is automatically formatted as mm:ss for short clips or hh:mm:ss if longer than an hour.\n- The attribute [data-player-time-progress] shows the current playback position, updating continuously during playback and also while scrubbing.\n\nBoth values are updated automatically, so you can place them anywhere in your interface.\n\nLazy Loading\nLoading behavior is controlled with [data-player-lazy]:\n- When set to true, the player defers all loading until the user presses play. Nothing is fetched before interaction.\n- When set to meta, only duration and aspect ratio are preloaded, without attaching the full stream. Playback still waits for the user to press play.\n- When set to false, the player loads the stream eagerly on initialization.\n\n\nAspect Ratio\nThe layout of the player can be stabilized before playback begins:\n- The attribute [data-player-update-size=“true”] calculates the video’s aspect ratio and applies inline padding-top to [data-player-before] to preserve layout.\n- The attribute [data-player-update-size=“cover”] disables this calculation, leaving it up to CSS to cover the container.\n\nHover\nThe [data-player-hover=“active|idle”] attribute reflects whether the user is currently interacting with the player. When the mouse or touch is active, it switches to active, and after a few seconds of inactivity, it returns to idle. This allows you to fade controls in and out automatically depending on interaction.\n\nAutoplay\nEnable autoplay by setting the attribute [data-player-autoplay=“true”]. Videos that autoplay are muted by default to comply with browser policies. When autoplay is enabled the player will loop the video.",
    "id": "custom-bunny-hls-player-advanced"
  },
  {
    "title": "custom-bunny-hls-player-basic",
    "code": "Documentation\n\nSetup: External Scripts\n\n<script src=\"https://cdn.jsdelivr.net/npm/hls.js@1.6.11\">script>\n\nStep 1: Add HTML\n\n<div class=\"bunny-player\" data-bunny-player-init=\"\" data-player-muted=\"false\" data-player-activated=\"false\" data-player-autoplay=\"false\" data-player-hover=\"idle\" data-player-src=\"https://vz-6ed806ff-5e5.b-cdn.net/b6a663de-07c1-4c37-8bb6-0e79fef7fb3c/playlist.m3u8\" data-player-status=\"idle\" data-player-update-size=\"false\" data-player-lazy=\"meta\">\n  <div data-player-before=\"\" class=\"bunny-player__before\">div>\n  <video preload=\"auto\" width=\"1920\" height=\"1080\" playsinline=\"\" class=\"bunny-player__video\">video>\n  <img src=\"https://cdn.prod.website-files.com/68d1258667a36fff8e2a0887/68d12711fc7a7d993a8d46dc_player-placeholder.jpg\" alt=\"\" class=\"bunny-player__placeholder\">\n  <div class=\"bunny-player__dark\">div>\n  <div data-player-control=\"playpause\" class=\"bunny-player__playpause\">\n    <div class=\"bunny-player__big-btn\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"bunny-player__pause-svg\"><path d=\"M16 5V19\" stroke=\"currentColor\" stroke-width=\"3\" stroke-miterlimit=\"10\">path><path d=\"M8 5V19\" stroke=\"currentColor\" stroke-width=\"3\" stroke-miterlimit=\"10\">path>svg>\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"bunny-player__play-svg\"><path d=\"M6 12V5.01109C6 4.05131 7.03685 3.4496 7.87017 3.92579L14 7.42855L20.1007 10.9147C20.9405 11.3945 20.9405 12.6054 20.1007 13.0853L14 16.5714L7.87017 20.0742C7.03685 20.5503 6 19.9486 6 18.9889V12Z\" fill=\"currentColor\">path>svg>\n    div>\n  div>\n  <div class=\"bunny-player__loading\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"L9\" x=\"0px\" y=\"0px\" viewbox=\"0 0 100 100\" enable-background=\"new 0 0 0 0\" xml:space=\"preserve\" width=\"100%\" class=\"bunny-player__loading-svg\" fill=\"none\"><path fill=\"currentColor\" d=\"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50\">path><animatetransform attributename=\"transform\" attributetype=\"XML\" type=\"rotate\" dur=\"1s\" from=\"0 50 50\" to=\"360 50 50\" repeatcount=\"indefinite\">animatetransform>svg>\n  div>\ndiv>\n\nStep 2: Add CSS\n\n.bunny-player {\n  pointer-events: none;\n  color: #fff;\n  isolation: isolate;\n  border-radius: 1em;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  display: flex;\n  position: relative;\n  overflow: hidden;\n  transform: translateX(0);\n}\n\n.bunny-player__before {\n  padding-top: 62.5%;\n}\n\n/* Animation */\n[data-bunny-player-init] :is(.bunny-player__placeholder, .bunny-player__dark, .bunny-player__playpause, .bunny-player__loading) {\n  transition: opacity 0.3s linear, visibility 0.3s linear;\n}\n\n/* Placeholder */\n.bunny-player__placeholder {\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n\n[data-bunny-player-init][data-player-status=\"playing\"] .bunny-player__placeholder,\n[data-bunny-player-init][data-player-status=\"paused\"] .bunny-player__placeholder,\n[data-bunny-player-init][data-player-activated=\"true\"][data-player-status=\"ready\"] .bunny-player__placeholder {\n  opacity: 0;\n  visibility: hidden;\n}\n\n/* Dark Overlay */\n.bunny-player__dark {\n  opacity: .1;\n  background-color: #000;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n\n[data-bunny-player-init][data-player-status=\"paused\"] .bunny-player__dark,\n[data-bunny-player-init][data-player-status=\"playing\"][data-player-hover=\"active\"] .bunny-player__dark{\n  opacity: 0.3;\n}\n\n[data-bunny-player-init][data-player-status=\"playing\"] .bunny-player__dark {\n  opacity: 0;\n}\n\n.bunny-player__video {\n  width: 100%;\n  height: 100%;\n  padding-bottom: 0;\n  padding-right: 0;\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n/* Play/Pause */\n.bunny-player__playpause {\n  pointer-events: auto;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  position: absolute;\n}\n\n[data-bunny-player-init][data-player-status=\"playing\"] .bunny-player__playpause,\n[data-bunny-player-init][data-player-status=\"loading\"] .bunny-player__playpause {\n  opacity: 0;\n}\n\n[data-bunny-player-init][data-player-status=\"playing\"][data-player-hover=\"active\"] .bunny-player__playpause {\n  opacity: 1;\n}\n\n[data-bunny-player-init][data-player-status=\"playing\"] .bunny-player__play-svg,\n[data-bunny-player-init][data-player-status=\"loading\"] .bunny-player__play-svg {\n  display: none;\n}\n\n[data-bunny-player-init][data-player-status=\"playing\"] .bunny-player__pause-svg,\n[data-bunny-player-init][data-player-status=\"loading\"] .bunny-player__pause-svg{\n  display: block;\n}\n\n.bunny-player__toggle-playpause {\n  cursor: pointer;\n  width: 1.5em;\n  height: 1.5em;\n}\n\n.bunny-player__big-btn {\n  -webkit-backdrop-filter: blur(1em);\n  backdrop-filter: blur(1em);\n  cursor: pointer;\n  background-color: #64646433;\n  border: 1px solid #ffffff1a;\n  border-radius: 50%;\n  justify-content: center;\n  align-items: center;\n  width: 6em;\n  height: 6em;\n  padding: 2em;\n  display: flex;\n  position: relative;\n}\n\n.bunny-player__loading-svg {\n  width: 6em;\n}\n\n.bunny-player__pause-svg {\n  display: none;\n}\n\n@media screen and (max-width: 767px) {\n  .bunny-player__big-btn {\n    width: 20vw;\n    height: 20vw;\n    padding: 6vw;\n  }\n}\n\n/* Cover Mode */\n[data-bunny-player-init][data-player-update-size=\"cover\"] {\n  height: 100%;\n  top: 0;\n  left: 0;\n  position: absolute;\n}\n\n[data-bunny-player-init][data-player-update-size=\"cover\"] [data-player-before] {\n  display: none;\n}\n\n[data-bunny-player-init][data-player-update-size=\"cover\"][data-player-fullscreen=\"false\"] .bunny-player__video {\n  object-fit: cover;\n}\n\n/* Loading */\n.bunny-player__loading {\n  opacity: 0;\n  visibility: hidden;\n  background-color: #00000054;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  position: absolute;\n}\n\n[data-bunny-player-init][data-player-status=\"loading\"] .bunny-player__loading {\n  opacity: 1;\n  visibility: visible;\n}\n\nStep 2: Add custom Javascript\n\nfunction initBunnyPlayerBasic() {\n  document.querySelectorAll('[data-bunny-player-init]').forEach(function(player) {\n    var src = player.getAttribute('data-player-src');\n    if (!src) return;\n\n    var video = player.querySelector('video');\n    if (!video) return;\n\n    try { video.pause(); } catch(_) {}\n    try { video.removeAttribute('src'); video.load(); } catch(_) {}\n\n    // Attribute helpers\n    function setStatus(s) {\n      if (player.getAttribute('data-player-status') !== s) {\n        player.setAttribute('data-player-status', s);\n      }\n    }\n    function setActivated(v) { player.setAttribute('data-player-activated', v ? 'true' : 'false'); }\n    if (!player.hasAttribute('data-player-activated')) setActivated(false);\n\n    // Flags\n    var updateSize = player.getAttribute('data-player-update-size'); // \"true\" | \"cover\" | null\n    var lazyMode   = player.getAttribute('data-player-lazy');        // \"true\" | \"meta\" | null\n    var isLazyTrue = lazyMode === 'true';\n    var isLazyMeta = lazyMode === 'meta';\n    var autoplay   = player.getAttribute('data-player-autoplay') === 'true';\n\n    // Used to suppress 'ready' flicker when user just pressed play in lazy modes\n    var pendingPlay = false;\n\n    // Autoplay forces muted + loop; IO will drive play/pause\n    video.muted = !!autoplay;\n    if (autoplay) video.loop = true;\n\n    video.setAttribute('muted', '');\n    video.setAttribute('playsinline', '');\n    video.setAttribute('webkit-playsinline', '');\n    video.playsInline = true;\n    if (typeof video.disableRemotePlayback !== 'undefined') video.disableRemotePlayback = true;\n    if (autoplay) video.autoplay = false;\n\n    var isSafariNative = !!video.canPlayType('application/vnd.apple.mpegurl');\n    var canUseHlsJs    = !!(window.Hls && Hls.isSupported()) && !isSafariNative;\n\n    // Minimal ratio fetch when requested (and not already handled by lazy meta)\n    if (updateSize === 'true' && !isLazyMeta) {\n      if (isLazyTrue) {\n        // Do nothing: no fetch, no  touch when lazy=true\n      } else {\n        var prev = video.preload;\n        video.preload = 'metadata';\n        var onMeta2 = function() {\n          setBeforeRatio(player, updateSize, video.videoWidth, video.videoHeight);\n          video.removeEventListener('loadedmetadata', onMeta2);\n          video.preload = prev || '';\n        };\n        video.addEventListener('loadedmetadata', onMeta2, { once: true });\n        video.src = src;\n      }\n    }\n\n    //  Lazy meta fetch (duration + aspect) without attaching playback\n    function fetchMetaOnce() {\n      getSourceMeta(src, canUseHlsJs).then(function(meta){\n        if (meta.width && meta.height) setBeforeRatio(player, updateSize, meta.width, meta.height);\n        readyIfIdle(player, pendingPlay);\n      });\n    }\n\n    // Attach media only once (for actual playback)\n    var isAttached = false;\n    var userInteracted = false;\n    var lastPauseBy = ''; // 'io' | 'manual' | ''\n    function attachMediaOnce() {\n      if (isAttached) return;\n      isAttached = true;\n\n      if (player._hls) { try { player._hls.destroy(); } catch(_) {} player._hls = null; }\n\n      if (isSafariNative) {\n        video.preload = (isLazyTrue || isLazyMeta) ? 'auto' : video.preload;\n        video.src = src;\n        video.addEventListener('loadedmetadata', function() {\n          readyIfIdle(player, pendingPlay);\n          if (updateSize === 'true') setBeforeRatio(player, updateSize, video.videoWidth, video.videoHeight);\n        }, { once: true });\n      } else if (canUseHlsJs) {\n        var hls = new Hls({ maxBufferLength: 10 });\n        hls.attachMedia(video);\n        hls.on(Hls.Events.MEDIA_ATTACHED, function() { hls.loadSource(src); });\n        hls.on(Hls.Events.MANIFEST_PARSED, function() {\n          readyIfIdle(player, pendingPlay);\n          if (updateSize === 'true') {\n            var lvls = hls.levels || [];\n            var best = bestLevel(lvls);\n            if (best && best.width && best.height) setBeforeRatio(player, updateSize, best.width, best.height);\n          }\n        });\n        player._hls = hls;\n      } else {\n        // Fallback if not HLS\n        video.src = src;\n      }\n    }\n\n    // Initialize based on lazy mode\n    if (isLazyMeta) {\n      if (updateSize === 'true') fetchMetaOnce();\n      video.preload = 'none';\n    } else if (isLazyTrue) {\n      video.preload = 'none';\n    } else {\n      attachMediaOnce();\n    }\n\n    // Toggle play/pause\n    function togglePlay() {\n      userInteracted = true;\n      if (video.paused || video.ended) {\n        if ((isLazyTrue || isLazyMeta) && !isAttached) attachMediaOnce();\n        pendingPlay = true;\n        lastPauseBy = '';\n        setStatus('loading');\n        safePlay(video);\n      } else {\n        lastPauseBy = 'manual';\n        video.pause();\n      }\n    }\n    \n    // Toggle mute\n    function toggleMute() {\n      video.muted = !video.muted;\n      player.setAttribute('data-player-muted', video.muted ? 'true' : 'false');\n    }\n\n    // Controls (delegated)\n    player.addEventListener('click', function(e) {\n      var btn = e.target.closest('[data-player-control]');\n      if (!btn || !player.contains(btn)) return;\n      var type = btn.getAttribute('data-player-control');\n      if (type === 'play' || type === 'pause' || type === 'playpause') togglePlay();\n      else if (type === 'mute') toggleMute();\n    });\n\n    // Media event wiring\n    video.addEventListener('play', function() { setActivated(true); setStatus('playing'); });\n    video.addEventListener('playing', function() { pendingPlay = false; setStatus('playing'); });\n    video.addEventListener('pause', function() { pendingPlay = false; setStatus('paused'); });\n    video.addEventListener('waiting', function() { setStatus('loading'); });\n    video.addEventListener('canplay', function() { readyIfIdle(player, pendingPlay); });\n    video.addEventListener('ended', function() { pendingPlay = false; setStatus('paused'); setActivated(false); });\n\n    // Ensure aspect ratio updates as soon as real dimensions exist (lazy=true path included)\n    var ratioSet = false;\n    function maybeSetRatioOnce() {\n      if (ratioSet || updateSize !== 'true') return;\n      var before = player.querySelector('[data-player-before]');\n      if (!before) return;\n      if (video.videoWidth && video.videoHeight) {\n        before.style.paddingTop = (video.videoHeight / video.videoWidth * 100) + '%';\n        ratioSet = true;\n      }\n    }\n    video.addEventListener('loadedmetadata', function(){ maybeSetRatioOnce(); });\n    video.addEventListener('loadeddata',    function(){ maybeSetRatioOnce(); });\n    video.addEventListener('playing',       function(){ maybeSetRatioOnce(); });\n\n    // Hover (basic: active on enter, idle on leave)\n    function setHover(state) {\n      if (player.getAttribute('data-player-hover') !== state) {\n        player.setAttribute('data-player-hover', state);\n      }\n    }\n    player.addEventListener('pointerenter', function(){ setHover('active'); });\n    player.addEventListener('pointerleave', function(){ setHover('idle'); });\n\n    // In-view auto play/pause (only when autoplay is true)\n    if (autoplay) {\n      var io = new IntersectionObserver(function(entries) {\n        entries.forEach(function(entry) {\n          var inView = entry.isIntersecting && entry.intersectionRatio > 0;\n          if (inView) {\n            if ((isLazyTrue || isLazyMeta) && !isAttached) attachMediaOnce();\n            if ((lastPauseBy === 'io') || (video.paused && lastPauseBy !== 'manual')) {\n              setStatus('loading');\n              if (video.paused) togglePlay();\n              lastPauseBy = '';\n            }\n          } else {\n            if (!video.paused && !video.ended) {\n              lastPauseBy = 'io';\n              video.pause();\n            }\n          }\n        });\n      }, { threshold: 0.1 });\n      io.observe(player);\n    }\n  });\n\n  // Helper: Ready status guard\n  function readyIfIdle(player, pendingPlay) {\n    if (!pendingPlay &&\n        player.getAttribute('data-player-activated') !== 'true' &&\n        player.getAttribute('data-player-status') === 'idle') {\n      player.setAttribute('data-player-status', 'ready');\n    }\n  }\n\n  // Helper: Ratio setter\n  function setBeforeRatio(player, updateSize, w, h) {\n    if (updateSize !== 'true' || !w || !h) return;\n    var before = player.querySelector('[data-player-before]');\n    if (!before) return;\n    before.style.paddingTop = (h / w * 100) + '%';\n  }\n  function maybeSetRatioFromVideo(player, updateSize, video) {\n    if (updateSize !== 'true') return;\n    var before = player.querySelector('[data-player-before]');\n    if (!before) return;\n    var hasPad = before.style.paddingTop && before.style.paddingTop !== '0%';\n    if (!hasPad && video.videoWidth && video.videoHeight) {\n      setBeforeRatio(player, updateSize, video.videoWidth, video.videoHeight);\n    }\n  }\n\n  // Helper: best HLS level by resolution\n  function bestLevel(levels) {\n    if (!levels || !levels.length) return null;\n    return levels.reduce(function(a, b) { return ((b.width||0) > (a.width||0)) ? b : a; }, levels[0]);\n  }\n\n  // Helper: safe programmatic play\n  function safePlay(video) {\n    var p = video.play();\n    if (p && typeof p.then === 'function') p.catch(function(){});\n  }\n\n  // Helper: simple URL resolver\n  function resolveUrl(base, rel) { try { return new URL(rel, base).toString(); } catch(_) { return rel; } }\n\n  // Helper: unified meta fetch (hls.js or native fetch)\n  function getSourceMeta(src, useHlsJs) {\n    return new Promise(function(resolve) {\n      if (useHlsJs && window.Hls && Hls.isSupported()) {\n        try {\n          var tmp = new Hls();\n          var out = { width: 0, height: 0, duration: NaN };\n\n          tmp.on(Hls.Events.MANIFEST_PARSED, function(e, data) {\n            var lvls = (data && data.levels) || tmp.levels || [];\n            var best = bestLevel(lvls);\n            if (best && best.width && best.height) { out.width = best.width; out.height = best.height; }\n          });\n          tmp.on(Hls.Events.LEVEL_LOADED, function(e, data) {\n            if (data && data.details && isFinite(data.details.totalduration)) { out.duration = data.details.totalduration; }\n          });\n          tmp.on(Hls.Events.ERROR, function(){ try { tmp.destroy(); } catch(_) {} resolve(out); });\n          tmp.on(Hls.Events.LEVEL_LOADED, function(){ try { tmp.destroy(); } catch(_) {} resolve(out); });\n\n          tmp.loadSource(src);\n          return;\n        } catch(_) { resolve({ width:0, height:0, duration:NaN }); return; }\n      }\n\n      function parseMaster(masterText) {\n        var lines = masterText.split(/\\r?\\n/);\n        var bestW = 0, bestH = 0, firstMedia = null, lastInf = null;\n        for (var i=0;i          var line = lines[i];\n          if (line.indexOf('#EXT-X-STREAM-INF:') === 0) {\n            lastInf = line;\n          } else if (lastInf && line && line[0] !== '#') {\n            if (!firstMedia) firstMedia = line.trim();\n            var m = /RESOLUTION=(\\d+)x(\\d+)/.exec(lastInf);\n            if (m) {\n              var w = parseInt(m[1],10), h = parseInt(m[2],10);\n              if (w > bestW) { bestW = w; bestH = h; }\n            }\n            lastInf = null;\n          }\n        }\n        return { bestW: bestW, bestH: bestH, media: firstMedia };\n      }\n      function sumDuration(mediaText) {\n        var dur = 0, re = /#EXTINF:([\\d.]+)/g, m;\n        while ((m = re.exec(mediaText))) dur += parseFloat(m[1]);\n        return dur;\n      }\n\n      fetch(src, { credentials: 'omit', cache: 'no-store' }).then(function(r){\n        if (!r.ok) throw new Error('master');\n        return r.text();\n      }).then(function(master){\n        var info = parseMaster(master);\n        if (!info.media) { resolve({ width: info.bestW||0, height: info.bestH||0, duration: NaN }); return; }\n        var mediaUrl = resolveUrl(src, info.media);\n        return fetch(mediaUrl, { credentials: 'omit', cache: 'no-store' }).then(function(r){\n          if (!r.ok) throw new Error('media');\n          return r.text();\n        }).then(function(mediaText){\n          resolve({ width: info.bestW||0, height: info.bestH||0, duration: sumDuration(mediaText) });\n        });\n      }).catch(function(){ resolve({ width:0, height:0, duration:NaN }); });\n    });\n  }\n}\n\n// Initialize Bunny HTML HLS Player (Basic)\ndocument.addEventListener('DOMContentLoaded', function() {\n  initBunnyPlayerBasic();\n});\n\nImplementation\n\nHosting videos on Bunny\nFor hosting .m3u8 HLS files we use Bunny.net. It provides a straightforward interface for uploading and managing videos, automatically generating the HLS streams needed by this player. \n\nAbout HLS (.m3u8)\nThis player is built exclusively for HTTP Live Streaming (HLS) sources, which use a .m3u8 playlist file. An .m3u8 playlist describes a sequence of small media chunks (usually .ts or .mp4 segments) and can include multiple quality levels for adaptive streaming. Playback is handled through hls.j on most browsers, or through Safari’s native HLS support on macOS and iOS. Because of this design, the player will not work with regular MP4 files or any format other than .m3u8.\n\nContainer\nThe player is always wrapped in a container marked with [data-bunny-player-init]. Inside this wrapper, the [data-player-src] attribute points to an HLS .m3u8 source. This container becomes the root for all other attributes and UI.\n\nStatus\nThe [data-player-status] attribute reflects the live playback state of the video. This value is never set manually, it updates automatically as the player changes state. You can style your UI based on these statuses to show or hide placeholders, loaders, and controls.\n- idle → The player has been initialized but no media is attached or ready yet. This is the starting state, often where you show a poster or placeholder image.\n- ready → Metadata or manifest information has been loaded, so the video is prepared to start instantly. At this stage, you can show a “ready to play” UI but playback hasn’t started yet.\n- loading → The video is buffering, either while starting playback or resuming from a stall. This is the moment to display a loading indicator or spinner.\n- playing → Playback is running actively. Controls and overlays like placeholders should be hidden.\n- paused → Playback has been stopped by the user or has reached the end. Controls for resuming can be emphasized, and depending on your design, the placeholder or play button can reappear.\n\nIn addition, the attribute [data-player-activated=“true|false”] tracks whether the video has ever started once. It switches to true after the first play and resets back to false when the video ends. This lets you hide placeholders only after first play, then bring them back when playback finishes.\n\nPlay / Pause\nElements with [data-player-control=“play”] or [data-player-control=“pause”] control playback explicitly. A play button always attempts to start playback, while a pause button always stops it.\n\n\nPlayPause Toggle\nAn element with [data-player-control=“playpause”] acts as a toggle. When the video is paused, clicking it will start playback; when the video is playing, clicking it will pause. This is the simplest control if you want just one button.\n\nMute\nAn element with [data-player-control=“mute”] toggles the mute state. The status attribute [data-player-muted=“true|false”] is updated automatically to reflect the current mute state, so you can style your mute/unmute icon accordingly.\n\n\nLazy Loading\nLoading behavior is controlled with [data-player-lazy]:\n- When set to true, the player defers all loading until the user presses play. Nothing is fetched before interaction.\n- When set to meta, only duration and aspect ratio are preloaded, without attaching the full stream. Playback still waits for the user to press play.\n- When set to false, the player loads the stream eagerly on initialization.\n\n\nAspect Ratio\nThe layout of the player can be stabilized before playback begins:\n- The attribute [data-player-update-size=“true”] calculates the video’s aspect ratio and applies inline padding-top to [data-player-before] to preserve layout.\n- The attribute [data-player-update-size=“cover”] disables this calculation, leaving it up to CSS to cover the container.\n\nHover\nThe [data-player-hover=“active|idle”] attribute reflects whether the user is currently interacting with the player. When the mouse or touch is active, it switches to active, and after a few seconds of inactivity, it returns to idle. This allows you to fade controls in and out automatically depending on interaction.\nAutoplay\n\nAutoplay\nEnable autoplay by setting the attribute [data-player-autoplay=“true”]. Videos that autoplay are muted by default to comply with browser policies. When autoplay is enabled the player will loop the video.",
    "id": "custom-bunny-hls-player-basic"
  },
  {
    "title": "custom-vimeo-lightbox-advanced",
    "code": "Documentation\n\nSetup: External Scripts\n\n<script src=\"https://player.vimeo.com/api/player.js\">script>\n\nStep 1: Add HTML\n\n<div class=\"vimeo-lightbox\" data-vimeo-lightbox-init=\"\" data-vimeo-activated=\"false\" data-vimeo-playing=\"false\" data-vimeo-fullscreen=\"false\" data-vimeo-hover=\"false\" data-vimeo-loaded=\"false\" data-vimeo-update-size=\"true\" data-vimeo-muted=\"false\">\n  <div data-vimeo-lightbox-control=\"close\" class=\"vimeo-lightbox__bg\">\n    <svg class=\"vimeo-lightbox__loading-svg\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"L9\" x=\"0px\" y=\"0px\" viewbox=\"0 0 100 100\" enable-background=\"new 0 0 0 0\" xml:space=\"preserve\" width=\"100%\"><path fill=\"currentColor\" d=\"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50\">path><animatetransform attributename=\"transform\" attributetype=\"XML\" type=\"rotate\" dur=\"1s\" from=\"0 50 50\" to=\"360 50 50\" repeatcount=\"indefinite\">animatetransform>svg>\n  div>\n  <div class=\"vimeo-lightbox__calc\">\n    <div class=\"vimeo-lightbox__calc-wrap\">\n      <div data-vimeo-lightbox-player=\"\" class=\"vimeo-lightbox__player\">\n        <div class=\"vimeo-lightbox__before\">div>\n        <iframe src=\"\" width=\"640\" height=\"360\" frameborder=\"0\" allowfullscreen=\"true\" allow=\"autoplay; encrypted-media\" class=\"vimeo-lightbox__iframe\">iframe>\n        <img src=\"https://d3e54v103j8qbb.cloudfront.net/plugins/Basic/assets/placeholder.60f9b1840c.svg\" loading=\"lazy\" alt=\"\" class=\"vimeo-lightbox__placeholder\">\n        <div class=\"vimeo-lightbox__dark\">div>\n        <div data-vimeo-control=\"play\" class=\"vimeo-lightbox__play\">\n          <div class=\"vimeo-lightbox__btn\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"vimeo-lightbox__btn-play-svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M6.38178 6.13982C6.40762 5.94017 6.48425 5.74878 6.60555 5.58089C6.72686 5.413 6.88949 5.27326 7.08049 5.17279C7.2715 5.07232 7.48559 5.01391 7.70574 5.00219C7.92587 4.99048 8.14597 5.02579 8.3485 5.10532C9.37235 5.50436 11.6669 6.45272 14.5784 7.98469C17.4908 9.51754 19.5395 10.8562 20.4294 11.4635C21.1891 11.9829 21.191 13.013 20.4304 13.5342C19.5491 14.1381 17.5256 15.4591 14.5784 17.0113C11.6283 18.5635 9.36078 19.5005 8.34657 19.8942C7.47311 20.2343 6.49554 19.7183 6.38178 18.8597C6.24873 17.856 6 15.5769 6 12.4989C6 9.42262 6.24777 7.14443 6.38178 6.13982Z\" fill=\"currentColor\">path>svg>\n          div>\n        div>\n        <div data-vimeo-control=\"pause\" class=\"vimeo-lightbox__pause\">\n          <div class=\"vimeo-lightbox__btn\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"vimeo-lightbox__btn-pause-svg\"><path d=\"M8 6.5C8 6.22386 8.22386 6 8.5 6H10.5C10.7761 6 11 6.22386 11 6.5V17.5C11 17.7761 10.7761 18 10.5 18H8.5C8.22386 18 8 17.7761 8 17.5V6.5Z\" fill=\"currentColor\">path><path d=\"M14 6.5C14 6.22386 14.2239 6 14.5 6H16.5C16.7761 6 17 6.22386 17 6.5V17.5C17 17.7761 16.7761 18 16.5 18H14.5C14.2239 18 14 17.7761 14 17.5V6.5Z\" fill=\"currentColor\">path>svg>\n          div>\n        div>\n        <div class=\"vimeo-lightbox__interface\">\n          <div class=\"vimeo-lightbox__interface-bottom\">\n            <div class=\"vimeo-lightbox__duration\">\n              <span data-vimeo-duration=\"\" class=\"vimeo-lightbox__duration-span\">0:00span>\n            div>\n            <div class=\"vimeo-lightbox__timeline\">\n              <progress min=\"0\" max=\"100\" value=\"0\" class=\"vimeo-lightbox__timeline-progress\">progress>\n              <input type=\"range\" min=\"0\" max=\"100\" step=\"0.01\" data-vimeo-control=\"timeline\" class=\"vimeo-lightbox__timeline-input\" value=\"0\">\n            div>\n            <div data-vimeo-control=\"mute\" class=\"vimeo-lightbox__mute\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"vimeo-lightbox__volume-up-svg\"><path d=\"M3 8.99998V15H7L12 20V3.99998L7 8.99998H3ZM16.5 12C16.5 10.23 15.48 8.70998 14 7.96998V16.02C15.48 15.29 16.5 13.77 16.5 12ZM14 3.22998V5.28998C16.89 6.14998 19 8.82998 19 12C19 15.17 16.89 17.85 14 18.71V20.77C18.01 19.86 21 16.28 21 12C21 7.71998 18.01 4.13998 14 3.22998Z\" fill=\"currentColor\">path>svg>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"vimeo-lightbox__volume-mute-svg\"><path d=\"M16.5 12C16.5 10.23 15.48 8.71 14 7.97V10.18L16.45 12.63C16.48 12.43 16.5 12.22 16.5 12ZM19 12C19 12.94 18.8 13.82 18.46 14.64L19.97 16.15C20.63 14.91 21 13.5 21 12C21 7.72 18.01 4.14 14 3.23V5.29C16.89 6.15 19 8.83 19 12ZM4.27 3L3 4.27L7.73 9H3V15H7L12 20V13.27L16.25 17.52C15.58 18.04 14.83 18.45 14 18.7V20.76C15.38 20.45 16.63 19.81 17.69 18.95L19.73 21L21 19.73L12 10.73L4.27 3ZM12 4L9.91 6.09L12 8.18V4Z\" fill=\"currentColor\">path>svg>\n            div>\n            <div class=\"vimeo-lightbox__fullscreen\" data-vimeo-control=\"fullscreen\">\n              <svg class=\"vimeo-lightbox__fullscreen-scale-svg\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" ><rect x=\"3\" y=\"14\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"3\" y=\"3\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"19\" y=\"3\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"19\" y=\"14\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"3\" y=\"19\" width=\"7\" height=\"2\" fill=\"currentColor\">rect><rect x=\"14\" y=\"19\" width=\"7\" height=\"2\" fill=\"currentColor\">rect><rect x=\"3\" y=\"3\" width=\"7\" height=\"2\" fill=\"currentColor\">rect><rect x=\"14\" y=\"3\" width=\"7\" height=\"2\" fill=\"currentColor\">rect>svg>\n              <svg class=\"vimeo-lightbox__fullscreen-shrink-svg\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\"><rect x=\"7\" y=\"2\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"15\" y=\"2\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"15\" y=\"15\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"8\" y=\"15\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"2\" y=\"7\" width=\"7\" height=\"2\" fill=\"currentColor\">rect><rect x=\"3\" y=\"15\" width=\"7\" height=\"2\" fill=\"currentColor\">rect><rect x=\"15\" y=\"7\" width=\"7\" height=\"2\" fill=\"currentColor\">rect><rect x=\"15\" y=\"15\" width=\"7\" height=\"2\" fill=\"currentColor\">rect>svg>\n            div>\n          div>\n        div>\n        <div class=\"vimeo-lightbox__loading\">\n          <svg class=\"vimeo-lightbox__loading-svg\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"L9\" x=\"0px\" y=\"0px\" viewbox=\"0 0 100 100\" enable-background=\"new 0 0 0 0\" xml:space=\"preserve\" width=\"100%\"><path fill=\"currentColor\" d=\"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50\">path><animatetransform attributename=\"transform\" attributetype=\"XML\" type=\"rotate\" dur=\"1s\" from=\"0 50 50\" to=\"360 50 50\" repeatcount=\"indefinite\">animatetransform>svg>\n        div>\n      div>\n    div>\n  div>\n  <button data-vimeo-lightbox-control=\"close\" class=\"vimeo-lightbox__close\"><div class=\"vimeo-lightbox__close-bar\">div><div class=\"vimeo-lightbox__close-bar is--duplicate\">div>button>\ndiv>\n\nStep 2: Add CSS\n\n.vimeo-lightbox {\n  z-index: 300;\n  pointer-events: none;\n  justify-content: center;\n  align-items: center;\n  padding: 5vw;\n  display: flex;\n  position: fixed;\n  inset: 0;\n  overflow: hidden;\n}\n\n.vimeo-lightbox__calc {\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  position: relative;\n}\n\n.vimeo-lightbox__calc-wrap {\n  width: 100%;\n  position: relative;\n}\n\n/* Cover */\n.vimeo-lightbox[data-vimeo-update-size=\"cover\"] .vimeo-lightbox__calc-wrap {\n  height: 100%;\n}\n\n.vimeo-lightbox[data-vimeo-update-size=\"cover\"] [data-vimeo-lightbox-player] {\n  width: 100%;\n  min-width: 100%;\n  max-width: 100%;\n  height: 100%;\n  min-height: 100%;\n  max-height: 100%;\n}\n\n.vimeo-lightbox__player {\n  pointer-events: auto;\n  color: #efeeec;\n  isolation: isolate;\n  background-color: #131313;\n  border-radius: 1em;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  display: flex;\n  position: relative;\n  overflow: hidden;\n  transition: all 0.3s cubic-bezier(0.625, 0.05, 0, 1);\n  opacity: 0;\n  visibility: hidden;\n  transform: scale(0.9) rotate(0.001deg) translateX(0);\n}\n\n.vimeo-lightbox[data-vimeo-activated=\"true\"] .vimeo-lightbox__player {\n  opacity: 1;\n  visibility: visible;\n  transform: scale(1) rotate(0.001deg) translateX(0);\n}\n\n.vimeo-lightbox__before {\n  padding-top: 62.5%;\n}\n\n/* Dark BG */\n.vimeo-lightbox__bg {\n  pointer-events: auto;\n  background-color: #131313;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  position: absolute;\n  top: 0;\n  left: 0;\n  transition: all 0.3s cubic-bezier(0.625, 0.05, 0, 1);\n  opacity: 0;\n  visibility: hidden;\n}\n\n.vimeo-lightbox[data-vimeo-activated=\"loading\"] .vimeo-lightbox__bg,\n.vimeo-lightbox[data-vimeo-activated=\"true\"] .vimeo-lightbox__bg{\n  opacity: 1;\n  visibility: visible;\n}\n\n/* Close Button */\n.vimeo-lightbox__close {\n  z-index: 600;\n  pointer-events: auto;\n  border-radius: 50%;\n  justify-content: center;\n  align-items: center;\n  width: 3em;\n  height: 3em;\n  display: flex;\n  position: absolute;\n  top: 2.5vw;\n  right: 2.5vw;\n  transition: all 0.5s cubic-bezier(0.625, 0.05, 0, 1);\n  opacity: 0;\n  visibility: hidden;\n}\n\n.vimeo-lightbox[data-vimeo-activated=\"true\"] .vimeo-lightbox__close {\n  opacity: 1;\n  visibility: visible;\n}\n\n.vimeo-lightbox__close-bar {\n  background-color: currentColor;\n  width: 1em;\n  height: .125em;\n  position: absolute;\n  transform: rotate(-45deg);\n}\n\n.vimeo-lightbox__close-bar.is--duplicate {\n  transform: rotate(45deg);\n}\n\n.vimeo-lightbox__iframe {\n  pointer-events: none;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n\n/* Loading */\n.vimeo-lightbox__loading {\n  pointer-events: none;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  transition: opacity .3s linear;\n  display: flex;\n  position: absolute;\n  opacity: 0;\n}\n\n.vimeo-lightbox__loading-svg {\n  color: #ff4c24;\n  width: 6em;\n}\n\n.vimeo-lightbox__loading-svg {\n  color: #ff4c24;\n  width: 6em;\n}\n\n.vimeo-lightbox[data-vimeo-playing=\"true\"] .vimeo-lightbox__loading {\n  opacity: 1;\n}\n\n.vimeo-lightbox[data-vimeo-playing=\"true\"][data-vimeo-loaded=\"true\"] .vimeo-lightbox__loading {\n  opacity: 0;\n}\n\n/* Dark (Overlay) */\n.vimeo-lightbox__dark {\n  opacity: .5;\n  pointer-events: none;\n  background-color: #131313;\n  width: 100%;\n  height: 100%;\n  transition: opacity .3s linear;\n  position: absolute;\n}\n\n.vimeo-lightbox[data-vimeo-playing=\"false\"] .vimeo-lightbox__dark {\n  opacity: 0.33;\n}\n\n.vimeo-lightbox[data-vimeo-activated=\"false\"][data-vimeo-playing=\"false\"] .vimeo-lightbox__dark {\n  opacity: 0;\n}\n\n.vimeo-lightbox[data-vimeo-activated=\"true\"][data-vimeo-loaded=\"true\"] .vimeo-lightbox__dark {\n  opacity: 0;\n}\n\n@media (hover: hover) and (pointer: fine) {\n  .vimeo-lightbox[data-vimeo-hover=\"true\"]:hover .vimeo-lightbox__dark {\n    opacity: 0.33 !important;\n  }\n}\n\n/* Placeholder */\n.vimeo-lightbox__placeholder {\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n  transition: opacity .3s linear;\n  display: block;\n  position: absolute;\n}\n\n.vimeo-lightbox[data-vimeo-loaded=\"true\"] .vimeo-lightbox__placeholder {\n  opacity: 0;\n}\n\n.vimeo-lightbox__play, .vimeo-lightbox__pause {\n  cursor: pointer;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  position: absolute;\n}\n\n.vimeo-lightbox__btn {\n  -webkit-backdrop-filter: blur(1em);\n  backdrop-filter: blur(1em);\n  background-color: #64646433;\n  border-radius: 50%;\n  justify-content: center;\n  align-items: center;\n  width: 6em;\n  height: 6em;\n  transition: opacity .3s linear;\n  display: flex;\n  position: relative;\n}\n\n.vimeo-lightbox__btn-play-svg {\n  width: 40%;\n}\n\n.vimeo-lightbox__btn-pause-svg {\n  width: 50%;\n}\n\n/* Pause */\n.vimeo-lightbox .vimeo-lightbox__pause {\n  display: none;\n}\n\n.vimeo-lightbox[data-vimeo-playing=\"true\"] .vimeo-lightbox__pause {\n  display: flex;\n}\n\n.vimeo-lightbox .vimeo-lightbox__pause .vimeo-lightbox__btn {\n  opacity: 0;\n}\n\n.vimeo-lightbox[data-vimeo-activated=\"true\"][data-vimeo-playing=\"false\"] .vimeo-lightbox__pause .vimeo-lightbox__btn,\n.vimeo-lightbox[data-vimeo-activated=\"true\"][data-vimeo-hover=\"true\"]:hover .vimeo-lightbox__pause .vimeo-lightbox__btn {\n  opacity: 1;\n}\n\n@media (hover: none) and (pointer: coarse) {\n  .vimeo-lightbox[data-vimeo-activated=\"true\"][data-vimeo-playing=\"true\"] .vimeo-lightbox__pause .vimeo-lightbox__btn {\n    opacity: 0 !important;\n  }\n}\n\n/* Play */\n.vimeo-lightbox[data-vimeo-playing=\"true\"] .vimeo-lightbox__play {\n  opacity: 0;\n}\n\n/* Interface - Variables */\n.vimeo-lightbox {\n  --timeline-rounded-corners: 1.5em;\n  --timeline-dot-height: 0.75em;\n  --timeline-dot-color: #FF4C24;\n  --progress-bg: rgba(239, 238, 236, 0.2);\n  --progress-fill-bg: #FF4C24;\n  --progress-height: 0.2em;\n}\n\n.vimeo-lightbox__interface {\n  pointer-events: none;\n  flex-flow: column;\n  justify-content: flex-end;\n  align-items: stretch;\n  width: 100%;\n  height: 100%;\n  padding: min(2em, 4vw);\n  transition-property: opacity;\n  transition-duration: .3s;\n  transition-timing-function: linear;\n  display: flex;\n  position: absolute;\n  opacity: 0;\n}\n\n.vimeo-lightbox[data-vimeo-activated=\"false\"][data-vimeo-playing=\"false\"] .vimeo-lightbox__interface {\n  opacity: 1;\n}\n\n.vimeo-lightbox .vimeo-lightbox__interface * {\n  pointer-events: all; /* Make children of div clickable by user */\n}\n\n.vimeo-lightbox[data-vimeo-activated=\"true\"][data-vimeo-playing=\"false\"] .vimeo-lightbox__interface,\n.vimeo-lightbox[data-vimeo-activated=\"true\"][data-vimeo-hover=\"true\"]:hover .vimeo-lightbox__interface {\n  opacity: 1;\n}\n\n@media (hover: none) and (pointer: coarse) {\n  .vimeo-lightbox[data-vimeo-activated=\"true\"][data-vimeo-playing=\"true\"] .vimeo-lightbox__interface {\n    opacity: 0 !important;\n  }\n}\n\n.vimeo-lightbox__interface-bottom {\n  grid-column-gap: 1em;\n  grid-row-gap: 1em;\n  justify-content: flex-start;\n  align-items: center;\n  display: flex;\n}\n\n/* Interface - Timeline */\n.vimeo-lightbox__timeline {\n  flex-grow: 1;\n  justify-content: center;\n  align-items: center;\n  height: 1.5em;\n  display: flex;\n  position: relative;\n}\n\n.vimeo-lightbox__timeline-input {\n  pointer-events: auto;\n  cursor: pointer;\n  -webkit-appearance: none;\n  appearance: none;\n  background-color: #0000;\n  width: 100%;\n  height: 100%;\n  display: block;\n  position: relative;\n}\n\n.vimeo-lightbox__timeline-progress {\n  vertical-align: top;\n  -webkit-appearance: none;\n  appearance: none;\n  height: var(--progress-height);\n  border-radius: var(--timeline-rounded-corners);\n  color: var(--progress-fill-bg);\n  background-color: #0000;\n  border: none;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  left: 0;\n  overflow: hidden;\n}\n\n.vimeo-lightbox progress::-webkit-progress-bar {\n  border-radius: var(--timeline-rounded-corners);\n  background-color: var(--progress-bg);\n  box-shadow: 0;\n}\n\n.vimeo-lightbox progress::-webkit-progress-value {\n  background: var(--progress-fill-bg);\n}\n\n.vimeo-lightbox progress::-moz-progress-bar{\n  border-radius: var(--timeline-rounded-corners);\n  background: var(--progress-fill-bg);\n  box-shadow: 0;\n}\n\n.vimeo-lightbox progress::-ms-fill {\n  border-radius: var(--timeline-rounded-corners);\n}\n\n/* Interface - Range */\n.vimeo-lightbox [type=\"range\"]::-webkit-slider-thumb {\n  -webkit-appearance: none;\n}\n \n.vimeo-lightbox [type=\"range\"]:focus {\n  outline: none;\n}\n \n.vimeo-lightbox [type=\"range\"]::-ms-track {\n  width: 100%;\n  cursor: pointer;\n  background-color: transparent;\n  border-color: transparent;\n  color: transparent;\n}\n\n.vimeo-lightbox [type=\"range\"]::-webkit-slider-runnable-track{\n  width: 100%;\n  height: var(--progress-height);\n  cursor: pointer;\n  background-color: var(--progress-bg);\n  border-radius: var(--timeline-rounded-corners);\n  background-color: transparent;\n  border-color: transparent;\n  color: transparent;\n}\n\n.vimeo-lightbox [type=\"range\"]::-webkit-slider-thumb {\n  box-shadow: 0;\n  height: var(--timeline-dot-height);\n  width: var(--timeline-dot-height);\n  border-radius: var(--timeline-rounded-corners);\n  background-color: var(--timeline-dot-color);\n  cursor: pointer;\n  -webkit-appearance: none;\n  margin-top: calc((var(--progress-height) / 2) - (var(--timeline-dot-height) / 2));\n}\n\n.vimeo-lightbox [type=\"range\"]::-webkit-slider-runnable-track,\n.vimeo-lightbox [type=\"range\"]:focus::-webkit-slider-runnable-track {\n  background-color: transparent;\n  border-color: transparent;\n  color: transparent;\n}\n\n.vimeo-lightbox [type=\"range\"]::-moz-range-track {\n  width: 100%;\n  height: var(--progress-height);\n  cursor: pointer;\n  background: var(--progress-bg);\n  border-radius: 0;\n  border: 0;\n  border-radius: var(--timeline-rounded-corners);\n  overflow: hidden;\n  opacity: 1 !important;\n}\n\n.vimeo-lightbox [type=\"range\"]::-moz-range-thumb {\n  box-shadow: 0;\n  border: 0;\n  height: var(--timeline-dot-height);\n  width: var(--timeline-dot-height);\n  border-radius: var(--timeline-rounded-corners);\n  background: var(--timeline-dot-color);\n  cursor: pointer;\n  box-shadow: 0;\n}\n\n/* Interface - Duration */\n.vimeo-lightbox__duration {\n  flex-shrink: 0;\n  width: 2.25em;\n}\n\n.vimeo-lightbox__duration-span {\n  text-align: center;\n  white-space: nowrap;\n  -webkit-user-select: none;\n  user-select: none;\n  width: 100%;\n  display: block;\n}\n\n/* Interface - Mute */\n.vimeo-lightbox__mute {\n  cursor: pointer;\n  flex-shrink: 0;\n  justify-content: center;\n  align-items: center;\n  width: 1.5em;\n  height: 1.5em;\n  display: flex;\n  position: relative;\n}\n\n.vimeo-lightbox__volume-up-svg {\n  width: 100%;\n  position: absolute;\n}\n\n.vimeo-lightbox__volume-mute-svg {\n  width: 100%;\n  position: absolute;\n}\n\n.vimeo-lightbox .vimeo-lightbox__mute svg:nth-child(2),\n.vimeo-lightbox[data-vimeo-muted=\"true\"] .vimeo-lightbox__mute svg:nth-child(1) {\n  display: none;\n}\n\n.vimeo-lightbox .vimeo-lightbox__mute svg:nth-child(1),\n.vimeo-lightbox[data-vimeo-muted=\"true\"] .vimeo-lightbox__mute svg:nth-child(2) {\n  display: block;\n}\n\n/* Interface - Fullscreen */\n.vimeo-lightbox__fullscreen {\n  cursor: pointer;\n  justify-content: center;\n  align-items: center;\n  width: 1.5em;\n  height: 1.5em;\n  display: flex;\n  position: relative;\n}\n\n.vimeo-lightbox__fullscreen-scale-svg {\n  width: 100%;\n  position: absolute;\n}\n\n.vimeo-lightbox__fullscreen-shrink-svg {\n  width: 100%;\n  position: absolute;\n}\n\n.vimeo-lightbox .vimeo-lightbox__fullscreen svg:nth-child(2),\n.vimeo-lightbox[data-vimeo-fullscreen=\"true\"] .vimeo-lightbox__fullscreen svg:nth-child(1) {\n  display: none;\n}\n\n.vimeo-lightbox .vimeo-lightbox__fullscreen svg:nth-child(1),\n.vimeo-lightbox[data-vimeo-fullscreen=\"true\"] .vimeo-lightbox__fullscreen svg:nth-child(2) {\n  display: block;\n}\n\nStep 2: Add custom Javascript\n\nfunction initVimeoLightboxAdvanced() {\n  // Single lightbox container\n  const lightbox = document.querySelector('[data-vimeo-lightbox-init]');\n  if (!lightbox) return;\n\n  // Open & close buttons\n  const openButtons  = document.querySelectorAll('[data-vimeo-lightbox-control=\"open\"]');\n  const closeButtons = document.querySelectorAll('[data-vimeo-lightbox-control=\"close\"]');\n\n  // Core elements inside lightbox\n  let iframe            = lightbox.querySelector('iframe');               // ← now let\n  const placeholder     = lightbox.querySelector('.vimeo-lightbox__placeholder');\n  const calcEl          = lightbox.querySelector('.vimeo-lightbox__calc');\n  const wrapEl          = lightbox.querySelector('.vimeo-lightbox__calc-wrap');\n  const playerContainer = lightbox.querySelector('[data-vimeo-lightbox-player]');\n\n  // State\n  let player = null;\n  let currentVideoID = null;\n  let videoAspectRatio = null;\n  let globalMuted = lightbox.getAttribute('data-vimeo-muted') === 'true';\n  const isTouch = ('ontouchstart' in window) || navigator.maxTouchPoints > 0;\n  const playedOnce = new Set();  // track first play on touch\n\n  // Format time (seconds → \"m:ss\")\n  function formatTime(s) {\n    const m   = Math.floor(s / 60);\n    const sec = Math.floor(s % 60).toString().padStart(2, '0');\n    return `${m}:${sec}`;\n  }\n\n  // Clamp wrap height\n  function clampWrapSize(ar) {\n    const w = calcEl.offsetWidth;\n    const h = calcEl.offsetHeight;\n    wrapEl.style.maxWidth = Math.min(w, h / ar) + 'px';\n  }\n\n  // Adjust sizing in \"cover\" mode\n  function adjustCoverSizing() {\n    if (!videoAspectRatio) return;\n    const cH = playerContainer.offsetHeight;\n    const cW = playerContainer.offsetWidth;\n    const r  = cH / cW;\n    const wEl = lightbox.querySelector('.vimeo-lightbox__iframe');\n    if (r > videoAspectRatio) {\n      wEl.style.width  = (r / videoAspectRatio * 100) + '%';\n      wEl.style.height = '100%';\n    } else {\n      wEl.style.height = (videoAspectRatio / r * 100) + '%';\n      wEl.style.width  = '100%';\n    }\n  }\n\n  // Close & pause lightbox\n  function closeLightbox() {\n    lightbox.setAttribute('data-vimeo-activated', 'false');\n    if (player) {\n      player.pause();\n      lightbox.setAttribute('data-vimeo-playing', 'false');\n    }\n  }\n\n  // Wire Escape key & close buttons\n  document.addEventListener('keydown', e => {\n    if (e.key === 'Escape') closeLightbox();\n  });\n  closeButtons.forEach(btn => btn.addEventListener('click', closeLightbox));\n\n  // Setup Vimeo Player event handlers\n  function setupPlayerEvents() {\n    // Hide placeholder when playback starts\n    player.on('play', () => {\n      lightbox.setAttribute('data-vimeo-loaded', 'true');\n      lightbox.setAttribute('data-vimeo-playing', 'true');\n    });\n    // Close on video end\n    player.on('ended', closeLightbox);\n\n    // Paused\n    player.on('pause', () => {\n      lightbox.setAttribute('data-vimeo-playing', 'false');\n    });\n\n    // Duration UI\n    const durEl = lightbox.querySelector('[data-vimeo-duration]');\n    player.getDuration().then(d => {\n      if (durEl) durEl.textContent = formatTime(d);\n      lightbox.querySelectorAll('[data-vimeo-control=\"timeline\"],progress')\n        .forEach(el => el.max = d);\n    });\n\n    // Timeline & progress updates\n    const tl = lightbox.querySelector('[data-vimeo-control=\"timeline\"]');\n    const pr = lightbox.querySelector('progress');\n    player.on('timeupdate', data => {\n      if (tl) tl.value = data.seconds;\n      if (pr) pr.value = data.seconds;\n      if (durEl) durEl.textContent = formatTime(Math.trunc(data.seconds));\n    });\n    if (tl) {\n      ['input','change'].forEach(evt =>\n        tl.addEventListener(evt, e => {\n          const v = e.target.value;\n          player.setCurrentTime(v);\n          if (pr) pr.value = v;\n        })\n      );\n    }\n\n    // Hover → hide controls after a timeout\n    let hoverTimer;\n    playerContainer.addEventListener('mousemove', () => {\n      lightbox.setAttribute('data-vimeo-hover', 'true');\n      clearTimeout(hoverTimer);\n      hoverTimer = setTimeout(() => {\n        lightbox.setAttribute('data-vimeo-hover', 'false');\n      }, 3000);\n    });\n\n    // Fullscreen toggle on player container\n    const fsBtn = lightbox.querySelector('[data-vimeo-control=\"fullscreen\"]');\n    if (fsBtn) {\n      const isFS = () => document.fullscreenElement || document.webkitFullscreenElement;\n      if (!(document.fullscreenEnabled || document.webkitFullscreenEnabled)) {\n        fsBtn.style.display = 'none';\n      }\n      fsBtn.addEventListener('click', () => {\n        if (isFS()) {\n          lightbox.setAttribute('data-vimeo-fullscreen', 'false');\n          (document.exitFullscreen || document.webkitExitFullscreen).call(document);\n        } else {\n          lightbox.setAttribute('data-vimeo-fullscreen', 'true');\n          (playerContainer.requestFullscreen || playerContainer.webkitRequestFullscreen)\n            .call(playerContainer);\n        }\n      });\n      ['fullscreenchange','webkitfullscreenchange'].forEach(evt =>\n        document.addEventListener(evt, () =>\n          lightbox.setAttribute('data-vimeo-fullscreen', isFS() ? 'true' : 'false')\n      ));\n    }\n  }\n\n  // Run sizing logic\n  async function runSizing() {\n    const mode = lightbox.getAttribute('data-vimeo-update-size');\n    const w    = await player.getVideoWidth();\n    const h    = await player.getVideoHeight();\n    const ar   = h / w;\n    const bef  = lightbox.querySelector('.vimeo-lightbox__before');\n\n    if (mode === 'true') {\n      if (bef) bef.style.paddingTop = (ar * 100) + '%';\n      clampWrapSize(ar);\n    } else if (mode === 'cover') {\n      videoAspectRatio = ar;\n      if (bef) bef.style.paddingTop = '0%';\n      adjustCoverSizing();\n    } else {\n      clampWrapSize(ar);\n    }\n  }\n\n  // Re-run sizing on viewport resize\n  window.addEventListener('resize', () => {\n    if (player) runSizing();\n  });\n\n  // Open or switch video\n  async function openLightbox(id, placeholderBtn) {\n    // Enter loading state immediately\n    lightbox.setAttribute('data-vimeo-activated', 'loading');\n    lightbox.setAttribute('data-vimeo-loaded',    'false');\n\n    // — FULL RESET if new video ID —\n    if (player && id !== currentVideoID) {\n      await player.pause();\n      await player.unload();\n\n      // Replace old iframe with a fresh one\n      const oldIframe = iframe;\n      const newIframe = document.createElement('iframe');\n      newIframe.className = oldIframe.className;\n      newIframe.setAttribute('allow', oldIframe.getAttribute('allow'));\n      newIframe.setAttribute('frameborder', '0');\n      newIframe.setAttribute('allowfullscreen', 'true');\n      newIframe.setAttribute('allow', 'autoplay; encrypted-media');\n      oldIframe.parentNode.replaceChild(newIframe, oldIframe);\n\n      // Reset state\n      iframe         = newIframe;\n      player         = null;\n      currentVideoID = null;\n      lightbox.setAttribute('data-vimeo-playing', 'false');\n    }\n\n    // Update placeholder image attributes\n    if (placeholderBtn) {\n      ['src','srcset','sizes','alt','width'].forEach(attr => {\n        const val = placeholderBtn.getAttribute(attr);\n        if (val != null) placeholder.setAttribute(attr, val);\n      });\n    }\n\n    // Build a brand-new player if needed\n    if (!player) {\n      iframe.src = `https://player.vimeo.com/video/${id}?api=1&background=1&autoplay=0&loop=0&muted=0`;\n      player = new Vimeo.Player(iframe);\n      setupPlayerEvents();\n      currentVideoID = id;\n      await runSizing();\n    }\n\n    // Now sizing is ready — show lightbox\n    lightbox.setAttribute('data-vimeo-activated', 'true');\n\n    // Autoplay logic\n    if (!isTouch) {\n      player.setVolume(globalMuted ? 0 : 1).then(() => {\n        lightbox.setAttribute('data-vimeo-playing', 'true');\n        setTimeout(() => player.play(), 50);\n      });\n    } else if (playedOnce.has(currentVideoID)) {\n      player.setVolume(globalMuted ? 0 : 1).then(() => {\n        lightbox.setAttribute('data-vimeo-playing', 'true');\n        player.play();\n      });\n    }\n  }\n\n  // Internal controls\n  lightbox.querySelector('[data-vimeo-control=\"play\"]').addEventListener('click', () => {\n    if (isTouch) {\n      if (!playedOnce.has(currentVideoID)) {\n        player.setVolume(0).then(() => {\n          lightbox.setAttribute('data-vimeo-playing', 'true');\n          player.play();\n          if (!globalMuted) {\n            setTimeout(() => {\n              player.setVolume(1);\n              lightbox.setAttribute('data-vimeo-muted', 'false');\n            }, 100);\n          }\n          playedOnce.add(currentVideoID);\n        });\n      } else {\n        player.setVolume(globalMuted ? 0 : 1).then(() => {\n          lightbox.setAttribute('data-vimeo-playing', 'true');\n          player.play();\n        });\n      }\n    } else {\n      player.setVolume(globalMuted ? 0 : 1).then(() => {\n        lightbox.setAttribute('data-vimeo-playing', 'true');\n        setTimeout(() => player.play(), 50);\n      });\n    }\n  });\n\n  lightbox.querySelector('[data-vimeo-control=\"pause\"]').addEventListener('click', () => {\n    player.pause();\n  });\n\n  lightbox.querySelector('[data-vimeo-control=\"mute\"]').addEventListener('click', () => {\n    globalMuted = !globalMuted;\n    player.setVolume(globalMuted ? 0 : 1).then(() =>\n      lightbox.setAttribute('data-vimeo-muted', globalMuted ? 'true' : 'false')\n    );\n  });\n\n  // Wire up open buttons\n  openButtons.forEach(btn => {\n    btn.addEventListener('click', () => {\n      const vid = btn.getAttribute('data-vimeo-lightbox-id');\n      const img = btn.querySelector('[data-vimeo-lightbox-placeholder]');\n      openLightbox(vid, img);\n    });\n  });\n}\n\n// Initialize Vimeo Lightbox (Advanced)\ndocument.addEventListener('DOMContentLoaded', function() {\n  initVimeoLightboxAdvanced();\n});\n\nImplementation\n\nOpen Vimeo Lightbox\n- Add [data-vimeo-lightbox-control=\"open\"] to any element. When the user clicks this element that will open the lightbox.\n- To load the correct Vimeo video, locate the numeric ID in the Vimeo URL (e.g., 1019191082). Ensure the video is allowed to be embedded under its Vimeo settings. Add this ID to the attribute [data-vimeo-lightbox-id=“1019191082”].\n- To show a placeholder image when loading the Vimeo video add a  element with the attr [data-vimeo-lightbox-placeholder] attached as a child of the [data-vimeo-lightbox-control=\"open\"]. This image can be hidden with display: none; and will only be used as data.\n<button data-vimeo-lightbox-control=\"open\" data-vimeo-lightbox-id=\"1019191082\">\n  <img data-vimeo-lightbox-placeholder=\"\" src=\"image.jpg\" alt=\"\">\n  <span>Open Videospan>\nbutton>\nClose Vimeo Lightbox\nAdd [data-vimeo-lightbox-control=\"close\"] to any element. When the user clicks this element it will close the lightbox and pause the video. Clicking the esc button on your keyboard will also close the lightbox.\n<button data-vimeo-lightbox-control=\"close\">Close Videobutton>\nUpdate Size (Aspect Ratio)\nWhen the attribute [data-vimeo-update-size=“true”] is set to true, the player will retrieve the video’s dimensions and update the .vimeo-lightbox__before element’s padding-top to maintain the correct aspect ratio in percentages. Example: padding-top: 56.25%; = 16:9 ratio.\nWhen the attribute [data-vimeo-update-size=\"cover\"] is set the video player will cover the parent element. Make sure to put position: relative; on the parent.\n\nMuted\nSet the attribute [data-vimeo-muted=“true”] to start the video muted. The user can toggle the mute state by clicking an element with the attribute [data-vimeo-control=“mute”].\n\nMore information\n\nActivated\nWhen the lightbox is active it will set the [data-vimeo-activated=\"loading\"], this will already show the dark background via CSS. When the information of the video is fetched it will change to [data-vimeo-activated=\"true\"] and show the video player via CSS.\n\nPlay/Pause\nThe elements with the attributes [data-vimeo-control=“play”] and [data-vimeo-control=“pause”] allow the user to play or pause the video. These actions update the [data-vimeo-playing=\"false\"] attribute from “false” to “true” or vice versa. You can use this attribute to control the visibility of the player interface during playback.\n\nFullscreen\nThe user can enter fullscreen mode by clicking an element with the attribute [data-vimeo-control=“fullscreen”]. If fullscreen is not supported on a device or browser (e.g., some mobile devices), the fullscreen button will not be displayed.\n\nLoading\nWhile the video is loading, the element with the class .vimeo-lightbox__loading is visible. Once the video finishes loading, the attribute [data-vimeo-loaded=“true”] is set to true, allowing you to hide the loading indicator.\n\nPlaceholder\nBefore the video loads, a placeholder image with the class .vimeo-lightbox__placeholder is displayed. When the attribute [data-vimeo-loaded=“true”] is true, the placeholder is hidden.\n\nDuration\nOn load, the attribute [data-vimeo-duration] displays the total duration of the video. Once the video starts playing, it updates to show the current elapsed time.\n\nTimeline\nThe timeline consists of an  element and a  element. These components allow the user to control the video timeline. Dragging or clicking the timeline enables the user to skip to a specific point in the video.\n\nHover Player\nWhen the user hovers over the video while it is playing but does not move the mouse for three seconds, the attribute [data-vimeo-hover=“false”] is set. This can be used to automatically hide the interface even if the mouse remains over the video player.",
    "id": "custom-vimeo-lightbox-advanced"
  },
  {
    "title": "custom-vimeo-player-advanced",
    "code": "Documentation\n\nSetup: External Scripts\n\n<script src=\"https://player.vimeo.com/api/player.js\">script>\n\nStep 1: Add HTML\n\n<div class=\"vimeo-player\" data-vimeo-player-init=\"\" data-vimeo-video-id=\"1019191082\" data-vimeo-autoplay=\"false\" data-vimeo-update-size=\"true\" data-vimeo-playing=\"false\" data-vimeo-activated=\"false\" data-vimeo-fullscreen=\"false\" data-vimeo-paused-by-user=\"false\" data-vimeo-hover=\"false\" data-vimeo-loaded=\"false\" data-vimeo-muted=\"false\">\n  <div class=\"vimeo-player__before\">div>\n  <iframe src=\"\" width=\"640\" height=\"360\" frameborder=\"0\" allowfullscreen=\"true\" allow=\"autoplay; encrypted-media\" class=\"vimeo-player__iframe\">iframe>\n  <img src=\"https://cdn.prod.website-files.com/677e26512183385eca79dc6d/677e74c02b94c68a15343cf0_vimeo-player-placeholder.avif\" loading=\"eager\" alt=\"\" class=\"vimeo-player__placeholder\">\n  <div class=\"vimeo-player__dark\">div>\n  <div class=\"vimeo-player__play\" data-vimeo-control=\"play\">\n    <div class=\"vimeo-player__btn\">\n      <svg class=\"vimeo-player__btn-play-svg\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M6.38178 6.13982C6.40762 5.94017 6.48425 5.74878 6.60555 5.58089C6.72686 5.413 6.88949 5.27326 7.08049 5.17279C7.2715 5.07232 7.48559 5.01391 7.70574 5.00219C7.92587 4.99048 8.14597 5.02579 8.3485 5.10532C9.37235 5.50436 11.6669 6.45272 14.5784 7.98469C17.4908 9.51754 19.5395 10.8562 20.4294 11.4635C21.1891 11.9829 21.191 13.013 20.4304 13.5342C19.5491 14.1381 17.5256 15.4591 14.5784 17.0113C11.6283 18.5635 9.36078 19.5005 8.34657 19.8942C7.47311 20.2343 6.49554 19.7183 6.38178 18.8597C6.24873 17.856 6 15.5769 6 12.4989C6 9.42262 6.24777 7.14443 6.38178 6.13982Z\" fill=\"currentColor\">path>svg>\n    div>\n  div>\n  <div class=\"vimeo-player__pause\" data-vimeo-control=\"pause\">\n    <div class=\"vimeo-player__btn\">\n      <svg class=\"vimeo-player__btn-pause-svg\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\"><path d=\"M8 6.5C8 6.22386 8.22386 6 8.5 6H10.5C10.7761 6 11 6.22386 11 6.5V17.5C11 17.7761 10.7761 18 10.5 18H8.5C8.22386 18 8 17.7761 8 17.5V6.5Z\" fill=\"currentColor\">path> <path d=\"M14 6.5C14 6.22386 14.2239 6 14.5 6H16.5C16.7761 6 17 6.22386 17 6.5V17.5C17 17.7761 16.7761 18 16.5 18H14.5C14.2239 18 14 17.7761 14 17.5V6.5Z\" fill=\"currentColor\">path>svg>\n    div>\n  div>\n  <div class=\"vimeo-player__interface\">\n    <div class=\"vimeo-player__interface-bottom\">\n      <div class=\"vimeo-player__duration\">\n        <span class=\"vimeo-player__duration-span\" data-vimeo-duration=\"\">0:00span>\n      div>\n      <div class=\"vimeo-player__timeline\">\n        <progress class=\"vimeo-player__timeline-progress\" min=\"0\" max=\"100\" value=\"0\">progress>\n        <input class=\"vimeo-player__timeline-input\" type=\"range\" min=\"0\" max=\"100\" step=\"0.01\" data-vimeo-control=\"timeline\" value=\"0\">\n      div>\n      <div class=\"vimeo-player__mute\" data-vimeo-control=\"mute\">\n        <svg class=\"vimeo-player__volume-up-svg\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\"><path d=\"M3 8.99998V15H7L12 20V3.99998L7 8.99998H3ZM16.5 12C16.5 10.23 15.48 8.70998 14 7.96998V16.02C15.48 15.29 16.5 13.77 16.5 12ZM14 3.22998V5.28998C16.89 6.14998 19 8.82998 19 12C19 15.17 16.89 17.85 14 18.71V20.77C18.01 19.86 21 16.28 21 12C21 7.71998 18.01 4.13998 14 3.22998Z\" fill=\"currentColor\">path>svg>\n        <svg class=\"vimeo-player__volume-mute-svg\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\"><path d=\"M16.5 12C16.5 10.23 15.48 8.71 14 7.97V10.18L16.45 12.63C16.48 12.43 16.5 12.22 16.5 12ZM19 12C19 12.94 18.8 13.82 18.46 14.64L19.97 16.15C20.63 14.91 21 13.5 21 12C21 7.72 18.01 4.14 14 3.23V5.29C16.89 6.15 19 8.83 19 12ZM4.27 3L3 4.27L7.73 9H3V15H7L12 20V13.27L16.25 17.52C15.58 18.04 14.83 18.45 14 18.7V20.76C15.38 20.45 16.63 19.81 17.69 18.95L19.73 21L21 19.73L12 10.73L4.27 3ZM12 4L9.91 6.09L12 8.18V4Z\" fill=\"currentColor\">path>svg>\n      div>\n      <div class=\"vimeo-player__fullscreen\" data-vimeo-control=\"fullscreen\">\n        <svg class=\"vimeo-player__fullscreen-scale-svg\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" ><rect x=\"3\" y=\"14\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"3\" y=\"3\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"19\" y=\"3\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"19\" y=\"14\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"3\" y=\"19\" width=\"7\" height=\"2\" fill=\"currentColor\">rect><rect x=\"14\" y=\"19\" width=\"7\" height=\"2\" fill=\"currentColor\">rect><rect x=\"3\" y=\"3\" width=\"7\" height=\"2\" fill=\"currentColor\">rect><rect x=\"14\" y=\"3\" width=\"7\" height=\"2\" fill=\"currentColor\">rect>svg>\n        <svg class=\"vimeo-player__fullscreen-shrink-svg\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\"><rect x=\"7\" y=\"2\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"15\" y=\"2\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"15\" y=\"15\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"8\" y=\"15\" width=\"2\" height=\"7\" fill=\"currentColor\">rect><rect x=\"2\" y=\"7\" width=\"7\" height=\"2\" fill=\"currentColor\">rect><rect x=\"3\" y=\"15\" width=\"7\" height=\"2\" fill=\"currentColor\">rect><rect x=\"15\" y=\"7\" width=\"7\" height=\"2\" fill=\"currentColor\">rect><rect x=\"15\" y=\"15\" width=\"7\" height=\"2\" fill=\"currentColor\">rect>svg>\n      div>\n    div>\n  div>\n  <div class=\"vimeo-player__loading\">\n    <svg class=\"vimeo-player__loading-svg\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"L9\" x=\"0px\" y=\"0px\" viewbox=\"0 0 100 100\" enable-background=\"new 0 0 0 0\" xml:space=\"preserve\" width=\"100%\"><path fill=\"currentColor\" d=\"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50\">path><animatetransform attributename=\"transform\" attributetype=\"XML\" type=\"rotate\" dur=\"1s\" from=\"0 50 50\" to=\"360 50 50\" repeatcount=\"indefinite\">animatetransform>svg>\n  div>\ndiv>\n\nStep 2: Add CSS\n\n.vimeo-player {\n  pointer-events: auto;\n  color: #efeeec;\n  isolation: isolate;\n  background-color: #131313;\n  border-radius: 1em;\n  justify-content: center;\n  align-items: center;\n  width: min(60em, 100vw - 1.5em);\n  display: flex;\n  position: relative;\n  overflow: hidden;\n  transform: translateX(0);\n}\n\n/* Cover */\n.vimeo-player[data-vimeo-update-size=\"cover\"] {\n  width: 100%;\n  min-width: 100%;\n  max-width: 100%;\n  height: 100%;\n  min-height: 100%;\n  max-height: 100%;\n}\n\n.vimeo-player__iframe {\n  pointer-events: none;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n\n.vimeo-player__before {\n  padding-top: 62.5%;\n}\n\n/* Placeholder */\n.vimeo-player__placeholder {\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n  transition: opacity .3s linear;\n  display: block;\n  position: absolute;\n}\n\n.vimeo-player[data-vimeo-activated=\"true\"][data-vimeo-loaded=\"true\"] .vimeo-player__placeholder {\n  opacity: 0;\n}\n\n/* Dark (Overlay) */\n.vimeo-player__dark {\n  opacity: .5;\n  pointer-events: none;\n  background-color: #131313;\n  width: 100%;\n  height: 100%;\n  transition: opacity .3s linear;\n  position: absolute;\n}\n\n.vimeo-player[data-vimeo-playing=\"false\"] .vimeo-player__dark {\n  opacity: 0.33;\n}\n\n.vimeo-player[data-vimeo-activated=\"false\"][data-vimeo-playing=\"false\"] .vimeo-player__dark {\n  opacity: 0;\n}\n\n.vimeo-player[data-vimeo-activated=\"true\"][data-vimeo-loaded=\"true\"] .vimeo-player__dark {\n  opacity: 0;\n}\n\n@media (hover: hover) and (pointer: fine) {\n  .vimeo-player[data-vimeo-hover=\"true\"]:hover .vimeo-player__dark {\n    opacity: 0.33 !important;\n  }\n}\n\n/* Play/Pause */\n.vimeo-player__play, .vimeo-player__pause {\n  cursor: pointer;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  position: absolute;\n}\n\n.vimeo-player__btn {\n  -webkit-backdrop-filter: blur(1em);\n  backdrop-filter: blur(1em);\n  background-color: #64646433;\n  border-radius: 50%;\n  justify-content: center;\n  align-items: center;\n  width: 6em;\n  height: 6em;\n  transition: opacity .3s linear;\n  display: flex;\n  position: relative;\n}\n\n.vimeo-player__btn-play-svg {\n  width: 40%;\n}\n\n.vimeo-player__btn-pause-svg {\n  width: 50%;\n}\n\n/* Pause */\n.vimeo-player .vimeo-player__pause {\n  display: none;\n}\n\n.vimeo-player[data-vimeo-playing=\"true\"] .vimeo-player__pause {\n  display: flex;\n}\n\n.vimeo-player .vimeo-player__pause .vimeo-player__btn {\n  opacity: 0;\n}\n\n.vimeo-player[data-vimeo-activated=\"true\"][data-vimeo-playing=\"false\"] .vimeo-player__pause .vimeo-player__btn,\n.vimeo-player[data-vimeo-activated=\"true\"][data-vimeo-hover=\"true\"]:hover .vimeo-player__pause .vimeo-player__btn {\n  opacity: 1;\n}\n\n@media (hover: none) and (pointer: coarse) {\n  .vimeo-player[data-vimeo-activated=\"true\"][data-vimeo-playing=\"true\"] .vimeo-player__pause .vimeo-player__btn {\n    opacity: 0 !important;\n  }\n}\n\n/* Play */\n.vimeo-player[data-vimeo-playing=\"true\"] .vimeo-player__play {\n  opacity: 0;\n}\n\n/* Loading */\n\n.vimeo-player__loading-svg {\n  width: 6em;\n}\n\n.vimeo-player__loading {\n  pointer-events: none;\n  color: #ff4c24;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  transition: opacity .3s linear;\n  display: flex;\n  position: absolute;\n  opacity: 0;\n}\n\n.vimeo-player[data-vimeo-playing=\"true\"] .vimeo-player__loading {\n  opacity: 1;\n}\n\n.vimeo-player[data-vimeo-playing=\"true\"][data-vimeo-loaded=\"true\"] .vimeo-player__loading {\n  opacity: 0;\n}\n\n/* Interface */\n.vimeo-player .vimeo-player__interface {\n  opacity: 0;\n}\n\n.vimeo-player[data-vimeo-activated=\"false\"][data-vimeo-playing=\"false\"] .vimeo-player__interface {\n  opacity: 1;\n}\n\n.vimeo-player .vimeo-player__interface * {\n  pointer-events: all; /* Make children of div clickable by user */\n}\n\n.vimeo-player[data-vimeo-activated=\"true\"][data-vimeo-playing=\"false\"] .vimeo-player__interface,\n.vimeo-player[data-vimeo-activated=\"true\"][data-vimeo-hover=\"true\"]:hover .vimeo-player__interface {\n  opacity: 1;\n}\n\n@media (hover: none) and (pointer: coarse) {\n  .vimeo-player[data-vimeo-activated=\"true\"][data-vimeo-playing=\"true\"] .vimeo-player__interface {\n    opacity: 0 !important;\n  }\n}\n\n/* Interface - Variables */\n.vimeo-player {\n  --timeline-rounded-corners: 1.5em;\n  --timeline-dot-height: 0.75em;\n  --timeline-dot-color: #FF4C24;\n  --progress-bg: rgba(239, 238, 236, 0.2);\n  --progress-fill-bg: #FF4C24;\n  --progress-height: 0.2em;\n}\n\n.vimeo-player__interface {\n  pointer-events: none;\n  flex-flow: column;\n  justify-content: flex-end;\n  align-items: stretch;\n  width: 100%;\n  height: 100%;\n  padding: min(2em, 4vw);\n  transition-property: opacity;\n  transition-duration: .3s;\n  transition-timing-function: linear;\n  display: flex;\n  position: absolute;\n}\n\n.vimeo-player__interface-bottom {\n  grid-column-gap: 1em;\n  grid-row-gap: 1em;\n  justify-content: flex-start;\n  align-items: center;\n  display: flex;\n}\n\n/* Interface - Timeline */\n\n.vimeo-player__timeline {\n  flex-grow: 1;\n  justify-content: center;\n  align-items: center;\n  height: 1.5em;\n  display: flex;\n  position: relative;\n}\n\n.vimeo-player__timeline-input {\n  pointer-events: auto;\n  cursor: pointer;\n  -webkit-appearance: none;\n  appearance: none;\n  background-color: #0000;\n  width: 100%;\n  height: 100%;\n  display: block;\n  position: relative;\n}\n\n.vimeo-player__timeline-progress {\n  vertical-align: top;\n  -webkit-appearance: none;\n  appearance: none;\n  height: var(--progress-height);\n  border-radius: var(--timeline-rounded-corners);\n  color: var(--progress-fill-bg);\n  background-color: #0000;\n  border: none;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  left: 0;\n  overflow: hidden;\n}\n\n.vimeo-player progress::-webkit-progress-bar {\n  border-radius: var(--timeline-rounded-corners);\n  background-color: var(--progress-bg);\n  box-shadow: 0;\n}\n\n.vimeo-player progress::-webkit-progress-value {\n  background: var(--progress-fill-bg);\n}\n\n.vimeo-player progress::-moz-progress-bar{\n  border-radius: var(--timeline-rounded-corners);\n  background: var(--progress-fill-bg);\n  box-shadow: 0;\n}\n\n.vimeo-player progress::-ms-fill {\n  border-radius: var(--timeline-rounded-corners);\n}\n\n/* Interface - Range */\n.vimeo-player [type=\"range\"]::-webkit-slider-thumb {\n  -webkit-appearance: none;\n}\n \n.vimeo-player [type=\"range\"]:focus {\n  outline: none;\n}\n \n.vimeo-player [type=\"range\"]::-ms-track {\n  width: 100%;\n  cursor: pointer;\n  background-color: transparent;\n  border-color: transparent;\n  color: transparent;\n}\n\n.vimeo-player [type=\"range\"]::-webkit-slider-runnable-track{\n  width: 100%;\n  height: var(--progress-height);\n  cursor: pointer;\n  background-color: var(--progress-bg);\n  border-radius: var(--timeline-rounded-corners);\n  background-color: transparent;\n  border-color: transparent;\n  color: transparent;\n}\n\n.vimeo-player [type=\"range\"]::-webkit-slider-thumb {\n  box-shadow: 0;\n  height: var(--timeline-dot-height);\n  width: var(--timeline-dot-height);\n  border-radius: var(--timeline-rounded-corners);\n  background-color: var(--timeline-dot-color);\n  cursor: pointer;\n  -webkit-appearance: none;\n  margin-top: calc((var(--progress-height) / 2) - (var(--timeline-dot-height) / 2));\n}\n\n.vimeo-player [type=\"range\"]::-webkit-slider-runnable-track,\n.vimeo-player [type=\"range\"]:focus::-webkit-slider-runnable-track {\n  background-color: transparent;\n  border-color: transparent;\n  color: transparent;\n}\n\n.vimeo-player [type=\"range\"]::-moz-range-track {\n  width: 100%;\n  height: var(--progress-height);\n  cursor: pointer;\n  background: var(--progress-bg);\n  border-radius: 0;\n  border: 0;\n  border-radius: var(--timeline-rounded-corners);\n  overflow: hidden;\n  opacity: 1 !important;\n}\n\n.vimeo-player [type=\"range\"]::-moz-range-thumb {\n  box-shadow: 0;\n  border: 0;\n  height: var(--timeline-dot-height);\n  width: var(--timeline-dot-height);\n  border-radius: var(--timeline-rounded-corners);\n  background: var(--timeline-dot-color);\n  cursor: pointer;\n  box-shadow: 0;\n}\n\n/* Interface - Mute */\n\n.vimeo-player__mute {\n  cursor: pointer;\n  flex-shrink: 0;\n  justify-content: center;\n  align-items: center;\n  width: 1.5em;\n  height: 1.5em;\n  display: flex;\n  position: relative;\n}\n\n.vimeo-player__volume-up-svg, .vimeo-player__volume-mute-svg {\n  width: 100%;\n  position: absolute;\n}\n\n.vimeo-player .vimeo-player__mute svg:nth-child(2),\n.vimeo-player[data-vimeo-muted=\"true\"] .vimeo-player__mute svg:nth-child(1) {\n  display: none;\n}\n\n.vimeo-player .vimeo-player__mute svg:nth-child(1),\n.vimeo-player[data-vimeo-muted=\"true\"] .vimeo-player__mute svg:nth-child(2) {\n  display: block;\n}\n\n/* Interface - Fullscreen */\n.vimeo-player__fullscreen {\n  justify-content: center;\n  align-items: center;\n  width: 1.5em;\n  height: 1.5em;\n  display: flex;\n  position: relative;\n  cursor: pointer;\n}\n\n.vimeo-player__fullscreen-scale-svg, .vimeo-player__fullscreen-shrink-svg {\n  width: 100%;\n  position: absolute;\n}\n\n.vimeo-player .vimeo-player__fullscreen svg:nth-child(2),\n.vimeo-player[data-vimeo-fullscreen=\"true\"] .vimeo-player__fullscreen svg:nth-child(1) {\n  display: none;\n}\n\n.vimeo-player .vimeo-player__fullscreen svg:nth-child(1),\n.vimeo-player[data-vimeo-fullscreen=\"true\"] .vimeo-player__fullscreen svg:nth-child(2) {\n  display: block;\n}\n\n/* Interface - Duration */\n.vimeo-player__duration {\n  flex-shrink: 0;\n  width: 2.25em;\n}\n\n.vimeo-player__duration-span {\n  text-align: center;\n  white-space: nowrap;\n  -webkit-user-select: none;\n  user-select: none;\n  width: 100%;\n  display: block;\n}\n\nStep 2: Add custom Javascript\n\nfunction initVimeoPlayer() {\n  // Select all elements that have [data-vimeo-player-init]\n  const vimeoPlayers = document.querySelectorAll('[data-vimeo-player-init]');\n\n  vimeoPlayers.forEach(function(vimeoElement, index) {\n    \n    // Add Vimeo URL ID to the iframe [src]\n    // Looks like: https://player.vimeo.com/video/1019191082\n    const vimeoVideoID = vimeoElement.getAttribute('data-vimeo-video-id');\n    if (!vimeoVideoID) return;\n    const vimeoVideoURL = `https://player.vimeo.com/video/${vimeoVideoID}?api=1&background=1&autoplay=0&loop=0&muted=1`;\n    vimeoElement.querySelector('iframe').setAttribute('src', vimeoVideoURL);\n    \n    // Assign an ID to each element\n    const videoIndexID = 'vimeo-player-advanced-index-' + index;\n    vimeoElement.setAttribute('id', videoIndexID);\n\n    const iframeID = vimeoElement.id;\n    const player = new Vimeo.Player(iframeID);\n\n    // Update Aspect Ratio if [data-vimeo-update-size=\"true\"]\n    if (vimeoElement.getAttribute('data-vimeo-update-size') === 'true') {\n      player.getVideoWidth().then(function(width) {\n        player.getVideoHeight().then(function(height) {\n          const beforeEl = vimeoElement.querySelector('.vimeo-player__before');\n          if (beforeEl) {\n            beforeEl.style.paddingTop = (height / width) * 100 + '%';\n          }\n        });\n      });\n    }\n\n    // Update sizing if [data-vimeo-update-size=\"cover\"]\n    let videoAspectRatio;\n    \n    if (vimeoElement.getAttribute('data-vimeo-update-size') === 'cover') {\n      player.getVideoWidth().then(function(width) {\n        player.getVideoHeight().then(function(height) {\n          videoAspectRatio = height / width;\n          const beforeEl = vimeoElement.querySelector('.vimeo-player__before');\n          if (beforeEl) {\n            beforeEl.style.paddingTop = '0%';\n          }\n          adjustVideoSizing();\n        });\n      });\n    }\n    \n    // Function to adjust video sizing (to cover the video)\n    function adjustVideoSizing() {\n      const containerRatio = vimeoElement.offsetHeight / vimeoElement.offsetWidth;\n    \n      const iframeWrapper = vimeoElement.querySelector('.vimeo-player__iframe');\n      if (iframeWrapper && videoAspectRatio) {\n        if (containerRatio > videoAspectRatio) {\n          // Container is taller relative to the video\n          const widthFactor = containerRatio / videoAspectRatio;\n          iframeWrapper.style.width = widthFactor * 100 + '%';\n          iframeWrapper.style.height = '100%';\n        } else {\n          // Container is wider relative to the video\n          const heightFactor = videoAspectRatio / containerRatio;\n          iframeWrapper.style.height = heightFactor * 100 + '%';\n          iframeWrapper.style.width = '100%';\n        }\n      }\n    }\n    \n    // Adjust video sizing on resize\n    if (vimeoElement.getAttribute('data-vimeo-update-size') === 'cover') {\n      window.addEventListener('resize', adjustVideoSizing);\n    }\n    \n    // Loaded & play\n    player.on('play', function() {\n      vimeoElement.setAttribute('data-vimeo-loaded', 'true');\n      vimeoElement.setAttribute('data-vimeo-playing', 'true');\n    });\n\n    // Autoplay\n    if (vimeoElement.getAttribute('data-vimeo-autoplay') === 'false') {\n      // Autoplay = false\n      player.setVolume(1);\n      player.pause();\n    } else {\n      // Autoplay = true\n      player.setVolume(0);\n      vimeoElement.setAttribute('data-vimeo-muted', 'true');\n\n      // If paused-by-user === false, do scroll-based autoplay\n      if (vimeoElement.getAttribute('data-vimeo-paused-by-user') === 'false') {\n        function checkVisibility() {\n          const rect = vimeoElement.getBoundingClientRect();\n          const inView = rect.top < window.innerHeight && rect.bottom > 0;\n          inView ? vimeoPlayerPlay() : vimeoPlayerPause();\n        }\n\n        // Initial check\n        checkVisibility();\n\n        // Handle scroll\n        window.addEventListener('scroll', checkVisibility);\n      }\n    }\n\n    // Function: Play Video\n    function vimeoPlayerPlay() {\n      vimeoElement.setAttribute('data-vimeo-activated', 'true');\n      vimeoElement.setAttribute('data-vimeo-playing', 'true');\n      player.play();\n    }\n\n    // Function: Pause Video\n    function vimeoPlayerPause() {\n      player.pause();\n    }\n    \n    // Paused\n    player.on('pause', function() {\n      vimeoElement.setAttribute('data-vimeo-playing', 'false');\n    });\n\n    // Click: Play\n    const playBtn = vimeoElement.querySelector('[data-vimeo-control=\"play\"]');\n    if (playBtn) {\n      playBtn.addEventListener('click', function() {\n        // Always set volume to 0 first to avoid pop\n        player.setVolume(0);\n        vimeoPlayerPlay();\n\n        // If muted attribute is 'true', keep volume at 0, else 1\n        if (vimeoElement.getAttribute('data-vimeo-muted') === 'true') {\n          player.setVolume(0);\n        } else {\n          player.setVolume(1);\n        }\n      });\n    }\n\n    // Click: Pause\n    const pauseBtn = vimeoElement.querySelector('[data-vimeo-control=\"pause\"]');\n    if (pauseBtn) {\n      pauseBtn.addEventListener('click', function() {\n        vimeoPlayerPause();\n        // If paused by user => kill the scroll-based autoplay\n        if (vimeoElement.getAttribute('data-vimeo-autoplay') === 'true') {\n          vimeoElement.setAttribute('data-vimeo-paused-by-user', 'true');\n          // Removing scroll listener (if you’d like)\n          window.removeEventListener('scroll', checkVisibility);\n        }\n      });\n    }\n\n    // Click: Mute\n    const muteBtn = vimeoElement.querySelector('[data-vimeo-control=\"mute\"]');\n    if (muteBtn) {\n      muteBtn.addEventListener('click', function() {\n        if (vimeoElement.getAttribute('data-vimeo-muted') === 'false') {\n          player.setVolume(0);\n          vimeoElement.setAttribute('data-vimeo-muted', 'true');\n        } else {\n          player.setVolume(1);\n          vimeoElement.setAttribute('data-vimeo-muted', 'false');\n        }\n      });\n    }\n\n    // Fullscreen\n    // Check if Fullscreen API is supported\n    const fullscreenSupported = !!(\n      document.fullscreenEnabled ||\n      document.webkitFullscreenEnabled ||\n      document.mozFullScreenEnabled ||\n      document.msFullscreenEnabled\n    );\n    \n    const fullscreenBtn = vimeoElement.querySelector('[data-vimeo-control=\"fullscreen\"]');\n    \n    // Hide the fullscreen button if not supported\n    if (!fullscreenSupported && fullscreenBtn) {\n      fullscreenBtn.style.display = 'none';\n    }\n    \n    if (fullscreenBtn) {\n      fullscreenBtn.addEventListener('click', () => {\n        const fullscreenElement = document.getElementById(iframeID);\n        if (!fullscreenElement) return;\n    \n        const isFullscreen =\n          document.fullscreenElement ||\n          document.webkitFullscreenElement ||\n          document.mozFullScreenElement ||\n          document.msFullscreenElement;\n    \n        if (isFullscreen) {\n          // Exit fullscreen\n          vimeoElement.setAttribute('data-vimeo-fullscreen', 'false');\n          (document.exitFullscreen ||\n            document.webkitExitFullscreen ||\n            document.mozCancelFullScreen ||\n            document.msExitFullscreen).call(document);\n        } else {\n          // Enter fullscreen\n          vimeoElement.setAttribute('data-vimeo-fullscreen', 'true');\n          (fullscreenElement.requestFullscreen ||\n            fullscreenElement.webkitRequestFullscreen ||\n            fullscreenElement.mozRequestFullScreen ||\n            fullscreenElement.msRequestFullscreen).call(fullscreenElement);\n        }\n      });\n    }\n    \n    const handleFullscreenChange = () => {\n      const isFullscreen =\n        document.fullscreenElement ||\n        document.webkitFullscreenElement ||\n        document.mozFullScreenElement ||\n        document.msFullscreenElement;\n    \n      vimeoElement.setAttribute('data-vimeo-fullscreen', isFullscreen ? 'true' : 'false');\n    };\n    \n    // Add event listeners for fullscreen changes (with vendor prefixes)\n    ['fullscreenchange', 'webkitfullscreenchange', 'mozfullscreenchange', 'msfullscreenchange'].forEach(event => {\n      document.addEventListener(event, handleFullscreenChange);\n    });\n\n    // Convert seconds to mm:ss\n    function secondsTimeSpanToHMS(s) {\n      let h = Math.floor(s / 3600);\n      s -= h * 3600;\n      let m = Math.floor(s / 60);\n      s -= m * 60;\n      return m + \":\" + (s < 10 ? '0' + s : s);\n    }\n\n    // Duration\n    const vimeoDuration = vimeoElement.querySelector('[data-vimeo-duration]');\n    player.getDuration().then(function(duration) {\n      if (vimeoDuration) {\n        vimeoDuration.textContent = secondsTimeSpanToHMS(duration);\n      }\n      // Update timeline + progress max\n      const timelineAndProgress = vimeoElement.querySelectorAll('[data-vimeo-control=\"timeline\"], progress');\n      timelineAndProgress.forEach((el) => {\n        el.setAttribute('max', duration);\n      });\n    });\n\n    // Timeline\n    const timelineElem = vimeoElement.querySelector('[data-vimeo-control=\"timeline\"]');\n    const progressElem = vimeoElement.querySelector('progress');\n\n    function updateTimelineValue() {\n      player.getDuration().then(function() {\n        const timeVal = timelineElem.value;\n        player.setCurrentTime(timeVal);\n        if (progressElem) {\n          progressElem.value = timeVal;\n        }\n      });\n    }\n\n    if (timelineElem) {\n      ['input', 'change'].forEach((evt) => {\n        timelineElem.addEventListener(evt, updateTimelineValue);\n      });\n    }\n\n    // Progress Time & Timeline (timeupdate)\n    player.on('timeupdate', function(data) {\n      if (timelineElem) {\n        timelineElem.value = data.seconds;\n      }\n      if (progressElem) {\n        progressElem.value = data.seconds;\n      }\n      if (vimeoDuration) {\n        vimeoDuration.textContent = secondsTimeSpanToHMS(Math.trunc(data.seconds));\n      }\n    });\n\n    // Hide controls after hover on Vimeo player\n    let vimeoHoverTimer;\n    vimeoElement.addEventListener('mousemove', function() {\n      if (vimeoElement.getAttribute('data-vimeo-hover') === 'false') {\n        vimeoElement.setAttribute('data-vimeo-hover', 'true');\n      }\n      clearTimeout(vimeoHoverTimer);\n      vimeoHoverTimer = setTimeout(vimeoHoverTrue, 3000);\n    });\n\n    function vimeoHoverTrue() {\n      vimeoElement.setAttribute('data-vimeo-hover', 'false');\n    }\n\n    // Video Ended\n    function vimeoOnEnd() {\n      if (vimeoElement.getAttribute('data-vimeo-autoplay') === 'false') {\n        vimeoElement.setAttribute('data-vimeo-activated', 'false');\n        vimeoElement.setAttribute('data-vimeo-playing', 'false');\n        player.unload();\n      } else {\n        player.play();\n      }\n    }\n    player.on('ended', vimeoOnEnd);\n\n  });\n}\n\n// Initialize Vimeo Player\ndocument.addEventListener('DOMContentLoaded', function() {\n  initVimeoPlayer();\n});\n\nImplementation\n\nVimeo Video ID\nTo load the correct Vimeo video, locate the numeric ID in the Vimeo URL (e.g., 1019191082). Ensure the video is allowed to be embedded under its Vimeo settings. Add this ID to the attribute [data-vimeo-video-id=“1019191082”].\n\nUpdate Size (Aspect Ratio)\nWhen the attribute [data-vimeo-update-size=“true”] is set to true, the player will retrieve the video’s dimensions and update the .vimeo-player__before element’s padding-top to maintain the correct aspect ratio in percentages. Example: padding-top: 56.25%; = 16:9 ratio.\nWhen the attribute [data-vimeo-update-size=\"cover\"] is set the video player will cover the parent element. Make sure to put position: relative; on the parent.\n\nMuted\nSet the attribute [data-vimeo-muted=“true”] to start the video muted. The user can toggle the mute state by clicking an element with the attribute [data-vimeo-control=“mute”].\n\nAutoplay\nEnable autoplay by setting the attribute [data-vimeo-autoplay=“true”]. Videos that autoplay are muted by default to comply with browser policies. When autoplay is enabled the player will loop the video.\n\nMore information\n\nPlay/Pause\nThe elements with the attributes [data-vimeo-control=“play”] and [data-vimeo-control=“pause”] allow the user to play or pause the video. These actions update the [data-vimeo-playing=\"false\"] attribute from “false” to “true” or vice versa. You can use this attribute to control the visibility of the player interface during playback.\n\nFullscreen\nThe user can enter fullscreen mode by clicking an element with the attribute [data-vimeo-control=“fullscreen”]. If fullscreen is not supported on a device or browser (e.g., some mobile devices), the fullscreen button will not be displayed.\n\nLoading\nWhile the video is loading, the element with the class .vimeo-player__loading is visible. Once the video finishes loading, the attribute [data-vimeo-loaded=“true”] is set to true, allowing you to hide the loading indicator.\n\nPlaceholder\nBefore the video loads, a placeholder image with the class .vimeo-player__placeholder is displayed. When the attribute [data-vimeo-loaded=“true”] is true, the placeholder is hidden.\n\nDuration\nOn load, the attribute [data-vimeo-duration] displays the total duration of the video. Once the video starts playing, it updates to show the current elapsed time.\n\nTimeline\nThe timeline consists of an  element and a  element. These components allow the user to control the video timeline. Dragging or clicking the timeline enables the user to skip to a specific point in the video.\n\nHover Player\nWhen the user hovers over the video while it is playing but does not move the mouse for three seconds, the attribute [data-vimeo-hover=“false”] is set. This can be used to automatically hide the interface even if the mouse remains over the video player.\n\nBasic Player\nNeed a more basic version? We also have a Custom Vimeo Player (Basic)",
    "id": "custom-vimeo-player-advanced"
  },
  {
    "title": "custom-vimeo-player-basic",
    "code": "Documentation\n\nSetup: External Scripts\n\n<script src=\"https://player.vimeo.com/api/player.js\">script>\n\nStep 1: Add HTML\n\n<div class=\"vimeo-player\" data-vimeo-player-init=\"\" data-vimeo-video-id=\"1019191082\" data-vimeo-update-size=\"true\" data-vimeo-playing=\"false\" data-vimeo-activated=\"false\" data-vimeo-loaded=\"false\" data-vimeo-muted=\"false\">\n  <div class=\"vimeo-player__before\">div>\n  <iframe src=\"\" width=\"640\" height=\"360\" frameborder=\"0\" allowfullscreen=\"true\" allow=\"autoplay; encrypted-media\" class=\"vimeo-player__iframe\">iframe>\n  <img src=\"https://cdn.prod.website-files.com/677ea292defbe50b73f19c6d/677ecca60bf9ddd8ed1be256_vimeo-player-basic-placeholder.avif\" loading=\"eager\" alt=\"\" class=\"vimeo-player__placeholder\">\n  <div class=\"vimeo-player__dark\">div>\n  <div class=\"vimeo-player__play\" data-vimeo-control=\"play\">\n    <div class=\"vimeo-player__btn\">\n      <svg class=\"vimeo-player__btn-play-svg\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M6.38178 6.13982C6.40762 5.94017 6.48425 5.74878 6.60555 5.58089C6.72686 5.413 6.88949 5.27326 7.08049 5.17279C7.2715 5.07232 7.48559 5.01391 7.70574 5.00219C7.92587 4.99048 8.14597 5.02579 8.3485 5.10532C9.37235 5.50436 11.6669 6.45272 14.5784 7.98469C17.4908 9.51754 19.5395 10.8562 20.4294 11.4635C21.1891 11.9829 21.191 13.013 20.4304 13.5342C19.5491 14.1381 17.5256 15.4591 14.5784 17.0113C11.6283 18.5635 9.36078 19.5005 8.34657 19.8942C7.47311 20.2343 6.49554 19.7183 6.38178 18.8597C6.24873 17.856 6 15.5769 6 12.4989C6 9.42262 6.24777 7.14443 6.38178 6.13982Z\" fill=\"currentColor\">path>svg>\n    div>\n  div>\n  <div class=\"vimeo-player__pause\" data-vimeo-control=\"pause\">\n    <div class=\"vimeo-player__btn\">\n      <svg class=\"vimeo-player__btn-pause-svg\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\"><path d=\"M8 6.5C8 6.22386 8.22386 6 8.5 6H10.5C10.7761 6 11 6.22386 11 6.5V17.5C11 17.7761 10.7761 18 10.5 18H8.5C8.22386 18 8 17.7761 8 17.5V6.5Z\" fill=\"currentColor\">path> <path d=\"M14 6.5C14 6.22386 14.2239 6 14.5 6H16.5C16.7761 6 17 6.22386 17 6.5V17.5C17 17.7761 16.7761 18 16.5 18H14.5C14.2239 18 14 17.7761 14 17.5V6.5Z\" fill=\"currentColor\">path>svg>\n    div>\n  div>\n  <div class=\"vimeo-player__loading\">\n    <svg class=\"vimeo-player__loading-svg\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"L9\" x=\"0px\" y=\"0px\" viewbox=\"0 0 100 100\" enable-background=\"new 0 0 0 0\" xml:space=\"preserve\" width=\"100%\"><path fill=\"currentColor\" d=\"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50\">path><animatetransform attributename=\"transform\" attributetype=\"XML\" type=\"rotate\" dur=\"1s\" from=\"0 50 50\" to=\"360 50 50\" repeatcount=\"indefinite\">animatetransform>svg>\n  div>\ndiv>\n\nStep 2: Add CSS\n\n.vimeo-player {\n  pointer-events: auto;\n  color: #efeeec;\n  isolation: isolate;\n  background-color: #131313;\n  border-radius: 1em;\n  justify-content: center;\n  align-items: center;\n  width: min(60em, 100vw - 1.5em);\n  display: flex;\n  position: relative;\n  overflow: hidden;\n  transform: translateX(0);\n}\n\n/* Cover */\n.vimeo-player[data-vimeo-update-size=\"cover\"] {\n  width: 100%;\n  min-width: 100%;\n  max-width: 100%;\n  height: 100%;\n  min-height: 100%;\n  max-height: 100%;\n}\n\n.vimeo-player__iframe {\n  pointer-events: none;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n\n.vimeo-player__before {\n  padding-top: 62.5%;\n}\n\n/* Placeholder */\n.vimeo-player__placeholder {\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n  transition: opacity .3s linear;\n  display: block;\n  position: absolute;\n}\n\n.vimeo-player[data-vimeo-activated=\"true\"][data-vimeo-loaded=\"true\"] .vimeo-player__placeholder {\n  opacity: 0;\n}\n\n/* Dark (Overlay) */\n.vimeo-player__dark {\n  opacity: .5;\n  pointer-events: none;\n  background-color: #131313;\n  width: 100%;\n  height: 100%;\n  transition: opacity .3s linear;\n  position: absolute;\n}\n\n.vimeo-player[data-vimeo-playing=\"false\"] .vimeo-player__dark {\n  opacity: 0.33;\n}\n\n.vimeo-player[data-vimeo-activated=\"false\"][data-vimeo-playing=\"false\"] .vimeo-player__dark {\n  opacity: 0;\n}\n\n.vimeo-player[data-vimeo-activated=\"true\"][data-vimeo-loaded=\"true\"] .vimeo-player__dark {\n  opacity: 0;\n}\n\n@media (hover: hover) and (pointer: fine) {\n  .vimeo-player:hover .vimeo-player__dark {\n    opacity: 0.33 !important;\n  }\n}\n\n/* Play/Pause */\n.vimeo-player__play, .vimeo-player__pause {\n  cursor: pointer;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  position: absolute;\n}\n\n.vimeo-player__btn {\n  -webkit-backdrop-filter: blur(1em);\n  backdrop-filter: blur(1em);\n  background-color: #64646433;\n  border-radius: 50%;\n  justify-content: center;\n  align-items: center;\n  width: 9em;\n  height: 9em;\n  transition: opacity .3s linear;\n  display: flex;\n  position: relative;\n}\n\n.vimeo-player__btn-play-svg {\n  width: 40%;\n}\n\n.vimeo-player__btn-pause-svg {\n  width: 50%;\n}\n\n/* Pause */\n.vimeo-player .vimeo-player__pause {\n  display: none;\n}\n\n.vimeo-player[data-vimeo-playing=\"true\"] .vimeo-player__pause {\n  display: flex;\n}\n\n.vimeo-player .vimeo-player__pause .vimeo-player__btn {\n  opacity: 0;\n}\n\n.vimeo-player[data-vimeo-activated=\"true\"][data-vimeo-playing=\"false\"] .vimeo-player__pause .vimeo-player__btn,\n.vimeo-player[data-vimeo-activated=\"true\"][data-vimeo-playing=\"true\"]:hover .vimeo-player__pause .vimeo-player__btn {\n  opacity: 1;\n}\n\n@media (hover: none) and (pointer: coarse) {\n  .vimeo-player[data-vimeo-activated=\"true\"][data-vimeo-playing=\"true\"] .vimeo-player__pause .vimeo-player__btn {\n    opacity: 0 !important;\n  }\n}\n\n/* Play */\n.vimeo-player[data-vimeo-playing=\"true\"] .vimeo-player__play {\n  opacity: 0;\n}\n\n/* Loading */\n\n.vimeo-player__loading-svg {\n  width: 9em;\n}\n\n.vimeo-player__loading {\n  pointer-events: none;\n  color: #00ADEF;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  transition: opacity .3s linear;\n  display: flex;\n  position: absolute;\n  opacity: 0;\n}\n\n.vimeo-player[data-vimeo-playing=\"true\"] .vimeo-player__loading {\n  opacity: 1;\n}\n\n.vimeo-player[data-vimeo-playing=\"true\"][data-vimeo-loaded=\"true\"] .vimeo-player__loading {\n  opacity: 0;\n}\n\nStep 2: Add custom Javascript\n\nfunction initVimeoPlayer() {\n  // Select all elements that have [data-vimeo-player-init]\n  const vimeoPlayers = document.querySelectorAll('[data-vimeo-player-init]');\n\n  vimeoPlayers.forEach(function(vimeoElement, index) {\n    \n    // Add Vimeo URL ID to the iframe [src]\n    // Looks like: https://player.vimeo.com/video/1019191082\n    const vimeoVideoID = vimeoElement.getAttribute('data-vimeo-video-id');\n    if (!vimeoVideoID) return;\n    const vimeoVideoURL = `https://player.vimeo.com/video/${vimeoVideoID}?api=1&background=1&autoplay=0&loop=0&muted=1`;\n    vimeoElement.querySelector('iframe').setAttribute('src', vimeoVideoURL);\n    \n    // Assign an ID to each element\n    const videoIndexID = 'vimeo-player-basic-index-' + index;\n    vimeoElement.setAttribute('id', videoIndexID);\n\n    const iframeID = vimeoElement.id;\n    const player = new Vimeo.Player(iframeID);\n\n    // Update Aspect Ratio if [data-vimeo-update-size=\"true\"]\n    if (vimeoElement.getAttribute('data-vimeo-update-size') === 'true') {\n      player.getVideoWidth().then(function(width) {\n        player.getVideoHeight().then(function(height) {\n          const beforeEl = vimeoElement.querySelector('.vimeo-player__before');\n          if (beforeEl) {\n            beforeEl.style.paddingTop = (height / width) * 100 + '%';\n          }\n        });\n      });\n    }\n\n    // Update sizing if [data-vimeo-update-size=\"cover\"]\n    let videoAspectRatio;\n    \n    if (vimeoElement.getAttribute('data-vimeo-update-size') === 'cover') {\n      player.getVideoWidth().then(function(width) {\n        player.getVideoHeight().then(function(height) {\n          videoAspectRatio = height / width;\n          console.log('Height: ' + height + ' Width: ' + width);\n          const beforeEl = vimeoElement.querySelector('.vimeo-player__before');\n          if (beforeEl) {\n            beforeEl.style.paddingTop = '0%';\n          }\n          adjustVideoSizing();\n        });\n      });\n    }\n    \n    // Function to adjust video sizing (to cover the video)\n    function adjustVideoSizing() {\n      const containerRatio = vimeoElement.offsetHeight / vimeoElement.offsetWidth;\n    \n      const iframeWrapper = vimeoElement.querySelector('.vimeo-player__iframe');\n      if (iframeWrapper && videoAspectRatio) {\n        if (containerRatio > videoAspectRatio) {\n          // Container is taller relative to the video\n          const widthFactor = containerRatio / videoAspectRatio;\n          iframeWrapper.style.width = widthFactor * 100 + '%';\n          iframeWrapper.style.height = '100%';\n        } else {\n          // Container is wider relative to the video\n          const heightFactor = videoAspectRatio / containerRatio;\n          iframeWrapper.style.height = heightFactor * 100 + '%';\n          iframeWrapper.style.width = '100%';\n        }\n      }\n    }\n    \n    // Adjust video sizing on resize\n    if (vimeoElement.getAttribute('data-vimeo-update-size') === 'cover') {\n      window.addEventListener('resize', adjustVideoSizing);\n    }\n   \n    // Loaded\n    player.on('play', function() {\n      vimeoElement.setAttribute('data-vimeo-loaded', 'true');\n      vimeoElement.setAttribute('data-vimeo-playing', 'true');\n    });\n\n    // Function: Play Video\n    function vimeoPlayerPlay() {\n      vimeoElement.setAttribute('data-vimeo-activated', 'true');\n      vimeoElement.setAttribute('data-vimeo-playing', 'true');\n      player.play();\n    }\n\n    // Function: Pause Video\n    function vimeoPlayerPause() {\n      player.pause();\n    }\n    \n    // Paused\n    player.on('pause', function() {\n      vimeoElement.setAttribute('data-vimeo-playing', 'false');\n    });\n\n    // Click: Play\n    const playBtn = vimeoElement.querySelector('[data-vimeo-control=\"play\"]');\n    if (playBtn) {\n      playBtn.addEventListener('click', function() {\n        // Always set volume to 0 first to avoid pop\n        player.setVolume(0);\n        vimeoPlayerPlay();\n\n        // If muted attribute is 'true', keep volume at 0, else 1\n        if (vimeoElement.getAttribute('data-vimeo-muted') === 'true') {\n          player.setVolume(0);\n        } else {\n          player.setVolume(1);\n        }\n      });\n    }\n\n    // Click: Pause\n    const pauseBtn = vimeoElement.querySelector('[data-vimeo-control=\"pause\"]');\n    if (pauseBtn) {\n      pauseBtn.addEventListener('click', function() {\n        vimeoPlayerPause();\n      });\n    }\n\n    player.on('pause', function() {\n      vimeoElement.setAttribute('data-vimeo-playing', 'false');\n    });\n    \n    // Video Ended\n    function vimeoOnEnd() {\n      vimeoElement.setAttribute('data-vimeo-activated', 'false');\n      vimeoElement.setAttribute('data-vimeo-playing', 'false');\n      player.unload();\n    }\n    player.on('ended', vimeoOnEnd);\n\n  });\n}\n\n// Initialize Vimeo Player\ndocument.addEventListener('DOMContentLoaded', function() {\n  initVimeoPlayer();\n});\n\nImplementation\n\nVimeo Video ID\nTo load the correct Vimeo video, locate the numeric ID in the Vimeo URL (e.g., 1019191082). Ensure the video is allowed to be embedded under its Vimeo settings. Add this ID to the attribute [data-vimeo-video-id=“1019191082”].\n\nUpdate Size (Aspect Ratio)\nWhen the attribute [data-vimeo-update-size=“true”] is set to true, the player will retrieve the video’s dimensions and update the .vimeo-player__before element’s padding-top to maintain the correct aspect ratio in percentages. Example: padding-top: 56.25%; = 16:9 ratio.\nWhen the attribute [data-vimeo-update-size=\"cover\"] is set the video player will cover the parent element. Make sure to put position: relative; on the parent.\n\nMuted\nSet the attribute [data-vimeo-muted=“true”] to start the video muted.\n\nMore information\n\nPlay/Pause\nThe elements with the attributes [data-vimeo-control=“play”] and [data-vimeo-control=“pause”] allow the user to play or pause the video. These actions update the [data-vimeo-playing=\"false\"] attribute from “false” to “true” or vice versa. You can use this attribute to control the visibility of the player interface during playback.\n\nLoading\nWhile the video is loading, the element with the class .vimeo-player__loading is visible. Once the video finishes loading, the attribute [data-vimeo-loaded=“true”] is set to true, allowing you to hide the loading indicator.\n\nPlaceholder\nBefore the video loads, a placeholder image with the class .vimeo-player__placeholder is displayed. When the attribute [data-vimeo-loaded=“true”] is true, the placeholder is hidden.\n\nAdvanced Player\nNeed more functionality? We also have a Custom Vimeo Player (Advanced)",
    "id": "custom-vimeo-player-basic"
  },
  {
    "title": "play-pause-video-on-scroll",
    "code": "Documentation\n\nSetup: External Scripts\n\n<script src=\"https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/gsap.min.js\">script>\n<script src=\"https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/ScrollTrigger.min.js\">script>\n\nStep 1: Add HTML\n\n<div class=\"demo-video\">\n  <div class=\"demo-video__before\">div>\n  <div data-video=\"playpause\" class=\"cover-video\">\n    <video class=\"cover-video__video\" src=\"https://mukta.b-cdn.net/resource-media/play-pause-resource-RostislavUzunov.mp4\" muted=\"\" loop=\"\" webkit-playsinline=\"webkit-playsinline\" playsinline=\"playsinline\">video>\n  div>\ndiv>\n\nStep 2: Add CSS\n\n.demo-video {\n  border-radius: 1em;\n  width: 34em;\n  max-width: calc(100% - 4em);\n  position: relative;\n  overflow: hidden;\n}\n\n.demo-video__before {\n  padding-top: 75%;\n}\n\n.cover-video {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.cover-video__video {\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\nStep 2: Add custom Javascript\n\n// Register GSAP Plugins\ngsap.registerPlugin(ScrollTrigger);\n\n// Resource\nfunction initPlayPauseVideoScroll() {\n  const videos = gsap.utils.toArray('[data-video=\"playpause\"]');\n  \n  videos.forEach(el => {\n    const video = el.querySelector('video');\n    if (!video) return;\n    \n    ScrollTrigger.create({\n      trigger: el,\n      start: '0% 100%',\n      end: '100% 0%',\n      onEnter: () => video.play(),\n      onEnterBack: () => video.play(),\n      onLeave: () => video.pause(),\n      onLeaveBack: () => video.pause(),\n    });\n  });\n}\n\n// Initialize Play/Pause Video on Scroll\ndocument.addEventListener('DOMContentLoaded', function() {\n  initPlayPauseVideoScroll();\n});\n\nImplementation\n\nAttribute\nFor this script to work, simply add the attribute [data-video=\"playpause\"] to any parent element of a HTML video. The script will search for a descendant  element and automatically play or pause it based on its visibility. This optimization improves performance by ensuring that videos only play when they are in view. Note that the [data-video=\"playpause\"] attribute does not need to be on the direct parent of the  element.\n\nDemo\nThe demo visually demonstrates the effect by showing how the video behaves when it’s out of view. We achieved this by adjusting the ScrollTrigger start and end values.\n\nScrolltrigger\nThis script uses GSAP ScrollTrigger to detect when the video enters the viewport. However, you’re free to implement your own observer setup if you prefer.",
    "id": "play-pause-video-on-scroll"
  },
  {
    "title": "play-video-on-hover",
    "code": "Documentation\n\nStep 1: Add HTML\n\n<div data-video-on-hover=\"not-active\" data-video-src=\"https://mukta.b-cdn.net/resource-preview/whatsapp-modal-1440x900-v2.mp4\" class=\"video-card\">\n  <div class=\"video-card-visual\">\n    <img src=\"https://cdn.prod.website-files.com/68493e75b2d7f03a5fa360af/68495579840e207fe2517a41_video-card-1.avif\" class=\"video-card-visual__img\">\n    <video muted loop webkit-playsinline playsinline src=\"\" class=\"video-card-visual__video\">video>\n  div>\n  <span class=\"video-card-title\">WhatsApp Modalspan>\ndiv>\n\nStep 2: Add CSS\n\n.video-card {\n  gap: 1em;\n  background-color: #f0f0f0;\n  border-radius: .75em;\n  flex-flow: column;\n  width: 22em;\n  padding: .75em .75em 1.125em;\n  transition: background-color .2s;\n  display: flex;\n}\n\n.video-card:hover {\n  background-color: #fff;\n}\n\n.video-card-visual {\n  aspect-ratio: 1.6;\n  border-radius: .5em;\n  width: 100%;\n  position: relative;\n  overflow: hidden;\n}\n\n.video-card-visual__img {\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n}\n\n.video-card-visual__video {\n  opacity: 0;\n  width: 100%;\n  height: 100%;\n  padding: 0;\n  transition: opacity .2s;\n  position: absolute;\n  inset: 0%;\n}\n\n.video-card-title{\n  padding-left: 0.75em;\n}\n\n/* ———— If video is active and hovered, set it to opacity 1 ———— */\n[data-video-on-hover=\"active\"] video{ opacity: 1; }\n\nStep 2: Add custom Javascript\n\nfunction initPlayVideoHover() {\n  const wrappers = document.querySelectorAll('[data-video-on-hover]');\n\n  wrappers.forEach(wrapper => {\n    const video = wrapper.querySelector('video');\n    const src = wrapper.getAttribute('data-video-src') || '';\n    if (!video || !src) return;\n\n    wrapper.addEventListener('mouseenter', () => {\n      if (!video.getAttribute('src')) {\n        video.setAttribute('src', src);\n      }\n      wrapper.dataset.videoOnHover = 'active';\n      video.play().catch(err => {\n        console.warn('play on hover is blocked:', err);\n      });\n    });\n\n    wrapper.addEventListener('mouseleave', () => {\n      wrapper.dataset.videoOnHover = 'not-active';\n      setTimeout(() => {\n        video.pause();\n        video.currentTime = 0;\n      }, 200);\n    });\n  });\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  initPlayVideoHover();\n});\n\nImplementation\n\nDocumentation\nA lightweight, dependency-free component that displays a placeholder image and seamlessly transitions to a video on hover. Perfect for dynamic previews and interactive components without slowing down your page speed. Videos are created on-demand, by only fetching and serving when a user hovers over the card.\n\nHTML Structure\n- Add data-video-on-hover to any wrapper element of your HTML5 video element. This is the attribute that the code will target for hover events. We will also toggle an active or not-active value on this attribute to control the opacity of a placeholder image.\n- To that same wrapper element add an attribute of data-video-src and include a link to your (mp4) video in the attribute value. Once a user hovers the wrapper, we will load the video src dynamically and play!\n- To our video element inside, make sure to include the following attributes:- muted: Required for autoplay browser policy.\n- loop: Optional of course.\n- playsinline / webkit-playsinline: Ensure inline mobile playback.\n\n- We will define opacity: 0 to our video in CSS. \n\nJavaScript\n- Hover In- On first hover, sets video.src from data-video-src. This only needs to happen once, on every hover after that, we can simply call play()\n- Updates data-video-on-hover to \"active\". In our CSS we use this to set our video to opacity: 1\n- Calls video.play(), silently catching any rejection.\n\n- Hover Out- Updates data-video-on-hover to \"not-active\". This will hide our video again.\n- After a 200 ms delay, pauses playback and resets currentTime to 0.\n\nThat's it! A simple, no-dependency way to add engaging video previews to your cards.\n\nHosting your own videos\nWe recommend checking the video attached to this resource, in which Ilja explains step-by-step how to setup your own video hosting at Bunny.net. It takes a couple of minutes to set up a super fast, cheap, and reliable service for yourself and/or clients. Always make sure to compress your videos before uploading, by using a website like videosmaller.com or a tool like Handbrake.",
    "id": "play-video-on-hover"
  },
  {
    "title": "vimeo-background-video",
    "code": "Documentation\n\nSetup: External Scripts\n\n<script src=\"https://player.vimeo.com/api/player.js\">script>\n\nStep 1: Add HTML\n\n<div data-vimeo-playing=\"false\" class=\"vimeo-bg\" data-vimeo-activated=\"false\" data-vimeo-bg-init=\"\" data-vimeo-paused-by-user=\"false\" data-vimeo-autoplay=\"true\" data-vimeo-loaded=\"false\" data-vimeo-update-size=\"true\" data-vimeo-video-id=\"1019191082\">\n  <div class=\"vimeo-bg__iframe-wrapper\">\n    <div class=\"vimeo-bg__before\">div>\n    <iframe src=\"\" width=\"640\" height=\"360\" frameborder=\"0\" allowfullscreen=\"true\" allow=\"autoplay; encrypted-media\" class=\"vimeo-bg__iframe\">iframe>\n  div>\n  <img src=\"https://cdn.prod.website-files.com/678cfcc728627be671c506f8/67911be41e41bff103224c5c_dario-rawert-OmvMDiMB_OI-unsplash.avif\" alt=\"\" loading=\"eager\" class=\"vimeo-bg__placeholder\">\n  \n  <div data-vimeo-control=\"play\" class=\"vimeo-bg__play\">\n    <div class=\"vimeo-bg__btn\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"vimeo-bg__btn-play-svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M6.38178 6.13982C6.40762 5.94017 6.48425 5.74878 6.60555 5.58089C6.72686 5.413 6.88949 5.27326 7.08049 5.17279C7.2715 5.07232 7.48559 5.01391 7.70574 5.00219C7.92587 4.99048 8.14597 5.02579 8.3485 5.10532C9.37235 5.50436 11.6669 6.45272 14.5784 7.98469C17.4908 9.51754 19.5395 10.8562 20.4294 11.4635C21.1891 11.9829 21.191 13.013 20.4304 13.5342C19.5491 14.1381 17.5256 15.4591 14.5784 17.0113C11.6283 18.5635 9.36078 19.5005 8.34657 19.8942C7.47311 20.2343 6.49554 19.7183 6.38178 18.8597C6.24873 17.856 6 15.5769 6 12.4989C6 9.42262 6.24777 7.14443 6.38178 6.13982Z\" fill=\"currentColor\">path>svg>\n    div>\n  div>\n  <div data-vimeo-control=\"pause\" class=\"vimeo-bg__pause\">\n    <div class=\"vimeo-bg__btn\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 24 24\" fill=\"none\" class=\"vimeo-bg__btn-pause-svg\"><path d=\"M8 6.5C8 6.22386 8.22386 6 8.5 6H10.5C10.7761 6 11 6.22386 11 6.5V17.5C11 17.7761 10.7761 18 10.5 18H8.5C8.22386 18 8 17.7761 8 17.5V6.5Z\" fill=\"currentColor\">path><path d=\"M14 6.5C14 6.22386 14.2239 6 14.5 6H16.5C16.7761 6 17 6.22386 17 6.5V17.5C17 17.7761 16.7761 18 16.5 18H14.5C14.2239 18 14 17.7761 14 17.5V6.5Z\" fill=\"currentColor\">path>svg>\n    div>\n  div>\ndiv>\n\nStep 2: Add CSS\n\n.vimeo-bg {\n  pointer-events: auto;\n  color: #efeeec;\n  isolation: isolate;\n  background-color: #131313;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  position: absolute;\n  top: 0;\n  left: 0;\n  overflow: hidden;\n  transform: translateX(0);\n}\n\n.vimeo-bg-video {\n  background-color: #000;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.vimeo-bg__iframe-wrapper {\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  display: flex;\n  position: absolute;\n}\n\n.vimeo-bg__before {\n  padding-top: 62.5%;\n}\n\n.vimeo-bg__iframe {\n  pointer-events: none;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n\n.vimeo-bg__placeholder {\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n  transition: opacity .3s linear;\n  display: block;\n  position: absolute;\n}\n\n.vimeo-bg[data-vimeo-activated=\"true\"][data-vimeo-loaded=\"true\"] .vimeo-bg__placeholder {\n  opacity: 0;\n  transition-delay: 0.2s;\n}\n\n/* Optional: Play/Pause */\n\n.vimeo-bg__btn {\n  -webkit-backdrop-filter: blur(1em);\n  backdrop-filter: blur(1em);\n  background-color: #64646433;\n  border-radius: 50%;\n  justify-content: center;\n  align-items: center;\n  width: 3em;\n  height: 3em;\n  transition: opacity .3s linear;\n  display: flex;\n  position: relative;\n}\n\n.vimeo-bg__play {\n  cursor: pointer;\n  border-radius: 50%;\n  justify-content: center;\n  align-items: center;\n  display: flex;\n  position: absolute;\n  bottom: 4vw;\n  right: 4vw;\n}\n\n.vimeo-bg__btn-play-svg {\n  width: 40%;\n}\n\n.vimeo-bg__pause {\n  cursor: pointer;\n  border-radius: 50%;\n  justify-content: center;\n  align-items: center;\n  display: flex;\n  position: absolute;\n  bottom: 4vw;\n  right: 4vw;\n  display: none;\n}\n\n.vimeo-bg[data-vimeo-playing=\"true\"] .vimeo-bg__pause {\n  display: flex;\n}\n\n.vimeo-bg__btn-pause-svg {\n  width: 50%;\n}\n\n.vimeo-bg[data-vimeo-playing=\"true\"] .vimeo-bg__pause,\n.vimeo-bg[data-vimeo-playing=\"false\"] .vimeo-bg__play {\n  opacity: 1;\n}\n\n.vimeo-bg[data-vimeo-playing=\"true\"] .vimeo-bg__play,\n.vimeo-bg[data-vimeo-playing=\"false\"] .vimeo-bg__pause {\n  opacity: 0;\n}\n\n@media screen and (max-width: 991px) {\n  .vimeo-bg__play, .vimeo-bg__pause {\n    bottom: 1em;\n    right: 1em;\n  }\n}\n\nStep 2: Add custom Javascript\n\nfunction initVimeoBGVideo() {\n  // Select all elements that have [data-vimeo-bg-init]\n  const vimeoPlayers = document.querySelectorAll('[data-vimeo-bg-init]');\n\n  vimeoPlayers.forEach(function(vimeoElement, index) {\n    \n    // Add Vimeo URL ID to the iframe [src]\n    // Looks like: https://player.vimeo.com/video/1019191082\n    const vimeoVideoID = vimeoElement.getAttribute('data-vimeo-video-id');\n    if (!vimeoVideoID) return;\n    const vimeoVideoURL = `https://player.vimeo.com/video/${vimeoVideoID}?api=1&background=1&autoplay=0&loop=1&muted=1`;\n    vimeoElement.querySelector('iframe').setAttribute('src', vimeoVideoURL);\n\n    // Assign an ID to each element\n    const videoIndexID = 'vimeo-bg-index-' + index;\n    vimeoElement.setAttribute('id', videoIndexID);\n\n    const iframeID = vimeoElement.id;\n    const player = new Vimeo.Player(iframeID);\n\n    let videoAspectRatio;\n    \n    // Update Aspect Ratio if [data-vimeo-update-size=\"true\"]\n    if (vimeoElement.getAttribute('data-vimeo-update-size') === 'true') {\n      player.getVideoWidth().then(function(width) {\n        player.getVideoHeight().then(function(height) {\n          videoAspectRatio = height / width;\n          const beforeEl = vimeoElement.querySelector('.vimeo-bg__before');\n          if (beforeEl) {\n            beforeEl.style.paddingTop = videoAspectRatio * 100 + '%';\n          }\n        });\n      });\n    }\n\n    // Function to adjust video sizing\n    function adjustVideoSizing() {\n      const containerAspectRatio = (vimeoElement.offsetHeight / vimeoElement.offsetWidth) * 100;\n\n      const iframeWrapper = vimeoElement.querySelector('.vimeo-bg__iframe-wrapper');\n      if (iframeWrapper && videoAspectRatio) {\n        if (containerAspectRatio > videoAspectRatio * 100) {\n          iframeWrapper.style.width = `${(containerAspectRatio / (videoAspectRatio * 100)) * 100}%`;\n        } else {\n          iframeWrapper.style.width = '';\n        }\n      }\n    }\n    \n    // Adjust video sizing initially\n    if (vimeoElement.getAttribute('data-vimeo-update-size') === 'true') {\n      adjustVideoSizing();\n      player.getVideoWidth().then(function() {\n        player.getVideoHeight().then(function() {\n          adjustVideoSizing();\n        });\n      });\n    } else {\n      adjustVideoSizing();\n    }\n\n    // Adjust video sizing on resize\n    window.addEventListener('resize', adjustVideoSizing);\n\n    // Loaded\n    player.on('play', function() {\n      vimeoElement.setAttribute('data-vimeo-loaded', 'true');\n    });\n\n    // Autoplay\n    if (vimeoElement.getAttribute('data-vimeo-autoplay') === 'false') {\n      // Autoplay = false\n      player.pause();\n    } else {\n      // Autoplay = true\n      // If paused-by-user === false, do scroll-based autoplay\n      if (vimeoElement.getAttribute('data-vimeo-paused-by-user') === 'false') {\n        function checkVisibility() {\n          const rect = vimeoElement.getBoundingClientRect();\n          const inView = rect.top < window.innerHeight && rect.bottom > 0;\n          inView ? vimeoPlayerPlay() : vimeoPlayerPause();\n        }\n\n        // Initial check\n        checkVisibility();\n\n        // Handle scroll\n        window.addEventListener('scroll', checkVisibility);\n      }\n    }\n\n    // Function: Play Video\n    function vimeoPlayerPlay() {\n      vimeoElement.setAttribute('data-vimeo-activated', 'true');\n      vimeoElement.setAttribute('data-vimeo-playing', 'true');\n      player.play();\n    }\n\n    // Function: Pause Video\n    function vimeoPlayerPause() {\n      player.pause();\n    }\n    \n    // Paused\n    player.on('pause', function() {\n      vimeoElement.setAttribute('data-vimeo-playing', 'false');\n    });\n\n    // Click: Play\n    const playBtn = vimeoElement.querySelector('[data-vimeo-control=\"play\"]');\n    if (playBtn) {\n      playBtn.addEventListener('click', function() {\n        vimeoPlayerPlay();\n      });\n    }\n\n    // Click: Pause\n    const pauseBtn = vimeoElement.querySelector('[data-vimeo-control=\"pause\"]');\n    if (pauseBtn) {\n      pauseBtn.addEventListener('click', function() {\n        vimeoPlayerPause();\n        // If paused by user => kill the scroll-based autoplay\n        if (vimeoElement.getAttribute('data-vimeo-autoplay') === 'true') {\n          vimeoElement.setAttribute('data-vimeo-paused-by-user', 'true');\n          // Removing scroll listener (if you’d like)\n          window.removeEventListener('scroll', checkVisibility);\n        }\n      });\n    }\n  });\n}\n\n// Initialize Vimeo Background Video\ndocument.addEventListener('DOMContentLoaded', function() {\n  initVimeoBGVideo();\n});\n\nImplementation\n\nVimeo Video ID\nTo load the correct Vimeo video, locate the numeric ID in the Vimeo URL (e.g., 1019191082). Ensure the video is allowed to be embedded under its Vimeo settings. Add this ID to the attribute [data-vimeo-video-id=“1019191082”].\n\nUpdate Size (Aspect Ratio)\nWhen the attribute [data-vimeo-update-size=“true”] is set to true, the player will retrieve the video’s dimensions and update the .vimeo-bg__before element’s padding-top to maintain the correct aspect ratio in percentages. Example: padding-top: 56.25%; = 16:9 ratio.\n\nAutoplay\nEnable autoplay by setting the attribute [data-vimeo-autoplay=“true”]. Videos that autoplay are muted by default to comply with browser policies.\n\nPlay/Pause *optional\nThe play/pause functionality is optional. You can just remove the buttons if you don't want the user to pause the video. The elements with the attributes [data-vimeo-control=“play”] and [data-vimeo-control=“pause”] allow the user to play or pause the video. These actions update the [data-vimeo-playing=\"false\"] attribute from “false” to “true” or vice versa. You can use this attribute to control the visibility of the player interface during playback.\n\nPlaceholder\nBefore the video loads, a placeholder image with the class .vimeo-bg__placeholder is displayed. When the attribute [data-vimeo-loaded=“true”] is true, the placeholder is hidden.\n\nBasic version\nIf you need a more basic version (without the play/pause, and option to disable autoplay) you can follow the steps below. \n- 1. Remove the attributes [data-vimeo-autoplay=\"true/false\"], [data-vimeo-playing=\"false\"] & [data-vimeo-paused-by-user=\"false\"].\n- 2. Remove the play/pause elements inside the video element\n- 3. Optionally remove the extra CSS for the play/pause buttons\n- 4. Replace the javascript with the snippet below\nfunction initVimeoBGVideo() {\n  // Select all elements that have [data-vimeo-bg-init]\n  const vimeoPlayers = document.querySelectorAll('[data-vimeo-bg-init]');\n\n  vimeoPlayers.forEach(function(vimeoElement, index) {\n    \n    // Add Vimeo URL ID to the iframe [src]\n    // Looks like: https://player.vimeo.com/video/1019191082\n    const vimeoVideoID = vimeoElement.getAttribute('data-vimeo-video-id');\n    if (!vimeoVideoID) return;\n    const vimeoVideoURL = `https://player.vimeo.com/video/${vimeoVideoID}?api=1&background=1&autoplay=1&loop=1&muted=1`;\n    vimeoElement.querySelector('iframe').setAttribute('src', vimeoVideoURL);\n\n    // Assign an ID to each element\n    const videoIndexID = 'vimeo-bg-basic-index-' + index;\n    vimeoElement.setAttribute('id', videoIndexID);\n\n    const iframeID = vimeoElement.id;\n    const player = new Vimeo.Player(iframeID);\n\n    player.setVolume(0);\n    \n    player.on('bufferend', function() {\n      vimeoElement.setAttribute('data-vimeo-activated', 'true');\n      vimeoElement.setAttribute('data-vimeo-loaded', 'true');\n    });\n    \n    // Update Aspect Ratio if [data-vimeo-update-size=\"true\"]\n    let videoAspectRatio;\n    if (vimeoElement.getAttribute('data-vimeo-update-size') === 'true') {\n      player.getVideoWidth().then(function(width) {\n        player.getVideoHeight().then(function(height) {\n          videoAspectRatio = height / width;\n          const beforeEl = vimeoElement.querySelector('.vimeo-bg__before');\n          if (beforeEl) {\n            beforeEl.style.paddingTop = videoAspectRatio * 100 + '%';\n          }\n        });\n      });\n    }\n\n    // Function to adjust video sizing\n    function adjustVideoSizing() {\n      const containerAspectRatio = (vimeoElement.offsetHeight / vimeoElement.offsetWidth) * 100;\n\n      const iframeWrapper = vimeoElement.querySelector('.vimeo-bg__iframe-wrapper');\n      if (iframeWrapper && videoAspectRatio) {\n        if (containerAspectRatio > videoAspectRatio * 100) {\n          iframeWrapper.style.width = `${(containerAspectRatio / (videoAspectRatio * 100)) * 100}%`;\n        } else {\n          iframeWrapper.style.width = '';\n        }\n      }\n    }\n    // Adjust video sizing initially\n    if (vimeoElement.getAttribute('data-vimeo-update-size') === 'true') {\n      adjustVideoSizing();\n      player.getVideoWidth().then(function() {\n        player.getVideoHeight().then(function() {\n          adjustVideoSizing();\n        });\n      });\n    } else {\n      adjustVideoSizing();\n    }\n    // Adjust video sizing on resize\n    window.addEventListener('resize', adjustVideoSizing);\n  });\n}\n\n// Initialize Vimeo Background Video\ndocument.addEventListener('DOMContentLoaded', function() {\n  initVimeoBGVideo();\n});",
    "id": "vimeo-background-video"
  },
  {
    "title": "cg-video-player",
    "code": {
      "index.html": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>CG Custom Video Playback Player | @mukta</title>\n    <link rel=\"stylesheet\" href=\"./styles.css\" />\n  </head>\n  <body>\n    <div class=\"overlay\">\n      <div class=\"video-container\">\n        <video autoplay muted loop id=\"mainVideo\">\n          <source src=\"./video.mp4\" type=\"video/mp4\" />\n        </video>\n      </div>\n\n      <div class=\"cursor\"><p>Pause</p></div>\n\n      <div class=\"video-timeline\">\n        <div class=\"video-marker\"></div>\n        <div class=\"video-timestamps\">\n          <p>00:00</p>\n          <p>00:05</p>\n          <p>00:10</p>\n          <p>00:15</p>\n          <p>00:20</p>\n          <p>00:25</p>\n          <p>00:30</p>\n          <p>00:35</p>\n          <p>00:40</p>\n          <p>00:45</p>\n          <p>00:50</p>\n          <p>00:55</p>\n          <p>01:00</p>\n        </div>\n        <div class=\"video-frames\">\n          <div class=\"frame\">\n            <img src=\"./snapshots/1.png\" alt=\"\" />\n          </div>\n          <div class=\"frame\">\n            <img src=\"./snapshots/2.png\" alt=\"\" />\n          </div>\n          <div class=\"frame\">\n            <img src=\"./snapshots/3.png\" alt=\"\" />\n          </div>\n          <div class=\"frame\">\n            <img src=\"./snapshots/4.png\" alt=\"\" />\n          </div>\n          <div class=\"frame\">\n            <img src=\"./snapshots/5.png\" alt=\"\" />\n          </div>\n          <div class=\"frame\">\n            <img src=\"./snapshots/6.png\" alt=\"\" />\n          </div>\n          <div class=\"frame\">\n            <img src=\"./snapshots/7.png\" alt=\"\" />\n          </div>\n          <div class=\"frame\">\n            <img src=\"./snapshots/8.png\" alt=\"\" />\n          </div>\n          <div class=\"frame\">\n            <img src=\"./snapshots/9.png\" alt=\"\" />\n          </div>\n        </div>\n      </div>\n    </div>\n    <script src=\"./script.js\"></script>\n  </body>\n</html>\n",
      "script.js": "document.addEventListener(\"DOMContentLoaded\", function () {\n  const video = document.getElementById(\"mainVideo\");\n  const marker = document.querySelector(\".video-marker\");\n  const timeline = document.querySelector(\".video-timeline\");\n  const cursor = document.querySelector(\".cursor\");\n  const cursorText = document.querySelector(\".cursor p\");\n\n  let isPlaying = true;\n\n  video.addEventListener(\"timeupdate\", function () {\n    const percentage = (video.currentTime / video.duration) * 100;\n    marker.style.left = `calc(${percentage}% - 1px)`;\n  });\n\n  timeline.addEventListener(\"click\", function (e) {\n    e.stopPropagation();\n    const rect = timeline.getBoundingClientRect();\n    const clickPosition = e.clientX - rect.left;\n    const percentage = clickPosition / rect.width;\n    video.currentTime = percentage * video.duration;\n    marker.style.left = `calc(${percentage * 100}% - 1px)`;\n  });\n\n  document.addEventListener(\"click\", function (e) {\n    if (!timeline.contains(e.target)) {\n      if (isPlaying) {\n        video.pause();\n        cursorText.textContent = \"Play\";\n      } else {\n        video.play();\n        cursorText.textContent = \"Pause\";\n      }\n      isPlaying = !isPlaying;\n    }\n  });\n\n  document.addEventListener(\"mousemove\", function (e) {\n    cursor.style.transform = `translate(${e.clientX}px, ${e.clientY}px)`;\n  });\n});\n",
      "styles.css": "* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nhtml,\nbody {\n  width: 100%;\n  height: 100%;\n  font-family: \"PP Supply Mono\";\n}\n\nimg {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\np {\n  color: #fff;\n  font-size: 13px;\n}\n\n.overlay {\n  width: 100vw;\n  height: 100vh;\n}\n\n.video-container {\n  position: fixed;\n  right: 0;\n  bottom: 0;\n  width: 100vw;\n  height: 100vh;\n  min-width: 100%;\n  min-height: 100%;\n  overflow: hidden;\n}\n\n.video-container video {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.video-timeline {\n  position: absolute;\n  bottom: 0;\n  width: 100vw;\n  height: 160px;\n  display: flex;\n  flex-direction: column;\n  padding: 1em;\n  gap: 0.5em;\n  cursor: pointer;\n}\n\n.video-timestamps {\n  position: relative;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n}\n\n.video-frames {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: space-between;\n  gap: 1em;\n  border-top: 1px dashed #fff;\n  border-bottom: 1px dashed #fff;\n  padding: 0.75em 0;\n}\n\n.frame {\n  position: relative;\n}\n\n.frame::after {\n  content: \"\";\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  transition: 0.3s;\n}\n\n.frame:hover::after {\n  background: rgba(0, 0, 0, 0);\n}\n\n.video-marker {\n  position: absolute;\n  bottom: 0.75em;\n  left: 0;\n  width: 2px;\n  height: 150px;\n  background: red;\n  transition: left 0.5s linear;\n  z-index: 2;\n}\n\n.video-marker::before {\n  position: absolute;\n  content: \"\";\n  top: 0;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 10px;\n  height: 10px;\n  border-radius: 100%;\n  background: red;\n}\n\n.cursor {\n  position: absolute;\n  top: 20px;\n  left: 20px;\n  text-transform: uppercase;\n  transition: transform 1000ms cubic-bezier(0.075, 0.82, 0.165, 1);\n  pointer-events: none;\n  z-index: 2;\n}\n\n@media (max-width: 900px) {\n  .video-timeline {\n    height: 100px;\n  }\n\n  .video-timestamps p:nth-child(2),\n  .video-timestamps p:nth-child(3),\n  .video-timestamps p:nth-child(5),\n  .video-timestamps p:nth-child(6),\n  .video-timestamps p:nth-child(8),\n  .video-timestamps p:nth-child(9),\n  .video-timestamps p:nth-child(11),\n  .video-timestamps p:nth-child(12) {\n    display: none;\n  }\n\n  .video-frames {\n    gap: 0.25em;\n    border-bottom: none;\n  }\n\n  .video-marker {\n    height: 100px;\n  }\n\n  .cursor {\n    display: none;\n  }\n}\n"
    }
  },
  {
    "title": "mukta-vanilla-js-music-player",
    "code": {
      "index.html": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Azuki Style Music Player</title>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\" />\n    <script src=\"https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js\"></script>\n    <script src=\"https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.5.3/lottie_svg.min.js\"></script>\n  </head>\n  <body>\n    <div class=\"music-player-container\">\n      <div class=\"toggle-player\">\n        <ion-icon name=\"remove-outline\"></ion-icon>\n      </div>\n      <div class=\"avatar\">\n        <img src=\"/assets/avatar.png\" alt=\"\" />\n      </div>\n\n      <div class=\"player\">\n        <div class=\"sound-bars-lottie\">\n          <div class=\"sound-bars\"></div>\n        </div>\n        <div class=\"track-info\">\n          <div class=\"track-name\">Track Name</div>\n          <div class=\"track-artist\">Track Artist</div>\n        </div>\n        <div class=\"track-nav\">\n          <div class=\"prev-track\" onclick=\"prevTrack()\">\n            <ion-icon name=\"play-back-sharp\"></ion-icon>\n          </div>\n          <div class=\"playpause-track\" onclick=\"playPauseTrack()\">\n            <ion-icon name=\"play-sharp\"></ion-icon>\n          </div>\n          <div class=\"next-track\" onclick=\"nextTrack()\">\n            <ion-icon name=\"play-forward-sharp\"></ion-icon>\n          </div>\n        </div>\n      </div>\n    </div>\n    <script src=\"main.js\"></script>\n  </body>\n</html>\n",
      "main.js": "let musicPlayer = document.querySelector(\".music-player-container\");\nlet togglePlayer = document.querySelector(\".toggle-player\");\n\nlet trackInfo = document.querySelector(\".track-info\");\nlet trackName = document.querySelector(\".track-name\");\nlet trackArtist = document.querySelector(\".track-artist\");\nlet trackNav = document.querySelector(\".track-nav\");\n\nlet playPauseBtn = document.querySelector(\".playpause-track\");\nlet nextBtn = document.querySelector(\".next-track\");\nlet prevBtn = document.querySelector(\".prev-track\");\n\nlet trackIndex = 0;\nlet isPlaying = false;\nlet isHidden = true;\n\nlet currentTrack = document.createElement(\"audio\");\n\nlet soundBars = document.querySelector(\".sound-bars\");\n\ntogglePlayer.addEventListener(\"click\", function () {\n  isHidden = !isHidden;\n  if (isHidden) {\n    musicPlayer.classList.remove(\"hide\");\n    togglePlayer.innerHTML = '<ion-icon name=\"remove-outline\"></ion-icon>';\n    trackInfo.style.transitionDelay = \"0.4s\";\n    trackNav.style.transitionDelay = \"0.4s\";\n  } else {\n    musicPlayer.classList.add(\"hide\");\n    togglePlayer.innerHTML = '<ion-icon name=\"add-outline\"></ion-icon>';\n    trackInfo.style.transitionDelay = \"0s\";\n    trackNav.style.transitionDelay = \"0s\";\n  }\n});\n\nlet soundBarsLottie = bodymovin.loadAnimation({\n  container: soundBars,\n  renderer: \"svg\",\n  loop: true,\n  autoplay: false,\n  path: \"https://assets5.lottiefiles.com/packages/lf20_jJJl6i.json\",\n});\n\nlet trackList = [\n  {\n    name: \"Play It\",\n    artist: \"Witchitaw\",\n    path: \"./songs/Play It - Witchitaw.mp3\",\n  },\n  {\n    name: \"Real Time\",\n    artist: \"Tilden\",\n    path: \"./songs/Real Time - Tilden.mp3\",\n  },\n  {\n    name: \"Rec Center\",\n    artist: \"Xavy\",\n    path: \"./songs/Rec Center - Xavy.mp3\",\n  },\n  {\n    name: \"Used To\",\n    artist: \"Nbhd Nick\",\n    path: \"./songs/Used To - Nbhd Nick.mp3\",\n  },\n];\n\nfunction loadTrack(trackIndex) {\n  currentTrack.src = trackList[trackIndex].path;\n  currentTrack.load();\n  trackName.textContent = trackList[trackIndex].name;\n  trackArtist.textContent = trackList[trackIndex].artist;\n  currentTrack.addEventListener(\"ended\", nextTrack);\n}\n\nloadTrack(trackIndex);\n\nfunction playPauseTrack() {\n  if (!isPlaying) playTrack();\n  else pauseTrack();\n}\n\nfunction playTrack() {\n  currentTrack.play();\n  isPlaying = true;\n  playPauseBtn.innerHTML = '<ion-icon name=\"pause-sharp\"></ion-icon>';\n  soundBarsLottie.playSegments([0, 120], true);\n}\n\nfunction pauseTrack() {\n  currentTrack.pause();\n  isPlaying = false;\n  playPauseBtn.innerHTML = '<ion-icon name=\"play-sharp\"></ion-icon>';\n  soundBarsLottie.stop();\n}\n\nfunction nextTrack() {\n  if (trackIndex < trackList.length - 1) trackIndex += 1;\n  else trackIndex = 0;\n  loadTrack(trackIndex);\n  playTrack();\n}\n\nfunction prevTrack() {\n  if (trackIndex > 0) trackIndex -= 1;\n  else trackIndex = trackList.length;\n  loadTrack(trackIndex);\n  playTrack();\n}\n",
      "style.css": "* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  width: 100%;\n  height: 100vh;\n  overflow: hidden;\n  background: url(./assets/bg3.jpg) no-repeat 50% 50%;\n  background-size: cover;\n  font-family: \"Rubik\";\n  text-transform: uppercase;\n  color: #fff;\n}\n\n.music-player-container {\n  position: absolute;\n  bottom: 4rem;\n  left: 4rem;\n  width: 480px;\n  transition: all 0.75s cubic-bezier(0.075, 0.82, 0.165, 1);\n}\n\n.music-player-container.hide {\n  width: 180px;\n}\n\n.music-player-container.hide .track-info,\n.music-player-container.hide .track-nav {\n  transition: all 0s ease;\n  opacity: 0;\n}\n\n.toggle-player {\n  position: absolute;\n  top: -20px;\n  right: -20px;\n  z-index: 2;\n  width: 40px;\n  height: 40px;\n  border-radius: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: rgba(255, 255, 255, 0.15);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  cursor: pointer;\n}\n\n.avatar {\n  position: absolute;\n  top: -30px;\n  width: 100px;\n  height: 100px;\n  z-index: 2;\n}\n\n.avatar img {\n  width: 100%;\n  height: 100%;\n}\n\n.sound-bars {\n  flex: 1;\n  width: 50px;\n  height: 50px;\n  margin: 0 20px;\n}\n\n.player {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  height: 70px;\n  border-radius: 4px;\n  background: rgba(255, 255, 255, 0.15);\n  backdrop-filter: blur(10px);\n  padding: 0rem 1.5rem 0rem 100px;\n}\n\n.track-info {\n  flex: 2;\n  margin-right: 1rem;\n  transition: all 0.25s ease;\n  pointer-events: none;\n}\n\n.track-name {\n  font-size: 1.125rem;\n  font-weight: 600;\n  margin-bottom: 0.25rem;\n}\n\n.track-artist {\n  font-family: \"Arame Mono\";\n  font-size: 0.7rem;\n  letter-spacing: 4px;\n  color: #fff;\n  opacity: 0.5;\n}\n\n.track-nav {\n  flex: 2;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  transition: all 0.25s ease;\n}\n\n.playpause-track,\n.prev-track,\n.next-track {\n  padding: 5px 10px;\n  opacity: 0.8;\n}\n\n.playpause-track ion-icon {\n  font-size: 20px;\n}\n\n@media (max-width: 900px) {\n  .music-player-container {\n    width: 400px;\n    left: 50%;\n    transform: translateX(-50%);\n  }\n\n  .track-name {\n    font-size: 0.8rem;\n  }\n\n  .track-artist {\n    font-size: 0.5rem;\n  }\n\n  .playpause-track,\n  .prev-track,\n  .next-track {\n    padding: 2.5px 7.5px;\n  }\n\n  .sound-bars {\n    margin: 0 10px;\n  }\n}\n"
    }
  },
  {
    "title": "play audio button copy",
    "code": {
      "index.html": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>play audio button</title>\n    <link rel=\"stylesheet\" href=\"css/styles.css\" />\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TweenMax.min.js\"></script>\n  </head>\n  <body>\n    <div class=\"container\">\n      <canvas></canvas>\n    </div>\n    <audio id=\"audio\" src=\"./song.mp3\"></audio>\n    <script>\n      const c = document.querySelector(\"canvas\");\n      const audio = document.querySelector(\"#audio\");\n\n      let opt = {\n        width: c.offsetWidth,\n        height: c.offsetHeight,\n        midY: c.offsetHeight / 2,\n        points: 80,\n        stretch: 10,\n        sinHeight: 0,\n        speed: -0.1,\n        strokeColor: \"black\",\n        strokeWidth: 1.5,\n        power: false,\n      };\n      c.width = opt.width * 2;\n      c.height = opt.height * 2;\n      c.style.width = opt.width;\n      c.style.height = opt.height;\n\n      const ctx = c.getContext(\"2d\");\n      ctx.scale(2, 2);\n\n      ctx.strokeStyle = opt.strokeColor;\n      ctx.lineWidth = opt.strokeWidth;\n      ctx.lineCap = \"round\";\n      ctx.lineJoin = \"round\";\n\n      let time = 0;\n      const render = () => {\n        window.requestAnimationFrame(render);\n        ctx.clearRect(0, 0, opt.width, opt.height);\n        time += 1;\n        ctx.beginPath();\n        let increment = 0;\n\n        for (i = 0; i <= opt.points; i++) {\n          if (i < opt.points / 2) {\n            increment += 0.1;\n          } else {\n            increment += -0.1;\n          }\n\n          const x = (opt.width / opt.points) * i;\n          const y =\n            opt.midY +\n            Math.sin(time * opt.speed + i / opt.stretch) *\n              opt.sinHeight *\n              increment;\n          ctx.lineTo(x, y);\n        }\n\n        ctx.stroke();\n      };\n      render();\n\n      c.addEventListener(\"click\", () => {\n        opt.power = !opt.power;\n\n        if (opt.power) {\n          audio.play();\n          TweenMax.to(opt, 1, {\n            sinHeight: 4,\n            stretch: 5,\n            ease: Power2.easeInOut,\n          });\n        } else {\n          audio.pause();\n          TweenMax.to(opt, 1, {\n            sinHeight: 0,\n            stretch: 10,\n            ease: Power3.easeOut,\n          });\n        }\n        console.log(opt.power);\n      });\n    </script>\n  </body>\n</html>\n",
      "css/styles.css": "* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nhtml,\nbody {\n  width: 100%;\n  height: 100vh;\n  background: #aea594;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\ncanvas {\n  width: 100px;\n  height: 100px;\n  cursor: pointer;\n}\n"
    }
  }
]
