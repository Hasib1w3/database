[
  {
    "title": "expiring-new-badge-label",
    "code": "Documentation\n\nStep 1: Add HTML\n\n<div class=\"example-card\">\n  <div class=\"example-card__start\">\n    <div class=\"new-badge__wrapper\">\n      <div data-expiring-date=\"22/12/2024\" class=\"new-badge\"><span class=\"new-badge__span\">Newspan>div>\n    div>\n    <h2 class=\"new-badge__h2\">Show<br>New Badgeh2>\n  div>\n  <div class=\"example-card__end\"><img src=\"images/image-chair.jpg\" loading=\"lazy\" width=\"540\" alt=\"Image of Chair\" class=\"example-card__img\">div>\ndiv>\n\nStep 2: Add CSS\n\n.example-card {\n  background-color: #efeeec;\n  border-radius: 1.5em;\n  width: 30em;\n  height: 20em;\n  padding: 1.25em;\n  display: flex;\n}\n\n.example-card__start {\n  flex-flow: column;\n  justify-content: space-between;\n  align-items: flex-start;\n  width: 50%;\n  display: flex;\n}\n\n.example-card__end {\n  width: 50%;\n}\n\n.example-card__img {\n  object-fit: cover;\n  border-radius: .5em;\n  width: 100%;\n  height: 100%;\n}\n\n.new-badge {\n  background-color: #ff4c24;\n  border-radius: .25em;\n  padding: .3em .5em .25em;\n  display: none;\n}\n\n.new-badge__span {\n  color: #efeeec;\n  font-size: 18px;\n  font-weight: 500;\n  line-height: 1;\n}\n\n.new-badge__h2 {\n  text-transform: uppercase;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: .25em;\n  font-family: PP Neue Corp Tight, Arial, sans-serif;\n  font-size: 2.75em;\n  font-weight: 700;\n  line-height: .8;\n}\n\nStep 2: Add custom Javascript\n\nfunction initExpiringNewBadge() {  \n\n  const elements = document.querySelectorAll('[data-expiring-date]');\n  const today = new Date();\n  today.setHours(0, 0, 0, 0);\n\n  elements.forEach(el => {\n    const dateStr = el.getAttribute('data-expiring-date'); // format D/M/YYYY\n    const [day, month, year] = dateStr.split('/').map(Number);\n\n    // Construct date object from attribute (month is zero-based in JS)\n    const publishedDate = new Date(year, month - 1, day);\n    publishedDate.setHours(0, 0, 0, 0);\n\n    // Calculate the difference in days\n    const diffInMs = today - publishedDate;\n    const diffInDays = diffInMs / (1000 * 60 * 60 * 24);\n\n    // Set display: block; if the published date is within the last 7 days (0 to 6 days ago)\n    if (diffInDays >= 0 && diffInDays < 7) {\n      el.style.display = 'block';\n    }\n  });\n}\n\n// Initialize Expiring New Badge/Label\ndocument.addEventListener('DOMContentLoaded', () => {\n  initExpiringNewBadge();\n});\n\nImplementation\n\nAdd the published date to the attr\nIn the [data-expiring-date] attribute add the updated date, format it as: D/M/YYYY\n\nWebflow\nWhen the cards are connected with the CMS you can use Last published date as source for the attribute. This will automatically update the date. Make sure to select the correct format: D/M/YYYY",
    "id": "expiring-new-badge-label"
  }
]
