[
  {
    "title": "[V1] GSAP Scroll-Synced Video with Timed Cues",
    "description": "",
    "code": "index.html: <!-- GSAP Scroll-Synced Video with Timed Cues ---------------------------------------- Synchronized video playback using `GSAP` and `ScrollTrigger`, combined with cue-based headings that animate in and out based on defined video timecodes. ### Encoding Matters Smooth scroll-based playback depends heavily on how the video is encoded. Accurate frame seeking requires frequent keyframes and fast metadata access. Without proper settings, playback can become inconsistent, particularly on devices with limited resources. When preparing videos for scroll-driven playback, `ffmpeg` offers a flexible and widely supported encoding approach. The settings below serve as a reliable starting point, but adjustments may be needed depending on the target resolution, performance requirements, or playback context. ### Recommended FFmpeg Settings ffmpeg -i input.mp4 -vf \"format=yuv420p,scale=-1:1080\" \\ -c:v libx264 -profile:v main -level:v 5.1 -crf 20 \\ -preset slow -tune animation -movflags +faststart \\ -keyint_min 6 -g 6 -an output_scrub.mp4 * **`-keyint_min 6 -g 6`:** Forces a keyframe every 6 frames, enabling accurate frame seeking. * **`-movflags +faststart`:** Places metadata at the beginning for immediate loading. * **`-crf 20`:** Balances quality and file size. Lower values improve fidelity but increase size. * **`-preset slow`:** Enhances compression efficiency by extending encoding time. * **`-format yuv420p`:** Ensures playback compatibility across all major browsers. * **`-an`:** Removes audio to reduce file size and avoid unnecessary overhead. ### Performance Notes Playback performance depends on device capabilities, browser behavior, and encoding quality. Smooth scrubbing is more likely when resolution, bitrate, and keyframe intervals are adapted to the target platform. * Keep resolution moderate (for example, 1080p) and framerate at or below 30 fps. * Ensure frequent keyframes using `-g` and `-keyint_min`. * Test across multiple browsers and platforms. Format support may vary. * Consider using image sequences or sprite-based playback where video performance is limited. --> <div class=\"viewport-wrapper\"> <div class=\"content-scroll\"> <main class=\"main-content\"> <section class=\"intro\"> <h2>GSAP Scroll-Synced Video with Timed Cues</h2> <p>Synchronized video playback using <code>GSAP</code> and <code>ScrollTrigger</code>, combined with cue-based headings that animate in and out based on defined video timecodes.</p> <h3>Encoding Matters</h3> <p>Smooth scroll-based playback depends heavily on how the video is encoded. Accurate frame seeking requires frequent keyframes and fast metadata access. Without proper settings, playback can become inconsistent, particularly on devices with limited resources.</p> <p>When preparing videos for scroll-driven playback, <code>ffmpeg</code> offers a flexible and widely supported encoding approach. The settings below serve as a reliable starting point, but adjustments may be needed depending on the target resolution, performance requirements, or playback context.</p> <h3>Recommended FFmpeg Settings</h3> <pre><code>ffmpeg -i input.mp4 -vf \"format=yuv420p,scale=-1:1080\" \\ -c:v libx264 -profile:v main -level:v 5.1 -crf 20 \\ -preset slow -tune animation -movflags +faststart \\ -keyint_min 6 -g 6 -an output_scrub.mp4</code></pre> <ul> <li><strong><code>-keyint_min 6 -g 6</code>:</strong> Forces a keyframe every 6 frames, enabling accurate frame seeking.</li> <li><strong><code>-movflags +faststart</code>:</strong> Places metadata at the beginning for immediate loading.</li> <li><strong><code>-crf 20</code>:</strong> Balances quality and file size. Lower values improve fidelity but increase size.</li> <li><strong><code>-preset slow</code>:</strong> Enhances compression efficiency by extending encoding time.</li> <li><strong><code>-format yuv420p</code>:</strong> Ensures playback compatibility across all major browsers.</li> <li><strong><code>-an</code>:</strong> Removes audio to reduce file size and avoid unnecessary overhead.</li> </ul> <h3>Performance Notes</h3> <p>How well scrubbing works can vary depending on the device, browser, and how the video was encoded. These tips can help improve playback, especially on less powerful hardware:</p> <ul> <li>Stick to a moderate resolution like 1080p, and keep the framerate around 30 fps or lower.</li> <li>Use frequent keyframes with <code>-g</code> and <code>-keyint_min</code> to make seeking smoother.</li> <li>Check performance across different browsers and devices, support for formats and playback behavior isn’t always consistent.</li> <li>If video playback feels unreliable, it may be worth switching to sprite-based or image sequence alternatives.</li> </ul> <h3>Resources</h3> <ul> <li> Video source: <a href=\"https://mixkit.co/free-stock-video/slow-aerial-tour-through-a-mist-covered-forest-28342/\" target=\"_blank\" rel=\"noopener\">Mixkit – Slow aerial tour through a mist-covered forest</a> </li> <li> Video encoder script: <a href=\"https://gist.github.com/arenagroove/691e583284132b079aaa7cecf66702a0\" target=\"_blank\" rel=\"noopener\">Encode ScrubVideo (.ps1)</a> </li> <li> Related discussion: <a href=\"https://gsap.com/community/forums/topic/32782-video-scroll-animation/\" target=\"_blank\" rel=\"noopener\">GSAP Forum – Video scroll animation and performance tips</a> </li> <li> <a href=\"https://codepen.io/luis-lessrain/pen/zxGjErP\">[V2] GSAP Scroll-Synced Video with Timed Cues and Keyhole Effect</a> </li> </ul> </section> <section class=\"indicator\"> <h3>Scroll Down<br>↓</h3> </section> <section> <div id=\"video_01\" class=\"sv-wrapper\" data-duration=\"7.007\"> <div class=\"sv-pin-container\"> <video class=\"sv-video\" tabindex=\"-1\" width=\"1920\" height=\"1080\" alt=\"\" preload=\"none\" webkit-playsinline playsinline muted crossorigin src=\"https://www.lessrain.com/dev/videos/forest/forest.mp4\" poster=\"https://www.lessrain.com/dev/videos/forest/forest_poster.webp\"></video> <div class=\"sv-cue\" data-cue-start=\"0.5\" data-cue-end=\"2.4\"> <div class=\"sv-cue-content\"> <h2>Above the Canopy</h2> <p>A slow drift opens the scene.</p> </div> </div> <div class=\"sv-cue\" data-cue-start=\"2.8\" data-cue-end=\"4.7\"> <div class=\"sv-cue-content\"> <h2>Stillness and Space</h2> <p>The forest unfolds with quiet motion.</p> </div> </div> <div class=\"sv-cue\" data-cue-start=\"5.1\" data-cue-end=\"7.0\"> <div class=\"sv-cue-content\"> <h2>Distant Ridges</h2> <p>Mist and mountain shapes blend together.</p> </div> </div> <div class=\"sv-preloader\"></div> </div> <div class=\"sv-overlay-track\"> <div class=\"sv-overlay-markers\"></div> </div> </div> </section> <section class=\"indicator\"> <h3>↑<br>Scroll Up</h3> </section> <section> <div class=\"spacer\"></div> </section> </main> </div> </div> <div class=\"resources-layer\"> <div class=\"resources\"> <a href=\"https://www.lessrain.com\">Less Rain GmbH</a> <a href=\"https://codepen.io/collection/bNyZkZ\">JavaScript Codepen Collection</a> </div> </div>\nstyle.css: :root { --dark-color-h: 334.29; --dark-color-s: 32.03%; --dark-color-l: 30%; --light-color-h: 19.2; --light-color-s: 30.86%; --light-color-l: 84.12%; --dark-color: hsl( var(--dark-color-h), var(--dark-color-s), var(--dark-color-l) ); --dark-color-lighter: hsl( var(--dark-color-h), var(--dark-color-s), calc(var(--dark-color-l) + 10%) ); --dark-color-darker: hsl( var(--dark-color-h), var(--dark-color-s), calc(var(--dark-color-l) - 10%) ); --dark-color-translucent: hsla( var(--dark-color-h), var(--dark-color-s), var(--dark-color-l), 0.75 ); --dark-color-darker-translucent: hsla( var(--dark-color-h), var(--dark-color-s), calc(var(--dark-color-l) - 10%), 0.75 ); --light-color: hsl( var(--light-color-h), var(--light-color-s), var(--light-color-l) ); --light-color-lighter: hsl( var(--light-color-h), var(--light-color-s), calc(var(--light-color-l) + 10%) ); --light-color-darker: hsl( var(--light-color-h), var(--light-color-s), calc(var(--light-color-l) - 10%) ); --light-color-translucent: hsla( var(--light-color-h), var(--light-color-s), var(--light-color-l), 0.75 ); --color-bg: var(--dark-color); --color-text: var(--light-color); --color-muted: color-mix( in oklab, var(--color-text) 50%, var(--color-bg) 50% ); --color-accent: color-mix( in oklab, var(--color-text) 80%, var(--color-bg) 20% ); --color-border: color-mix( in oklab, var(--color-text) 30%, var(--color-bg) 70% ); --resources-bg-color: var(--dark-color-darker-translucent); --resources-active-color: color-mix( in srgb, var(--light-color) 75%, transparent ); --resources-color: var(--color-text); --ts-h6: clamp(12px, 1.0753vw + 8.9892px, 20px); --ts-h5: clamp(14.4px, 1.2903vw + 10.7871px, 24px); --ts-h4: clamp(17.28px, 1.5484vw + 12.9445px, 28.8px); --ts-h3: clamp(20.736px, 1.8581vw + 15.5334px, 34.56px); --ts-h2: clamp(24.8832px, 2.2297vw + 18.6401px, 41.472px); --ts-h1: clamp(29.8598px, 2.6756vw + 22.3681px, 49.7664px); } *, ::after, ::before { border-style: solid; border-width: 0; box-sizing: border-box; } * { -webkit-tap-highlight-color: rgba(0, 0, 0, 0); } html { overflow-y: scroll; -webkit-text-size-adjust: 100%; -moz-text-size-adjust: 100%; text-size-adjust: 100%; } body { background: var(--color-bg); color: var(--color-text); font-family: Inter, Roboto, \"Helvetica Neue\", \"Arial Nova\", \"Nimbus Sans\", Arial, sans-serif; line-height: 1.5; margin: 0; min-height: 100vh; width: 100%; } .viewport-wrapper { height: auto; overflow: visible; position: relative; } .content-scroll { display: block; width: 100%; } body:not(.normalize-scroll) .viewport-wrapper { bottom: 0; height: 100%; left: 0; overflow: hidden; position: fixed; right: 0; top: 0; width: 100%; } body:not(.normalize-scroll) .content-scroll { overflow: visible; } body:not(.normalize-scroll) .content-scroll .sv-wrapper { perspective: 2000px; } body:not(.normalize-scroll) .content-scroll .pin-spacer { transform-style: preserve-3d; } h2 { font-size: var(--ts-h2); } h2, h3 { color: var(--color-accent); font-weight: 400; letter-spacing: 0.025em; line-height: 1.3; margin-bottom: 0.65rem; margin-top: 0; } h3 { font-size: var(--ts-h3); } ul { padding-left: 1.2rem; } li { margin-bottom: 0.5em; } code { background: var(--dark-color-darker-translucent); border-radius: 0.1875rem; padding: 0.125rem 0.25rem; white-space: normal; word-break: break-word; } pre code { overflow-x: auto; padding: 1rem; white-space: pre; word-break: normal; } main, pre code { display: block; } main { margin: 0; position: relative; } section { display: block; psoition: relative; } section:is(.intro, .indicator) { margin: 4rem auto; max-width: 56.25rem; width: calc(100% - 2rem); } section.intro a, section.intro a:visited { color: var(--color-text); } section.intro a:active { color: var(--color-accent); } section.intro a:focus-visible { color: var(--color-accent); outline: none; } section.indicator { text-align: center; } section.indicator h3 { font-size: var(--ts-h5); font-weight: 400; margin: 0; } section:has(.sv-wrapper) { background: var(--dark-color-darker); padding: 4rem 0; } .sv-wrapper { display: block; margin-inline: auto; max-width: 64rem; position: relative; width: calc(100% - 2rem); } .sv-pin-container { aspect-ratio: 16/9; border-radius: 1.5vh; display: grid; max-height: 100lvh; overflow: hidden; } .sv-pin-container, .sv-video { position: relative; width: 100%; } .sv-video { -o-object-fit: cover; object-fit: cover; pointer-events: none; -webkit-user-select: none; -moz-user-select: none; user-select: none; } .sv-cue, .sv-video { display: block; grid-area: 1/-1; height: 100%; } .sv-cue, .sv-cue-content { position: relative; width: 100%; } .sv-cue-content { align-items: center; display: flex; flex-direction: column; height: 100%; justify-content: center; opacity: 0; padding: 1rem; pointer-events: none; text-align: center; -webkit-user-select: none; -moz-user-select: none; user-select: none; } .sv-cue-content h2 { margin-bottom: 0.25em; } .sv-cue-content p { margin-top: -0.5em; } .sv-preloader { background: #000; grid-area: 1/-1; transition: opacity 0.35s cubic-bezier(0.4, 0, 0.2, 1); } .sv-overlay-track, .sv-preloader { display: block; pointer-events: none; position: relative; -webkit-user-select: none; -moz-user-select: none; user-select: none; } .sv-overlay-track { height: var(--track-height, 100lvh); margin-top: var(--track-offset-y, -100lvh); width: 100%; } .sv-overlay-markers { inset: 0; pointer-events: none; position: absolute; } .sv-overlay-second-marker { border-top: thin dashed var(--light-color); color: var(--light-color); font-size: 0.625rem; left: 0; padding-right: 0.25rem; position: absolute; text-align: right; width: 100%; } .sv-overlay-cue-marker { align-items: center; display: flex; height: 0.0625rem; left: 0; position: absolute; width: 100%; } .sv-overlay-cue-marker.start { background-color: #2ecc71; } .sv-overlay-cue-marker.end { background-color: #e74c3c; } .sv-overlay-cue-label { background: var(--light-color); border-radius: 0.1875rem; color: var(--dark-color-darker); font-size: 0.625rem; margin-left: 0.25rem; padding: 0.125rem 0.25rem; } .spacer { display: block; height: 100lvh; position: relative; } .resources-layer { bottom: 0; display: block; position: fixed; right: 0; z-index: 1000; } .resources { background: var(--resources-bg-color); display: grid; font-size: 0.6875rem; font-weight: 300; grid-auto-flow: column; line-height: 1.3; padding: 0.5rem; pointer-events: auto; } .resources a { align-content: center; display: grid; justify-content: center; padding: 0 0.5rem; place-content: center; transition: color 0.2s ease-in-out; } .resources a, .resources a:visited { color: var(--resources-color); } .resources a:active, .resources a:focus-visible { color: var(--resources-active-color); } .resources a:focus-visible { outline: none; } .resources a:not(:first-child) { border-inline-start: thin solid currentColor; } @media (max-width: 51.29875em) { .sv-pin-container { aspect-ratio: 4/3; border-radius: 2vh; } } @media (max-width: 36.04875em) { .sv-pin-container { aspect-ratio: 1/1; } } @media (hover: hover) and (pointer: fine) { section.intro a:active:not(:hover), section.intro a:hover { color: var(--color-accent); } .resources a:active:not(:hover), .resources a:hover { color: var(--resources-active-color); } }\nscript.js: // Utils https://assets.codepen.io/573855/utils-v3.js gsap.registerPlugin(ScrollTrigger, ScrollSmoother); ScrollTrigger.config({ limitCallbacks: true, ignoreMobileResize: true, autoRefreshEvents: 'DOMContentLoaded,load', }); const scroller = (() => { if (typeof gsap === 'undefined' || typeof ScrollSmoother === 'undefined' || utils.device.isTouch()) { document.body.classList.add('normalize-scroll'); return null; } return { initialize: (contentSelector = '.content-scroll', wrapperSelector = '.viewport-wrapper') => ScrollSmoother.create({ content: contentSelector, wrapper: wrapperSelector, smooth: 2, effects: false, normalizeScroll: true, preventDefault: true, }), }; })(); const createVideoScrub = () => { let DOM = { el: null, pin: null, trigger: null, overlayTrack: null, video: null, loading: null, }; let scrollTrigger = null; let observer = null; let isVisible = false; let isVideoInitialized = false; let videoDuration = 1; let lastOverlayHeight = null; let cueElements = []; let lastProgress = 0; let scrollDirection = 'down'; const trackMetrics = { scrollableHeight: 0, pinOffset: 0, }; const options = { selector: null, trigger: null, startOffset: null, //lazy: false, duration: null, scrollFactor: 1, }; const initialize = (opts = {}) => { reset(); Object.assign(options, opts); const el = utils.dom.resolveElement(options.selector); if (!el) { console.warn('[createVideoScrub] Invalid or missing selector.'); return; } DOM.el = el; DOM.pin = el.querySelector('.sv-pin-container'); DOM.trigger = el.querySelector(options.trigger) || DOM.pin; DOM.video = el.querySelector('.sv-video'); DOM.overlayTrack = el.querySelector('.sv-overlay-track'); DOM.preloader = el.querySelector('.sv-preloader'); if (!DOM.pin || !DOM.video) { console.warn('[createVideoScrub] Missing .sv-pin-container or <video>.'); return; } const durationFromOptions = parseFloat(options.duration); const durationFromAttr = parseFloat(DOM.el.getAttribute('data-duration')); if (Number.isFinite(durationFromOptions) && durationFromOptions > 0) { videoDuration = durationFromOptions; } else if (Number.isFinite(durationFromAttr) && durationFromAttr > 0) { videoDuration = durationFromAttr; } else { console.warn('[createVideoScrub] No valid duration found; using default of 1s.'); } //if (options.lazy) { observeVisibility(DOM.el); //} else { //setupVideo(); //observeVisibility(DOM.el); //} setupCues(); setupScrollTrigger(); }; const reset = () => { observer?.disconnect(); scrollTrigger?.kill(); DOM = { el: null, pin: null, trigger: null, overlayTrack: null, video: null, loading: null, }; scrollTrigger = null; observer = null; isVisible = false; isVideoInitialized = false; lastOverlayHeight = null; }; /*const observeVisibility = (target) => { let videoSetupTriggered = !options.lazy; observer = new IntersectionObserver(([entry]) => { isVisible = entry?.isIntersecting === true; if (isVisible && !videoSetupTriggered) { videoSetupTriggered = true; setupVideo(); } // Allow seeking/rendering if (videoSetupTriggered) { isVisible ? unlockVideo() : lockVideo(); } }, { threshold: 0.01, rootMargin: '0px 0px -0.01% 0px', }); observer.observe(target); };*/ const observeVisibility = (target) => { let hasTriggered = false; let debounceHandle = null; observer = new IntersectionObserver(([entry]) => { if (debounceHandle) { utils.system.clearInterval(debounceHandle); } debounceHandle = utils.system.nextTick(() => { isVisible = entry?.isIntersecting === true; if (isVisible && !hasTriggered) { hasTriggered = true; // Trigger preload for iOS Low Power Mode compatibility if (DOM.video.preload !== 'metadata') { DOM.video.preload = 'metadata'; DOM.video.load(); } setupVideo(); } if (hasTriggered) { isVisible ? unlockVideo() : lockVideo(); } }); }, { threshold: 0.01, rootMargin: '0px 0px -0.01% 0px', }); observer.observe(target); }; // Unlocks the video for seeking by forcing a play/pause cycle // This is required on some browsers (e.g. iOS Safari, Chrome) to allow currentTime changes const unlockVideo = () => { const video = DOM.video; if (!video || typeof video.play !== 'function') return; const promise = video.play(); if (promise?.then) { promise.then(() => video.pause()).catch(() => {}); } }; const lockVideo = () => { const video = DOM.video; if (!video || video.paused) return; video.pause(); }; const setupVideo = () => { if (isVideoInitialized) return; DOM.el.classList.add('video-loading'); const finalize = () => { isVideoInitialized = true; DOM.video.pause(); updateOverlayTrack(); DOM.el.classList.remove('video-loading'); DOM.el.classList.add('video-ready'); if (DOM.preloader) { DOM.preloader.style.opacity = '0'; utils.system.nextTick(() => { if (DOM.preloader?.parentNode) { DOM.preloader.parentNode.removeChild(DOM.preloader); DOM.preloader = null; } }, null, 350); // Slightly longer than the CSS transition } }; const tryFinalize = () => { if (DOM.video.readyState >= 2) { finalize(); DOM.video.removeEventListener('loadeddata', tryFinalize); } }; // Fallback using rAF loop in case 'loadeddata' is skipped (e.g. due to caching) const waitForReady = () => { if (isVideoInitialized) return; if (DOM.video.readyState >= 2) { finalize(); } else { requestAnimationFrame(waitForReady); } }; DOM.video.addEventListener('loadeddata', tryFinalize, { once: true }); requestAnimationFrame(waitForReady); }; const finalizeVideoSetup = () => { if (isVideoInitialized) return; isVideoInitialized = true; updateOverlayTrack(); DOM.video.pause(); }; const setupScrollTrigger = () => { if (scrollTrigger || !DOM.overlayTrack || !DOM.pin) return; const getLVH = utils.css.getLVH; scrollTrigger = ScrollTrigger.create({ trigger: DOM.trigger, pin: DOM.pin, start: () => `center ${options.startOffset ?? 0.5 * getLVH()}px`, end: () => { updateOverlayTrack(); return `+=${DOM.overlayTrack.offsetHeight - DOM.pin.offsetHeight}`; }, scrub: true, pinSpacing: false, //anticipatePin: 1, invalidateOnRefresh: true, //markers: true, onUpdate: (self) => { const current = self.progress; scrollDirection = current > lastProgress ? 'down' : 'up'; lastProgress = current; updateVideoTime(current); updateCueVisibility(current); } }); }; const setupCues = () => { cueElements.length = 0; const nodes = DOM.pin.querySelectorAll('[data-cue-start][data-cue-end]'); let index = 0; let count = nodes.length; let el, content, start, end; for (index; index < count; index++) { el = nodes[index]; content = el.querySelector('.sv-cue-content'); if (!content) continue; start = parseFloat(el.getAttribute('data-cue-start')); end = parseFloat(el.getAttribute('data-cue-end')); if (Number.isFinite(start) && Number.isFinite(end)) { cueElements.push({ el, content, start, end, active: false }); } } }; const updateCueVisibility = (progress) => { const currentTime = progress * videoDuration; const totalCues = cueElements.length; const isScrollingDown = scrollDirection === 'down'; const yActive = isScrollingDown ? 50 : -50; const yInactive = isScrollingDown ? -50 : 50; let i = 0; let activeCue = null; let cue = null; let content = null; for (i = 0; i < totalCues; i++) { cue = cueElements[i]; if (currentTime >= cue.start && currentTime < cue.end) { activeCue = cue; break; } } for (i = 0; i < totalCues; i++) { cue = cueElements[i]; content = cue.content; if (cue === activeCue) { if (!cue.active) { cue.active = true; for (let j = 0; j < totalCues; j++) { const otherCue = cueElements[j]; if (otherCue !== cue && otherCue.active) { otherCue.active = false; gsap.killTweensOf(otherCue.content); gsap.set(otherCue.content, { opacity: 0, y: 0 }); } } gsap.set(content, { opacity: 0, y: yActive, }); gsap.to(content, { opacity: 1, y: 0, duration: 0.3, ease: 'power2.out', overwrite: true, }); } } else if (cue.active) { cue.active = false; gsap.killTweensOf(content); gsap.to(content, { opacity: 0, y: yInactive, duration: 0.3, ease: 'power1.inOut', overwrite: true, onComplete: () => { gsap.set(content, { y: 0 }); }, }); } } }; const renderCueMarkers = () => { const container = DOM.overlayTrack?.querySelector('.sv-overlay-markers'); const cueCount = cueElements.length; if (!DOM.overlayTrack || !container || cueCount === 0) return; container.innerHTML = ''; const overlayHeight = DOM.overlayTrack.offsetHeight; const pinHeight = DOM.pin.offsetHeight; const scrollableHeight = overlayHeight - pinHeight; const pinOffset = pinHeight / 2; const frag = document.createDocumentFragment(); let marker, labelEl, progress, offset; const edges = [ { prop: 'start', className: 'start' }, { prop: 'end', className: 'end' } ]; const seconds = Math.floor(videoDuration); for (let i = 0; i <= seconds; i++) { progress = i / videoDuration; offset = (progress * scrollableHeight) + pinOffset; marker = document.createElement('div'); marker.className = 'sv-overlay-second-marker'; marker.style.top = `${offset}px`; marker.textContent = `${i}s`; frag.appendChild(marker); } for (let i = 0; i < cueCount; i++) { const cue = cueElements[i]; for (let j = 0; j < 2; j++) { const edge = edges[j]; const time = cue[edge.prop]; progress = time / videoDuration; offset = (progress * scrollableHeight) + pinOffset; marker = document.createElement('div'); marker.className = `sv-overlay-cue-marker ${edge.className}`; marker.style.top = `${offset}px`; labelEl = document.createElement('span'); labelEl.className = 'sv-overlay-cue-label'; labelEl.textContent = `${time.toFixed(1)}s`; marker.appendChild(labelEl); frag.appendChild(marker); } } container.appendChild(frag); }; const updateVideoTime = (progress) => { if (!isVisible || !DOM.video) return; DOM.video.currentTime = Math.min(Math.max(progress, 0), 1) * videoDuration; }; const updateOverlayTrack = () => { if (!DOM.overlayTrack || !DOM.pin) return; const pinHeight = DOM.pin.offsetHeight; const scrollFactor = options.scrollFactor || 1; const totalHeight = (pinHeight * videoDuration) * scrollFactor; const newHeight = `${totalHeight - pinHeight}px`; if (newHeight === lastOverlayHeight) return; DOM.overlayTrack.style.setProperty('--track-offset-y', `-${pinHeight}px`); DOM.overlayTrack.style.setProperty('--track-height', newHeight); lastOverlayHeight = newHeight; trackMetrics.scrollableHeight = totalHeight - pinHeight; trackMetrics.pinOffset = pinHeight / 2; renderCueMarkers(); }; const update = () => { updateOverlayTrack(); }; return { initialize, update, }; }; document.addEventListener('DOMContentLoaded', () => { if (scroller) scroller.initialize(); const scrubInstance = createVideoScrub(); scrubInstance.initialize({ selector: '#video_01', scrollFactor: 1.5, }); const globalRefresh = () => { scrubInstance.update(); ScrollTrigger.refresh(); }; if (utils.device.isTouch()) { window.addEventListener('orientationchange', () => { utils.system.nextTick(globalRefresh, null, 500); }); } else { window.addEventListener('resize', () => { utils.system.nextTick(globalRefresh); }); } utils.system.nextTick(() => { globalRefresh(); }, null, 300); const isCodePen = document.referrer.includes(\"codepen.io\"); const hostDomains = isCodePen ? [\"codepen.io\"] : []; hostDomains.push(window.location.hostname); const links = document.getElementsByTagName(\"a\"); utils.url.validateLinks(links, hostDomains); });",
    "id": "v1-gsap-scroll-synced-video-with-timed-cues"
  },
  {
    "title": "cg-brutalist-corridor",
    "code": {
      "cg-brutalist-corridor-lp/index.html": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Brutalist Sci-fi Corridor Landing Page | mukta</title>\n    <link rel=\"stylesheet\" href=\"./styles.css\" />\n  </head>\n  <body>\n    <div class=\"corridor\"></div>\n\n    <div class=\"loading\">Loading Scene</div>\n\n    <div class=\"overlay\">\n      <div class=\"counter\"><p>0</p></div>\n    </div>\n\n    <div class=\"hero\">\n      <nav>\n        <div class=\"logo\">\n          <a href=\"#\">Astrolume</a>\n        </div>\n        <div class=\"nav-items\">\n          <a href=\"#\">Apparel</a>\n          <a href=\"#\">Events</a>\n          <a href=\"#\">Archive</a>\n        </div>\n        <div class=\"site-year\">\n          <p>2024 [N]</p>\n        </div>\n      </nav>\n\n      <h1>\n        Blending contemporary minimalism with futuristic innovation to create\n        designs that transcend trends and define elegance.\n      </h1>\n\n      <div class=\"footer\">\n        <p>/ Made by mukta</p>\n      </div>\n    </div>\n\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/EffectComposer.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/RenderPass.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/ShaderPass.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/shaders/CopyShader.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/shaders/LuminosityHighPassShader.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/UnrealBloomPass.js\"></script>\n    <script src=\"./script.js\"></script>\n  </body>\n</html>\n",
      "cg-brutalist-corridor-lp/script.js": "// 1. Basic Scene Setup\nconst scene = new THREE.Scene();\nscene.background = new THREE.Color(0xffffff);\n\nconst camera = new THREE.PerspectiveCamera(\n  75,\n  window.innerWidth / window.innerHeight,\n  0.1,\n  1000\n);\n\nconst renderer = new THREE.WebGLRenderer({\n  powerPreference: \"high-performance\",\n  antialias: false,\n  stencil: false,\n  depth: false,\n});\nrenderer.setSize(window.innerWidth, window.innerHeight);\nrenderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\nrenderer.outputEncoding = THREE.sRGBEncoding;\nrenderer.toneMapping = THREE.NoToneMapping;\ndocument.querySelector(\".corridor\").appendChild(renderer.domElement);\n\n// 2. Lighting Setup\nconst ambientLight = new THREE.AmbientLight(0xffffff, 0.5);\nscene.add(ambientLight);\n\nconst keyLight = new THREE.DirectionalLight(0xfffffff, 0.5);\nkeyLight.position.set(5, 8, 5);\nkeyLight.castShadow = true;\nscene.add(keyLight);\n\nconst fillLight = new THREE.DirectionalLight(0x000000, 0.5);\nfillLight.position.set(-5, 3, -5);\nscene.add(fillLight);\n\nconst light1 = new THREE.PointLight(0xffffff, 2, 1);\nlight1.position.set(2, 3, 2);\nscene.add(light1);\n\nconst light2 = new THREE.PointLight(0xffffff, 2, 1);\nlight2.position.set(-2, 3, -2);\nscene.add(light2);\n\n// 3. Camera and Movement Setup\nconst initialAngle = Math.PI / 4;\nconst radius = Math.sqrt(50);\nlet currentAngle = initialAngle + Math.PI;\nlet targetAngle = initialAngle;\nlet currentY = 0;\nlet targetY = 0;\n\n// Set initial camera position with different rotation\ncamera.position.x = Math.cos(currentAngle) * radius;\ncamera.position.z = Math.sin(currentAngle) * radius;\ncamera.position.y = currentY;\ncamera.lookAt(0, 0, 0);\n\n// 4. Parallax Control Setup\nlet mouseX = 0;\nlet mouseY = 0;\nconst windowHalfX = window.innerWidth / 2;\nconst windowHalfY = window.innerHeight / 2;\n\n// Disable mouse control during initial animation\nlet animationComplete = false;\n\ndocument.addEventListener(\"mousemove\", (event) => {\n  if (!animationComplete) return;\n\n  mouseX = (event.clientX - windowHalfX) / windowHalfX;\n  mouseY = (event.clientY - windowHalfY) / windowHalfY;\n  targetAngle = initialAngle + -mouseX * 0.35;\n  targetY = -mouseY * 1.5;\n});\n\n// 5. Model Loading and Material Setup\nconst emissiveColors = {\n  screen: new THREE.Color(0x00ff00),\n  lamp: new THREE.Color(0xffaa00),\n  light: new THREE.Color(0xffffff),\n  default: new THREE.Color(0xffffff),\n};\n\nconst loader = new THREE.GLTFLoader();\nloader.load(\"./assets/scene.gltf\", function (gltf) {\n  const model = gltf.scene;\n\n  model.traverse((child) => {\n    if (child.isMesh) {\n      child.castShadow = true;\n      child.receiveShadow = true;\n\n      if (child.material) {\n        let emissiveColor = emissiveColors.default;\n        for (const [key, color] of Object.entries(emissiveColors)) {\n          if (child.name.toLowerCase().includes(key)) {\n            emissiveColor = color;\n            break;\n          }\n        }\n\n        const newMaterial = new THREE.MeshStandardMaterial({\n          color: child.material.color,\n          map: child.material.map,\n          emissive: emissiveColor,\n          emissiveIntensity: 0,\n          roughness: 5.0,\n          metalness: 0.125,\n        });\n\n        if (child.material.map) {\n          newMaterial.map.encoding = THREE.sRGBEncoding;\n          newMaterial.map.flipY = false;\n        }\n\n        child.material = newMaterial;\n      }\n    }\n  });\n\n  const box = new THREE.Box3().setFromObject(model);\n  const center = box.getCenter(new THREE.Vector3());\n  model.position.sub(center);\n\n  scene.add(model);\n  document.querySelector(\".loading\").style.display = \"none\";\n\n  startAnimations();\n});\n\n// Add GSAP animations\nconst overlay = document.querySelector(\".overlay\");\nconst counter = document.querySelector(\".counter p\");\n\nfunction splitText() {\n  const textElements = document.querySelectorAll(\"nav a, nav p, h1, .footer p\");\n\n  textElements.forEach((element) => {\n    const text = element.textContent.toUpperCase();\n    element.textContent = \"\";\n\n    text.split(\"\").forEach((char) => {\n      if (char === \" \") {\n        const spaceSpan = document.createElement(\"span\");\n        spaceSpan.classList.add(\"space\");\n        spaceSpan.style.display = \"inline-block\";\n        spaceSpan.style.width = \"15px\";\n        spaceSpan.style.opacity = \"0\";\n        element.appendChild(spaceSpan);\n      } else {\n        const span = document.createElement(\"span\");\n        span.classList.add(\"char\");\n        span.textContent = char;\n        span.style.display = \"inline-block\";\n        span.style.opacity = \"0\";\n        element.appendChild(span);\n      }\n    });\n  });\n}\n\nsplitText();\n\nfunction startAnimations() {\n  const timeline = gsap.timeline({\n    onComplete: () => {\n      animationComplete = true;\n    },\n  });\n\n  // Generate random checkpoints but ensure last one is 100\n  const checkpoints = [0];\n  const numJumps = 7;\n  let currentValue = 0;\n\n  while (checkpoints.length < numJumps) {\n    const minJump = 5;\n    const maxJump =\n      Math.floor((100 - currentValue) / (numJumps - checkpoints.length + 1)) *\n      2;\n    const jump = minJump + Math.floor(Math.random() * (maxJump - minJump));\n\n    currentValue += jump;\n    if (currentValue < 97) {\n      checkpoints.push(currentValue);\n    }\n  }\n  checkpoints.push(97);\n  checkpoints.push(100);\n\n  let currentIndex = 0;\n  timeline.to(\n    {},\n    {\n      duration: 4,\n      ease: \"none\",\n      onUpdate: function () {\n        const timeProgress = this.progress();\n        const targetIndex = Math.floor(timeProgress * checkpoints.length);\n\n        if (targetIndex !== currentIndex && targetIndex < checkpoints.length) {\n          currentIndex = targetIndex;\n          counter.textContent = checkpoints[currentIndex];\n        }\n      },\n      onComplete: function () {\n        counter.textContent = \"100\";\n      },\n    }\n  );\n\n  timeline.to(\n    \".counter\",\n    {\n      opacity: 0,\n      duration: 0.75,\n      ease: \"power2.out\",\n    },\n    \"+=0.2\"\n  );\n\n  const rotationProxy = {\n    angle: currentAngle,\n  };\n\n  timeline.to(\n    rotationProxy,\n    {\n      angle: initialAngle,\n      duration: 2,\n      ease: \"power2.inOut\",\n      onUpdate: () => {\n        currentAngle = rotationProxy.angle;\n        camera.position.x = Math.cos(currentAngle) * radius;\n        camera.position.z = Math.sin(currentAngle) * radius;\n        camera.lookAt(0, 0, 0);\n      },\n    },\n    \"+=0.2\"\n  );\n\n  timeline.to(\n    overlay,\n    {\n      opacity: 0,\n      duration: 1.5,\n      ease: \"power2.inOut\",\n      onComplete: () => {\n        overlay.remove();\n      },\n    },\n    \"<\"\n  );\n\n  timeline.add(() => {\n    const allChars = document.querySelectorAll(\".char, .space\");\n\n    const textTimeline = gsap.timeline();\n\n    textTimeline.to(allChars, {\n      duration: 0.1,\n      opacity: 1,\n      ease: \"power2.inOut\",\n      stagger: {\n        amount: 1,\n        each: 0.1,\n        from: \"random\",\n        repeat: 2,\n        yoyo: true,\n      },\n    });\n\n    textTimeline.to(allChars, {\n      duration: 0.1,\n      opacity: 1,\n      ease: \"power2.inOut\",\n      stagger: {\n        amount: 1,\n        each: 0.1,\n        from: \"random\",\n        repeat: 1,\n        yoyo: true,\n      },\n    });\n\n    textTimeline.to(allChars, {\n      duration: 0.15,\n      opacity: 1,\n      ease: \"power2.inOut\",\n      stagger: {\n        amount: 1,\n        each: 0.2,\n        from: \"random\",\n      },\n    });\n\n    return textTimeline;\n  }, \"-=1\");\n\n  return timeline;\n}\n\n// 6. Post-processing Setup\nconst renderScene = new THREE.RenderPass(scene, camera);\nconst bloomPass = new THREE.UnrealBloomPass(\n  new THREE.Vector2(window.innerWidth, window.innerHeight),\n  2.0,\n  0.25,\n  0.5\n);\n\n// 7. Film Grain Effect\nconst FilmGrainShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    time: { value: 0 },\n    amount: { value: 0.15 },\n    speed: { value: 2.0 },\n    size: { value: 1.0 },\n  },\n\n  vertexShader: `\n      varying vec2 vUv;\n      void main() {\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n      }\n    `,\n\n  fragmentShader: `\n      uniform float time;\n      uniform float amount;\n      uniform float speed;\n      uniform float size;\n      uniform sampler2D tDiffuse;\n      varying vec2 vUv;\n\n      float random(vec2 co) {\n        return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n      }\n\n      void main() {\n        vec4 color = texture2D(tDiffuse, vUv);\n        vec2 position = vUv;\n        position *= size;\n        float grain = random(position * time * speed);\n        color.rgb += grain * amount;\n        gl_FragColor = color;\n      }\n    `,\n};\n\nconst filmGrainPass = new THREE.ShaderPass(FilmGrainShader);\nfilmGrainPass.renderToScreen = true;\n\nconst composer = new THREE.EffectComposer(renderer);\ncomposer.addPass(renderScene);\ncomposer.addPass(bloomPass);\ncomposer.addPass(filmGrainPass);\n\n// 8. Animation and Render Loop\nfunction lerp(start, end, factor) {\n  return start + (end - start) * factor;\n}\n\nfunction animate() {\n  requestAnimationFrame(animate);\n\n  filmGrainPass.uniforms.time.value = performance.now() * 0.001;\n\n  if (animationComplete) {\n    currentAngle = lerp(currentAngle, targetAngle, 0.025);\n    currentY = lerp(currentY, targetY, 0.025);\n\n    camera.position.x = Math.cos(currentAngle) * radius;\n    camera.position.z = Math.sin(currentAngle) * radius;\n    camera.position.y = lerp(camera.position.y, currentY, 0.05);\n  }\n\n  camera.lookAt(0, 0, 0);\n  composer.render();\n}\n\n// 9. Window Resize Handler\nfunction onWindowResize() {\n  camera.aspect = window.innerWidth / window.innerHeight;\n  camera.updateProjectionMatrix();\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  composer.setSize(window.innerWidth, window.innerHeight);\n}\n\nwindow.addEventListener(\"resize\", onWindowResize, false);\n\nanimate();\n",
      "cg-brutalist-corridor-lp/styles.css": "* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nhtml,\nbody {\n  width: 100%;\n  height: 100%;\n  background-color: #0f0f0f;\n}\n\n.corridor {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n}\n\n.loading {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-transform: uppercase;\n  font-family: \"PP Neue Montreal\";\n  font-size: 13px;\n  color: #fff;\n}\n\n.overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: #000;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 1em;\n}\n\n.counter p {\n  color: #fff;\n}\n\nh1 {\n  position: absolute;\n  bottom: 1em;\n  left: 1em;\n  width: 60%;\n  text-transform: uppercase;\n  font-family: \"LomoCopy Lt Std\";\n  color: #fff;\n  user-select: none;\n}\n\np,\na {\n  text-decoration: none;\n  text-transform: uppercase;\n  font-family: \"Akkurat Mono\";\n  font-size: 12px;\n  color: #fff;\n}\n\n.hero {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  z-index: 2;\n  mix-blend-mode: difference;\n}\n\nnav {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  padding: 2em;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.nav-items {\n  display: flex;\n  gap: 2em;\n}\n\n.footer {\n  position: absolute;\n  right: 2em;\n  bottom: 2em;\n}\n",
      "cg-brutalist-corridor-scene/index.html": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Brutalist Sci-fi Corridor Scene | mukta</title>\n    <link rel=\"stylesheet\" href=\"./styles.css\" />\n  </head>\n  <body>\n    <div class=\"corridor\"></div>\n    <div class=\"loading\">Loading Scene</div>\n\n    <div class=\"hero\">\n      <nav>\n        <div class=\"logo\">\n          <a href=\"#\">Astrolume</a>\n        </div>\n        <div class=\"nav-items\">\n          <a href=\"#\">Apparel</a>\n          <a href=\"#\">Events</a>\n          <a href=\"#\">Archive</a>\n        </div>\n        <div class=\"site-year\">\n          <p>2024 [N]</p>\n        </div>\n      </nav>\n      <h1>\n        Blending contemporary minimalism with futuristic innovation to create\n        designs that transcend trends and define elegance.\n      </h1>\n      <div class=\"footer\"><p>/ Made by mukta</p></div>\n    </div>\n\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/EffectComposer.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/RenderPass.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/ShaderPass.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/shaders/CopyShader.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/shaders/LuminosityHighPassShader.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/UnrealBloomPass.js\"></script>\n    <script src=\"./script.js\"></script>\n  </body>\n</html>\n",
      "cg-brutalist-corridor-scene/script.js": "// 1. Basic Scene Setup\nconst scene = new THREE.Scene();\nscene.background = new THREE.Color(0xffffff);\n\nconst camera = new THREE.PerspectiveCamera(\n  75,\n  window.innerWidth / window.innerHeight,\n  0.1,\n  1000\n);\n\nconst renderer = new THREE.WebGLRenderer({\n  powerPreference: \"high-performance\",\n  antialias: false,\n  stencil: false,\n  depth: false,\n});\nrenderer.setSize(window.innerWidth, window.innerHeight);\nrenderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\nrenderer.outputEncoding = THREE.sRGBEncoding;\nrenderer.toneMapping = THREE.NoToneMapping;\ndocument.querySelector(\".corridor\").appendChild(renderer.domElement);\n\n// 2. Lighting Setup\nconst ambientLight = new THREE.AmbientLight(0xffffff, 0.5);\nscene.add(ambientLight);\n\nconst keyLight = new THREE.DirectionalLight(0xfffffff, 0.5);\nkeyLight.position.set(5, 8, 5);\nkeyLight.castShadow = true;\nscene.add(keyLight);\n\nconst fillLight = new THREE.DirectionalLight(0x000000, 0.5);\nfillLight.position.set(-5, 3, -5);\nscene.add(fillLight);\n\nconst light1 = new THREE.PointLight(0xffffff, 2, 1);\nlight1.position.set(2, 3, 2);\nscene.add(light1);\n\nconst light2 = new THREE.PointLight(0xffffff, 2, 1);\nlight2.position.set(-2, 3, -2);\nscene.add(light2);\n\n// 3. Camera and Movement Setup\nconst initialAngle = Math.PI / 4;\nconst radius = Math.sqrt(50);\nlet currentAngle = initialAngle;\nlet targetAngle = initialAngle;\nlet currentY = 0;\nlet targetY = 0;\n\ncamera.position.set(5, 0, 5);\ncamera.lookAt(0, 0, 0);\n\n// 4. Parallax Control Setup\nlet mouseX = 0;\nlet mouseY = 0;\nconst windowHalfX = window.innerWidth / 2;\nconst windowHalfY = window.innerHeight / 2;\n\ndocument.addEventListener(\"mousemove\", (event) => {\n  mouseX = (event.clientX - windowHalfX) / windowHalfX;\n  mouseY = (event.clientY - windowHalfY) / windowHalfY;\n  targetAngle = initialAngle + -mouseX * 0.35;\n  targetY = -mouseY * 1.5;\n});\n\n// 5. Model Loading and Material Setup\nconst emissiveColors = {\n  screen: new THREE.Color(0x00ff00),\n  lamp: new THREE.Color(0xffaa00),\n  light: new THREE.Color(0xffffff),\n  default: new THREE.Color(0xffffff),\n};\n\nconst loader = new THREE.GLTFLoader();\nloader.load(\"./assets/scene.gltf\", function (gltf) {\n  const model = gltf.scene;\n\n  model.traverse((child) => {\n    if (child.isMesh) {\n      child.castShadow = true;\n      child.receiveShadow = true;\n\n      if (child.material) {\n        let emissiveColor = emissiveColors.default;\n        for (const [key, color] of Object.entries(emissiveColors)) {\n          if (child.name.toLowerCase().includes(key)) {\n            emissiveColor = color;\n            break;\n          }\n        }\n\n        const newMaterial = new THREE.MeshStandardMaterial({\n          color: child.material.color,\n          map: child.material.map,\n          emissive: emissiveColor,\n          emissiveIntensity: 0,\n          roughness: 5.0,\n          metalness: 0.125,\n        });\n\n        if (child.material.map) {\n          newMaterial.map.encoding = THREE.sRGBEncoding;\n          newMaterial.map.flipY = false;\n        }\n\n        child.material = newMaterial;\n      }\n    }\n  });\n\n  const box = new THREE.Box3().setFromObject(model);\n  const center = box.getCenter(new THREE.Vector3());\n  model.position.sub(center);\n\n  scene.add(model);\n  document.querySelector(\".loading\").style.display = \"none\";\n});\n\n// 6. Post-processing Setup\nconst renderScene = new THREE.RenderPass(scene, camera);\nconst bloomPass = new THREE.UnrealBloomPass(\n  new THREE.Vector2(window.innerWidth, window.innerHeight),\n  2.0,\n  0.25,\n  0.5\n);\n\n// 7. Film Grain Effect\nconst FilmGrainShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    time: { value: 0 },\n    amount: { value: 0.15 },\n    speed: { value: 2.0 },\n    size: { value: 1.0 },\n  },\n\n  vertexShader: `\n      varying vec2 vUv;\n      void main() {\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n      }\n    `,\n\n  fragmentShader: `\n      uniform float time;\n      uniform float amount;\n      uniform float speed;\n      uniform float size;\n      uniform sampler2D tDiffuse;\n      varying vec2 vUv;\n\n      float random(vec2 co) {\n        return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n      }\n\n      void main() {\n        vec4 color = texture2D(tDiffuse, vUv);\n        vec2 position = vUv;\n        position *= size;\n        float grain = random(position * time * speed);\n        color.rgb += grain * amount;\n        gl_FragColor = color;\n      }\n    `,\n};\n\nconst filmGrainPass = new THREE.ShaderPass(FilmGrainShader);\nfilmGrainPass.renderToScreen = true;\n\nconst composer = new THREE.EffectComposer(renderer);\ncomposer.addPass(renderScene);\ncomposer.addPass(bloomPass);\ncomposer.addPass(filmGrainPass);\n\n// 8. Animation and Render Loop\nfunction lerp(start, end, factor) {\n  return start + (end - start) * factor;\n}\n\nfunction animate() {\n  requestAnimationFrame(animate);\n\n  filmGrainPass.uniforms.time.value = performance.now() * 0.001;\n\n  currentAngle = lerp(currentAngle, targetAngle, 0.025);\n  currentY = lerp(currentY, targetY, 0.025);\n\n  camera.position.x = Math.cos(currentAngle) * radius;\n  camera.position.z = Math.sin(currentAngle) * radius;\n  camera.position.y = lerp(camera.position.y, currentY, 0.05);\n\n  camera.lookAt(0, 0, 0);\n\n  composer.render();\n}\n\n// 9. Window Resize Handler\nfunction onWindowResize() {\n  camera.aspect = window.innerWidth / window.innerHeight;\n  camera.updateProjectionMatrix();\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  composer.setSize(window.innerWidth, window.innerHeight);\n}\n\nwindow.addEventListener(\"resize\", onWindowResize, false);\n\nanimate();\n",
      "cg-brutalist-corridor-scene/styles.css": "* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nhtml,\nbody {\n  width: 100%;\n  height: 100%;\n  background-color: #0f0f0f;\n}\n\n.corridor {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n}\n\n.loading {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-transform: uppercase;\n  font-family: \"PP Neue Montreal\";\n  font-size: 13px;\n  color: #fff;\n}\n\nh1 {\n  position: absolute;\n  bottom: 1em;\n  left: 1em;\n  width: 60%;\n  text-transform: uppercase;\n  font-family: \"LomoCopy Lt Std\";\n  color: #fff;\n  user-select: none;\n}\n\np,\na {\n  text-decoration: none;\n  text-transform: uppercase;\n  font-family: \"Akkurat Mono\";\n  font-size: 12px;\n  color: #fff;\n}\n\n.hero {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  z-index: 2;\n  mix-blend-mode: difference;\n}\n\nnav {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  padding: 2em;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.nav-items {\n  display: flex;\n  gap: 2em;\n}\n\n.footer {\n  position: absolute;\n  right: 2em;\n  bottom: 2em;\n}\n"
    }
  },
  {
    "title": "cg-eduardbodak-scroll-animation",
    "code": {
      "index.html": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Eduardbodak Animated Cards | mukta</title>\n    <link rel=\"stylesheet\" href=\"/styles.css\" />\n  </head>\n  <body>\n    <nav>\n      <div class=\"logo\"><span>Site Logo</span></div>\n      <div class=\"menu-btn\"><span>Menu</span></div>\n    </nav>\n\n    <section class=\"hero\">\n      <div class=\"hero-cards\">\n        <div class=\"card\" id=\"hero-card-1\">\n          <div class=\"card-title\">\n            <span>Plan</span>\n            <span>01</span>\n          </div>\n          <div class=\"card-title\">\n            <span>01</span>\n            <span>Plan</span>\n          </div>\n        </div>\n\n        <div class=\"card\" id=\"hero-card-2\">\n          <div class=\"card-title\">\n            <span>Design</span>\n            <span>02</span>\n          </div>\n          <div class=\"card-title\">\n            <span>02</span>\n            <span>Design</span>\n          </div>\n        </div>\n\n        <div class=\"card\" id=\"hero-card-3\">\n          <div class=\"card-title\">\n            <span>Develop</span>\n            <span>03</span>\n          </div>\n          <div class=\"card-title\">\n            <span>03</span>\n            <span>Develop</span>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <section class=\"about\">\n      <h1>Keep scrolling — it gets good</h1>\n    </section>\n\n    <section class=\"services\">\n      <div class=\"services-header\">\n        <h1>Stuff I make so you don’t have to</h1>\n      </div>\n\n      <div class=\"mobile-cards\">\n        <div class=\"cards-container\">\n          <div class=\"card\" id=\"mobile-card-1\">\n            <div class=\"card-wrapper\">\n              <div class=\"flip-card-inner\">\n                <div class=\"flip-card-front\">\n                  <div class=\"card-title\">\n                    <span>Plan</span>\n                    <span>01</span>\n                  </div>\n                  <div class=\"card-title\">\n                    <span>01</span>\n                    <span>Plan</span>\n                  </div>\n                </div>\n                <div class=\"flip-card-back\">\n                  <div class=\"card-title\">\n                    <span>Plan</span>\n                    <span>01</span>\n                  </div>\n                  <div class=\"card-copy\">\n                    <p>Discovery</p>\n                    <p>Audit</p>\n                    <p>User Flow</p>\n                    <p>Site Map</p>\n                    <p>Personas</p>\n                    <p>Strategy</p>\n                  </div>\n                  <div class=\"card-title\">\n                    <span>01</span>\n                    <span>Plan</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"card\" id=\"mobile-card-2\">\n            <div class=\"card-wrapper\">\n              <div class=\"flip-card-inner\">\n                <div class=\"flip-card-front\">\n                  <div class=\"card-title\">\n                    <span>Design</span>\n                    <span>02</span>\n                  </div>\n                  <div class=\"card-title\">\n                    <span>02</span>\n                    <span>Design</span>\n                  </div>\n                </div>\n                <div class=\"flip-card-back\">\n                  <div class=\"card-title\">\n                    <span>Design</span>\n                    <span>02</span>\n                  </div>\n                  <div class=\"card-copy\">\n                    <p>Wireframes</p>\n                    <p>UI Kits</p>\n                    <p>Prototypes</p>\n                    <p>Visual Style</p>\n                    <p>Interaction</p>\n                    <p>Design QA</p>\n                  </div>\n                  <div class=\"card-title\">\n                    <span>02</span>\n                    <span>Design</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"card\" id=\"mobile-card-3\">\n            <div class=\"card-wrapper\">\n              <div class=\"flip-card-inner\">\n                <div class=\"flip-card-front\">\n                  <div class=\"card-title\">\n                    <span>Develop</span>\n                    <span>03</span>\n                  </div>\n                  <div class=\"card-title\">\n                    <span>03</span>\n                    <span>Develop</span>\n                  </div>\n                </div>\n                <div class=\"flip-card-back\">\n                  <div class=\"card-title\">\n                    <span>Develop</span>\n                    <span>03</span>\n                  </div>\n                  <div class=\"card-copy\">\n                    <p>HTML/CSS/JS</p>\n                    <p>CMS Build</p>\n                    <p>GSAP Motion</p>\n                    <p>Responsive</p>\n                    <p>Optimization</p>\n                    <p>Launch</p>\n                  </div>\n                  <div class=\"card-title\">\n                    <span>03</span>\n                    <span>Develop</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <section class=\"cards\">\n      <div class=\"cards-container\">\n        <div class=\"card\" id=\"card-1\">\n          <div class=\"card-wrapper\">\n            <div class=\"flip-card-inner\">\n              <div class=\"flip-card-front\">\n                <div class=\"card-title\">\n                  <span>Plan</span>\n                  <span>01</span>\n                </div>\n                <div class=\"card-title\">\n                  <span>01</span>\n                  <span>Plan</span>\n                </div>\n              </div>\n              <div class=\"flip-card-back\">\n                <div class=\"card-title\">\n                  <span>Plan</span>\n                  <span>01</span>\n                </div>\n                <div class=\"card-copy\">\n                  <p>Discovery</p>\n                  <p>Audit</p>\n                  <p>User Flow</p>\n                  <p>Site Map</p>\n                  <p>Personas</p>\n                  <p>Strategy</p>\n                </div>\n                <div class=\"card-title\">\n                  <span>01</span>\n                  <span>Plan</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"card\" id=\"card-2\">\n          <div class=\"card-wrapper\">\n            <div class=\"flip-card-inner\">\n              <div class=\"flip-card-front\">\n                <div class=\"card-title\">\n                  <span>Design</span>\n                  <span>02</span>\n                </div>\n                <div class=\"card-title\">\n                  <span>02</span>\n                  <span>Design</span>\n                </div>\n              </div>\n              <div class=\"flip-card-back\">\n                <div class=\"card-title\">\n                  <span>Design</span>\n                  <span>02</span>\n                </div>\n                <div class=\"card-copy\">\n                  <p>Wireframes</p>\n                  <p>UI Kits</p>\n                  <p>Prototypes</p>\n                  <p>Visual Style</p>\n                  <p>Interaction</p>\n                  <p>Design QA</p>\n                </div>\n                <div class=\"card-title\">\n                  <span>02</span>\n                  <span>Design</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"card\" id=\"card-3\">\n          <div class=\"card-wrapper\">\n            <div class=\"flip-card-inner\">\n              <div class=\"flip-card-front\">\n                <div class=\"card-title\">\n                  <span>Develop</span>\n                  <span>03</span>\n                </div>\n                <div class=\"card-title\">\n                  <span>03</span>\n                  <span>Develop</span>\n                </div>\n              </div>\n              <div class=\"flip-card-back\">\n                <div class=\"card-title\">\n                  <span>Develop</span>\n                  <span>03</span>\n                </div>\n                <div class=\"card-copy\">\n                  <p>HTML/CSS/JS</p>\n                  <p>CMS Build</p>\n                  <p>GSAP Motion</p>\n                  <p>Responsive</p>\n                  <p>Optimization</p>\n                  <p>Launch</p>\n                </div>\n                <div class=\"card-title\">\n                  <span>03</span>\n                  <span>Develop</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <section class=\"outro\">\n      <h1>The story’s not over yet</h1>\n    </section>\n\n    <script type=\"module\" src=\"/script.js\"></script>\n  </body>\n</html>\n",
      "package.json": "{\n  \"name\": \"cg-eduardbodak-scroll-animation\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"dev\": \"vite\"\n  },\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"gsap\": \"^3.13.0\",\n    \"lenis\": \"^1.3.4\",\n    \"vite\": \"^6.3.5\"\n  }\n}\n",
      "script.js": "import gsap from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport Lenis from \"lenis\";\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  gsap.registerPlugin(ScrollTrigger);\n\n  const lenis = new Lenis();\n  lenis.on(\"scroll\", ScrollTrigger.update);\n  gsap.ticker.add((time) => {\n    lenis.raf(time * 1000);\n  });\n  gsap.ticker.lagSmoothing(0);\n\n  const smoothStep = (p) => p * p * (3 - 2 * p);\n\n  if (window.innerWidth > 1000) {\n    ScrollTrigger.create({\n      trigger: \".hero\",\n      start: \"top top\",\n      end: \"75% top\",\n      scrub: 1,\n      onUpdate: (self) => {\n        const progress = self.progress;\n\n        const heroCardsContainerOpacity = gsap.utils.interpolate(\n          1,\n          0.5,\n          smoothStep(progress)\n        );\n        gsap.set(\".hero-cards\", {\n          opacity: heroCardsContainerOpacity,\n        });\n\n        [\"#hero-card-1\", \"#hero-card-2\", \"#hero-card-3\"].forEach(\n          (cardId, index) => {\n            const delay = index * 0.9;\n            const cardProgress = gsap.utils.clamp(\n              0,\n              1,\n              (progress - delay * 0.1) / (1 - delay * 0.1)\n            );\n\n            const y = gsap.utils.interpolate(\n              \"0%\",\n              \"350%\",\n              smoothStep(cardProgress)\n            );\n            const scale = gsap.utils.interpolate(\n              1,\n              0.75,\n              smoothStep(cardProgress)\n            );\n\n            let x = \"0%\";\n            let rotation = 0;\n            if (index === 0) {\n              x = gsap.utils.interpolate(\"0%\", \"90%\", smoothStep(cardProgress));\n              rotation = gsap.utils.interpolate(\n                0,\n                -15,\n                smoothStep(cardProgress)\n              );\n            } else if (index === 2) {\n              x = gsap.utils.interpolate(\n                \"0%\",\n                \"-90%\",\n                smoothStep(cardProgress)\n              );\n              rotation = gsap.utils.interpolate(\n                0,\n                15,\n                smoothStep(cardProgress)\n              );\n            }\n\n            gsap.set(cardId, {\n              y: y,\n              x: x,\n              rotation: rotation,\n              scale: scale,\n            });\n          }\n        );\n      },\n    });\n\n    ScrollTrigger.create({\n      trigger: \".services\",\n      start: \"top top\",\n      end: `+=${window.innerHeight * 4}px`,\n      pin: \".services\",\n      pinSpacing: true,\n    });\n\n    ScrollTrigger.create({\n      trigger: \".services\",\n      start: \"top top\",\n      end: `+=${window.innerHeight * 4}px`,\n      onLeave: () => {\n        const servicesSection = document.querySelector(\".services\");\n        const servicesRect = servicesSection.getBoundingClientRect();\n        const servicesTop = window.pageYOffset + servicesRect.top;\n\n        gsap.set(\".cards\", {\n          position: \"absolute\",\n          top: servicesTop,\n          left: 0,\n          width: \"100vw\",\n          height: \"100vh\",\n        });\n      },\n      onEnterBack: () => {\n        gsap.set(\".cards\", {\n          position: \"fixed\",\n          top: 0,\n          left: 0,\n          width: \"100vw\",\n          height: \"100vh\",\n        });\n      },\n    });\n\n    ScrollTrigger.create({\n      trigger: \".services\",\n      start: \"top bottom\",\n      end: `+=${window.innerHeight * 4}`,\n      scrub: 1,\n      onUpdate: (self) => {\n        const progress = self.progress;\n\n        const headerProgress = gsap.utils.clamp(0, 1, progress / 0.9);\n        const headerY = gsap.utils.interpolate(\n          \"400%\",\n          \"0%\",\n          smoothStep(headerProgress)\n        );\n        gsap.set(\".services-header\", {\n          y: headerY,\n        });\n\n        [\"#card-1\", \"#card-2\", \"#card-3\"].forEach((cardId, index) => {\n          const delay = index * 0.5;\n          const cardProgress = gsap.utils.clamp(\n            0,\n            1,\n            (progress - delay * 0.1) / (0.9 - delay * 0.1)\n          );\n\n          const innerCard = document.querySelector(\n            `${cardId} .flip-card-inner`\n          );\n\n          let y;\n          if (cardProgress < 0.4) {\n            const normalizedProgress = cardProgress / 0.4;\n            y = gsap.utils.interpolate(\n              \"-100%\",\n              \"50%\",\n              smoothStep(normalizedProgress)\n            );\n          } else if (cardProgress < 0.6) {\n            const normalizedProgress = (cardProgress - 0.4) / 0.2;\n            y = gsap.utils.interpolate(\n              \"50%\",\n              \"0%\",\n              smoothStep(normalizedProgress)\n            );\n          } else {\n            y = \"0%\";\n          }\n\n          let scale;\n          if (cardProgress < 0.4) {\n            const normalizedProgress = cardProgress / 0.4;\n            scale = gsap.utils.interpolate(\n              0.25,\n              0.75,\n              smoothStep(normalizedProgress)\n            );\n          } else if (cardProgress < 0.6) {\n            const normalizedProgress = (cardProgress - 0.4) / 0.2;\n            scale = gsap.utils.interpolate(\n              0.75,\n              1,\n              smoothStep(normalizedProgress)\n            );\n          } else {\n            scale = 1;\n          }\n\n          let opacity;\n          if (cardProgress < 0.2) {\n            const normalizedProgress = cardProgress / 0.2;\n            opacity = smoothStep(normalizedProgress);\n          } else {\n            opacity = 1;\n          }\n\n          let x, rotate, rotationY;\n          if (cardProgress < 0.6) {\n            x = index === 0 ? \"100%\" : index === 1 ? \"0%\" : \"-100%\";\n            rotate = index === 0 ? -5 : index === 1 ? 0 : 5;\n            rotationY = 0;\n          } else if (cardProgress < 1) {\n            const normalizedProgress = (cardProgress - 0.6) / 0.4;\n            x = gsap.utils.interpolate(\n              index === 0 ? \"100%\" : index === 1 ? \"0%\" : \"-100%\",\n              \"0%\",\n              smoothStep(normalizedProgress)\n            );\n            rotate = gsap.utils.interpolate(\n              index === 0 ? -5 : index === 1 ? 0 : 5,\n              0,\n              smoothStep(normalizedProgress)\n            );\n            rotationY = smoothStep(normalizedProgress) * 180;\n          } else {\n            x = \"0%\";\n            rotate = 0;\n            rotationY = 180;\n          }\n\n          gsap.set(cardId, {\n            opacity: opacity,\n            y: y,\n            x: x,\n            rotate: rotate,\n            scale: scale,\n          });\n\n          gsap.set(innerCard, {\n            rotationY: rotationY,\n          });\n        });\n      },\n    });\n  }\n});\n",
      "styles.css": "@import url(\"https://fonts.googleapis.com/css2?family=DM+Mono:ital,wght@0,300;0,400;0,500;1,300;1,400;1,500&family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap\");\n\n:root {\n  --dark: #000;\n  --light: #f9f4eb;\n  --light2: #f0ece5;\n  --accent-1: #e5d9f6;\n  --accent-2: #ffd2f3;\n  --accent-3: #fcdca6;\n}\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: \"DM Sans\";\n}\n\nh1 {\n  font-size: 1.5rem;\n  font-weight: 500;\n}\n\np {\n  font-size: 1.1rem;\n  font-weight: 500;\n}\n\nspan {\n  text-transform: uppercase;\n  font-family: \"DM Mono\";\n  font-size: 0.75rem;\n  font-weight: 500;\n}\n\nnav {\n  position: fixed;\n  width: 100vw;\n  padding: 2rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  z-index: 2;\n}\n\n.logo span,\n.menu-btn span {\n  font-size: 0.8rem;\n  padding: 0.75rem;\n  border-radius: 0.25rem;\n}\n\n.logo span {\n  background-color: var(--dark);\n  color: var(--light);\n}\n\n.menu-btn span {\n  background-color: var(--light2);\n  color: var(--dark);\n}\n\nsection {\n  position: relative;\n  width: 100vw;\n  height: 100svh;\n  padding: 2rem;\n  overflow: hidden;\n}\n\n.hero {\n  background-color: var(--light);\n  color: var(--dark);\n}\n\n.about,\n.outro {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: var(--dark);\n  color: var(--light);\n}\n\n.hero-cards {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 35%;\n  display: flex;\n  justify-content: center;\n  gap: 1rem;\n}\n\n.hero-cards .card {\n  flex: 1;\n  position: relative;\n  aspect-ratio: 5/7;\n  padding: 0.75rem;\n  border-radius: 0.5rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.card-title {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n}\n\n.hero-cards .card span {\n  font-size: 0.7rem;\n}\n\n.hero-cards .card#hero-card-1 {\n  background-color: var(--accent-1);\n  transform-origin: top right;\n  z-index: 2;\n}\n\n.hero-cards .card#hero-card-2 {\n  background-color: var(--accent-2);\n  z-index: 1;\n}\n\n.hero-cards .card#hero-card-3 {\n  background-color: var(--accent-3);\n  transform-origin: top left;\n  z-index: 0;\n}\n\n.services {\n  padding: 8rem 2rem;\n}\n\n.services-header {\n  position: relative;\n  width: 100%;\n  text-align: center;\n  transform: translateY(400%);\n  will-change: transform;\n}\n\n.cards {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100svh;\n  display: flex;\n  justify-content: center;\n  z-index: -1;\n  background-color: var(--light);\n}\n\n.cards-container {\n  position: relative;\n  width: 75%;\n  height: 100%;\n  margin-top: 4rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 4rem;\n}\n\n.cards-container .card {\n  flex: 1;\n  position: relative;\n  aspect-ratio: 5/7;\n  perspective: 1000px;\n}\n\n.cards-container .card .card-wrapper {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 100%;\n  height: 100%;\n  animation: floating 2s infinite ease-in-out;\n}\n\n@keyframes floating {\n  0% {\n    transform: translate(-50%, -50%);\n  }\n  50% {\n    transform: translate(-50%, -55%);\n  }\n  100% {\n    transform: translate(-50%, -50%);\n  }\n}\n\n#card-1 .card-wrapper {\n  animation-delay: 0;\n}\n\n#card-2 .card-wrapper {\n  animation-delay: 0.25s;\n}\n\n#card-3 .card-wrapper {\n  animation-delay: 0.5s;\n}\n\n.flip-card-inner {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  transform-style: preserve-3d;\n}\n\n.flip-card-front,\n.flip-card-back {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  border-radius: 1rem;\n  backface-visibility: hidden;\n  overflow: hidden;\n}\n\n.flip-card-front {\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n}\n\n#card-1 .flip-card-front {\n  background-color: var(--accent-1);\n}\n\n#card-2 .flip-card-front {\n  background-color: var(--accent-2);\n}\n\n#card-3 .flip-card-front {\n  background-color: var(--accent-3);\n}\n\n.flip-card-back {\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 2rem;\n  background-color: #fff;\n  transform: rotateY(180deg);\n}\n\n.card-copy {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.card-copy p {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1rem;\n  background-color: var(--light2);\n  border-radius: 0.25rem;\n}\n\n.cards #card-1 {\n  transform: translateX(100%) translateY(-100%) rotate(-5deg) scale(0.25);\n  z-index: 2;\n}\n\n.cards #card-2 {\n  transform: translateX(0%) translateY(-100%) rotate(0deg) scale(0.25);\n  z-index: 1;\n}\n\n.cards #card-3 {\n  transform: translateX(-100%) translateY(-100%) rotate(5deg) scale(0.25);\n  z-index: 0;\n}\n\n.cards .cards-container .card {\n  opacity: 0;\n}\n\n.mobile-cards {\n  display: none;\n}\n\n@media (max-width: 1000px) {\n  .hero-cards {\n    width: calc(100% - 4rem);\n  }\n\n  .services {\n    min-height: 100svh;\n    height: 100%;\n  }\n\n  .services-header {\n    transform: translateY(0%);\n  }\n\n  .mobile-cards {\n    display: block;\n    height: 100%;\n  }\n\n  .mobile-cards .cards-container {\n    width: calc(100% - 4rem);\n    display: block;\n    height: 100%;\n    margin: 4rem auto;\n  }\n\n  .mobile-cards .cards-container .card {\n    margin-bottom: 2rem;\n  }\n\n  .mobile-cards .cards-container .card-wrapper {\n    animation: none;\n  }\n\n  .mobile-cards .card .flip-card-front {\n    transform: rotateY(180deg);\n  }\n\n  .mobile-cards .flip-card-back {\n    transform: rotateY(0deg);\n  }\n}\n"
    }
  },
  {
    "title": "cg-wodniack-work-section-scroll",
    "code": {
      "v1/index.html": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Wodniack.dev Scroll Animation V1 | mukta</title>\n    <link rel=\"stylesheet\" href=\"styles.css\" />\n  </head>\n  <body>\n    <section class=\"intro\">\n      <h1>( Intro )</h1>\n    </section>\n    <section class=\"work\">\n      <div class=\"text-container\"></div>\n      <div class=\"cards\">\n        <div class=\"card\">\n          <div class=\"card-img\"><img src=\"./assets/img1.jpg\" alt=\"\" /></div>\n          <div class=\"card-copy\">\n            <p>Eclipse Horizon</p>\n            <p>739284</p>\n          </div>\n        </div>\n        <div class=\"card\">\n          <div class=\"card-img\"><img src=\"./assets/img2.jpg\" alt=\"\" /></div>\n          <div class=\"card-copy\">\n            <p>Vision Link</p>\n            <p>385912</p>\n          </div>\n        </div>\n        <div class=\"card\">\n          <div class=\"card-img\"><img src=\"./assets/img3.jpg\" alt=\"\" /></div>\n          <div class=\"card-copy\">\n            <p>Iron Bond</p>\n            <p>621478</p>\n          </div>\n        </div>\n        <div class=\"card\">\n          <div class=\"card-img\"><img src=\"./assets/img4.jpg\" alt=\"\" /></div>\n          <div class=\"card-copy\">\n            <p>Golden Case</p>\n            <p>839251</p>\n          </div>\n        </div>\n        <div class=\"card\">\n          <div class=\"card-img\"><img src=\"./assets/img5.jpg\" alt=\"\" /></div>\n          <div class=\"card-copy\">\n            <p>Virtual Space</p>\n            <p>456732</p>\n          </div>\n        </div>\n        <div class=\"card\">\n          <div class=\"card-img\"><img src=\"./assets/img6.jpg\" alt=\"\" /></div>\n          <div class=\"card-copy\">\n            <p>Smart Vision</p>\n            <p>974315</p>\n          </div>\n        </div>\n        <div class=\"card\">\n          <div class=\"card-img\"><img src=\"./assets/img7.jpg\" alt=\"\" /></div>\n          <div class=\"card-copy\">\n            <p>Desert Tunnel</p>\n            <p>682943</p>\n          </div>\n        </div>\n      </div>\n    </section>\n    <section class=\"outro\">\n      <h1>( Outro )</h1>\n    </section>\n    <script src=\"https://unpkg.com/lenis@1.1.20/dist/lenis.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js\"></script>\n    <script src=\"./script.js\"></script>\n  </body>\n</html>\n",
      "v1/script.js": "document.addEventListener(\"DOMContentLoaded\", () => {\n  const lenis = new Lenis();\n  lenis.on(\"scroll\", ScrollTrigger.update);\n  gsap.ticker.add((time) => lenis.raf(time * 1000));\n  gsap.ticker.lagSmoothing(0);\n\n  const workSection = document.querySelector(\".work\");\n  const cardsContainer = document.querySelector(\".cards\");\n  const moveDistance = window.innerWidth * 5;\n  let currentXPosition = 0;\n\n  const lerp = (start, end, t) => start + (end - start) * t;\n\n  const gridCanvas = document.createElement(\"canvas\");\n  gridCanvas.id = \"grid-canvas\";\n  workSection.appendChild(gridCanvas);\n  const gridCtx = gridCanvas.getContext(\"2d\");\n\n  const resizeGridCanvas = () => {\n    const dpr = window.devicePixelRatio || 1;\n    [gridCanvas.width, gridCanvas.height] = [\n      window.innerWidth * dpr,\n      window.innerHeight * dpr,\n    ];\n    [gridCanvas.style.width, gridCanvas.style.height] = [\n      `${window.innerWidth}px`,\n      `${window.innerHeight}px`,\n    ];\n    gridCtx.scale(dpr, dpr);\n  };\n  resizeGridCanvas();\n\n  const drawGrid = (scrollProgress = 0) => {\n    gridCtx.fillStyle = \"black\";\n    gridCtx.fillRect(0, 0, gridCanvas.width, gridCanvas.height);\n    gridCtx.fillStyle = \"#f40c3f\";\n    const [dotSize, spacing] = [1, 30];\n    const [rows, cols] = [\n      Math.ceil(gridCanvas.height / spacing),\n      Math.ceil(gridCanvas.width / spacing) + 15,\n    ];\n    const offset = (scrollProgress * spacing * 10) % spacing;\n\n    for (let y = 0; y < rows; y++) {\n      for (let x = 0; x < cols; x++) {\n        gridCtx.beginPath();\n        gridCtx.arc(x * spacing - offset, y * spacing, dotSize, 0, Math.PI * 2);\n        gridCtx.fill();\n      }\n    }\n  };\n\n  const lettersScene = new THREE.Scene();\n  const lettersCamera = new THREE.PerspectiveCamera(\n    50,\n    window.innerWidth / window.innerHeight,\n    0.1,\n    1000\n  );\n  lettersCamera.position.z = 20;\n\n  const lettersRenderer = new THREE.WebGLRenderer({\n    antialias: true,\n    alpha: true,\n  });\n  lettersRenderer.setSize(window.innerWidth, window.innerHeight);\n  lettersRenderer.setClearColor(0x000000, 0);\n  lettersRenderer.setPixelRatio(window.devicePixelRatio);\n  lettersRenderer.domElement.id = \"letters-canvas\";\n  workSection.appendChild(lettersRenderer.domElement);\n\n  const createTextAnimationPath = (yPos, amplitude) => {\n    const points = [];\n    for (let i = 0; i <= 20; i++) {\n      const t = i / 20;\n      points.push(\n        new THREE.Vector3(\n          -25 + 50 * t,\n          yPos + Math.sin(t * Math.PI) * -amplitude,\n          (1 - Math.pow(Math.abs(t - 0.5) * 2, 2)) * -5\n        )\n      );\n    }\n    const curve = new THREE.CatmullRomCurve3(points);\n    const line = new THREE.Line(\n      new THREE.BufferGeometry().setFromPoints(curve.getPoints(100)),\n      new THREE.LineBasicMaterial({ color: 0x000, linewidth: 1 })\n    );\n    line.curve = curve;\n    return line;\n  };\n\n  const path = [\n    createTextAnimationPath(10, 2),\n    createTextAnimationPath(3.5, 1),\n    createTextAnimationPath(-3.5, -1),\n    createTextAnimationPath(-10, -2),\n  ];\n  path.forEach((line) => lettersScene.add(line));\n\n  const textContainer = document.querySelector(\".text-container\");\n  const letterPositions = new Map();\n  path.forEach((line, i) => {\n    line.letterElements = Array.from({ length: 15 }, () => {\n      const el = document.createElement(\"div\");\n      el.className = \"letter\";\n      el.textContent = [\"W\", \"O\", \"R\", \"K\"][i];\n      textContainer.appendChild(el);\n      letterPositions.set(el, {\n        current: { x: 0, y: 0 },\n        target: { x: 0, y: 0 },\n      });\n      return el;\n    });\n  });\n\n  const lineSpeedMultipliers = [0.8, 1, 0.7, 0.9];\n  const updateTargetPositions = (scrollProgress = 0) => {\n    path.forEach((line, lineIndex) => {\n      line.letterElements.forEach((element, i) => {\n        const point = line.curve.getPoint(\n          (i / 14 + scrollProgress * lineSpeedMultipliers[lineIndex]) % 1\n        );\n        const vector = point.clone().project(lettersCamera);\n        const positions = letterPositions.get(element);\n        positions.target = {\n          x: (-vector.x * 0.5 + 0.5) * window.innerWidth,\n          y: (-vector.y * 0.5 + 0.5) * window.innerHeight,\n        };\n      });\n    });\n  };\n\n  const updateLetterPositions = () => {\n    letterPositions.forEach((positions, element) => {\n      const distX = positions.target.x - positions.current.x;\n      if (Math.abs(distX) > window.innerWidth * 0.7) {\n        [positions.current.x, positions.current.y] = [\n          positions.target.x,\n          positions.target.y,\n        ];\n      } else {\n        positions.current.x = lerp(\n          positions.current.x,\n          positions.target.x,\n          0.07\n        );\n        positions.current.y = lerp(\n          positions.current.y,\n          positions.target.y,\n          0.07\n        );\n      }\n      element.style.transform = `translate(-50%, -50%) translate3d(${positions.current.x}px, ${positions.current.y}px, 0px)`;\n    });\n  };\n\n  const updateCardsPosition = () => {\n    const targetX = -moveDistance * (ScrollTrigger.getAll()[0]?.progress || 0);\n    currentXPosition = lerp(currentXPosition, targetX, 0.07);\n    gsap.set(cardsContainer, {\n      x: currentXPosition,\n    });\n  };\n\n  const animate = () => {\n    updateLetterPositions();\n    updateCardsPosition();\n    lettersRenderer.render(lettersScene, lettersCamera);\n    requestAnimationFrame(animate);\n  };\n\n  ScrollTrigger.create({\n    trigger: \".work\",\n    start: \"top top\",\n    end: \"+=700%\",\n    pin: true,\n    pinSpacing: true,\n    scrub: 1,\n    onUpdate: (self) => {\n      updateTargetPositions(self.progress);\n      drawGrid(self.progress);\n    },\n  });\n\n  drawGrid(0);\n  animate();\n  updateTargetPositions(0);\n\n  window.addEventListener(\"resize\", () => {\n    resizeGridCanvas();\n    drawGrid(ScrollTrigger.getAll()[0]?.progress || 0);\n    lettersCamera.aspect = window.innerWidth / window.innerHeight;\n    lettersCamera.updateProjectionMatrix();\n    lettersRenderer.setSize(window.innerWidth, window.innerHeight);\n    updateTargetPositions(ScrollTrigger.getAll()[0]?.progress || 0);\n  });\n});\n",
      "v1/styles.css": "* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  background-color: #f40c3f;\n  overflow-x: hidden;\n}\n\nimg {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\nsection {\n  position: relative;\n  width: 100vw;\n  height: 100vh;\n  overflow: hidden;\n}\n\n.intro,\n.outro {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #f40c3f;\n  color: #000;\n}\n\n.intro h1,\n.outro h1 {\n  font-family: \"GR NORCH\";\n  font-size: 5vw;\n  font-weight: lighter;\n  text-transform: uppercase;\n}\n\n.outro {\n  top: -0.125em;\n}\n\n.work {\n  background-color: #000;\n  overflow: hidden;\n}\n\ncanvas {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n#grid-canvas {\n  z-index: 0;\n}\n\n#letters-canvas {\n  z-index: 1;\n}\n\n.text-container {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 2;\n  pointer-events: none;\n  perspective: 2500px;\n  perspective-origin: center;\n}\n\n.letter {\n  position: absolute;\n  font-family: \"Bigger\", sans-serif;\n  font-size: 14rem;\n  font-weight: bold;\n  color: #f40c3f;\n  z-index: 2;\n  transform-origin: center;\n  transform-style: preserve-3d;\n  will-change: transform;\n}\n\n.cards {\n  position: relative;\n  width: 500vw;\n  height: 100vh;\n  padding-left: 100vw;\n  overflow: hidden;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  z-index: 10;\n}\n\n.card {\n  width: 10%;\n  height: 50%;\n  padding: 8px;\n  background-color: #000;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.card-img {\n  flex: 1;\n  overflow: hidden;\n}\n\n.card-copy {\n  height: 12px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 4px;\n  text-transform: uppercase;\n  font-family: \"Akkurat Mono\";\n  font-size: 12px;\n  color: #f40c3f;\n}\n",
      "v2/index.html": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Wodniack.dev Scroll Animation V2 | mukta</title>\n    <link rel=\"stylesheet\" href=\"styles.css\" />\n  </head>\n  <body>\n    <section class=\"intro\">\n      <h1>( Intro )</h1>\n    </section>\n    <section class=\"work\">\n      <div class=\"text-container\"></div>\n    </section>\n    <section class=\"outro\">\n      <h1>( Outro )</h1>\n    </section>\n    <script src=\"https://unpkg.com/lenis@1.1.20/dist/lenis.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js\"></script>\n    <script src=\"./script.js\"></script>\n  </body>\n</html>\n",
      "v2/script.js": "document.addEventListener(\"DOMContentLoaded\", async () => {\n  const lenis = new Lenis();\n  lenis.on(\"scroll\", ScrollTrigger.update);\n  gsap.ticker.add((time) => lenis.raf(time * 1000));\n  gsap.ticker.lagSmoothing(0);\n\n  const workSection = document.querySelector(\".work\");\n\n  const lerp = (start, end, t) => start + (end - start) * t;\n\n  const gridCanvas = document.createElement(\"canvas\");\n  gridCanvas.id = \"grid-canvas\";\n  workSection.appendChild(gridCanvas);\n  const gridCtx = gridCanvas.getContext(\"2d\");\n\n  const resizeGridCanvas = () => {\n    const dpr = window.devicePixelRatio || 1;\n    [gridCanvas.width, gridCanvas.height] = [\n      window.innerWidth * dpr,\n      window.innerHeight * dpr,\n    ];\n    [gridCanvas.style.width, gridCanvas.style.height] = [\n      `${window.innerWidth}px`,\n      `${window.innerHeight}px`,\n    ];\n    gridCtx.scale(dpr, dpr);\n  };\n  resizeGridCanvas();\n\n  const drawGrid = (scrollProgress = 0) => {\n    gridCtx.fillStyle = \"black\";\n    gridCtx.fillRect(0, 0, gridCanvas.width, gridCanvas.height);\n    gridCtx.fillStyle = \"#f40c3f\";\n    const [dotSize, spacing] = [0.75, 20];\n    const [rows, cols] = [\n      Math.ceil(gridCanvas.height / spacing),\n      Math.ceil(gridCanvas.width / spacing) + 15,\n    ];\n    const offset = (scrollProgress * spacing * 10) % spacing;\n\n    for (let y = 0; y < rows; y++) {\n      for (let x = 0; x < cols; x++) {\n        gridCtx.beginPath();\n        gridCtx.arc(x * spacing - offset, y * spacing, dotSize, 0, Math.PI * 2);\n        gridCtx.fill();\n      }\n    }\n  };\n\n  const lettersScene = new THREE.Scene();\n  const cardsScene = new THREE.Scene();\n\n  const createCamera = () =>\n    new THREE.PerspectiveCamera(\n      50,\n      window.innerWidth / window.innerHeight,\n      0.1,\n      1000\n    );\n\n  const lettersCamera = createCamera();\n  const cardsCamera = createCamera();\n\n  const lettersRenderer = new THREE.WebGLRenderer({\n    antialias: true,\n    alpha: true,\n  });\n  lettersRenderer.setSize(window.innerWidth, window.innerHeight);\n  lettersRenderer.setClearColor(0x000000, 0);\n  lettersRenderer.setPixelRatio(window.devicePixelRatio);\n  lettersRenderer.domElement.id = \"letters-canvas\";\n\n  const cardsRenderer = new THREE.WebGLRenderer({\n    antialias: true,\n    alpha: true,\n  });\n  cardsRenderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n  cardsRenderer.setSize(window.innerWidth, window.innerHeight);\n  cardsRenderer.setClearColor(0x000000, 0);\n  cardsRenderer.domElement.id = \"cards-canvas\";\n\n  workSection.appendChild(lettersRenderer.domElement);\n  workSection.appendChild(cardsRenderer.domElement);\n\n  const createTextAnimationPath = (yPos, amplitude) => {\n    const points = [];\n    for (let i = 0; i <= 20; i++) {\n      const t = i / 20;\n      points.push(\n        new THREE.Vector3(\n          -25 + 50 * t,\n          yPos + Math.sin(t * Math.PI) * -amplitude,\n          (1 - Math.pow(Math.abs(t - 0.5) * 2, 2)) * -5\n        )\n      );\n    }\n    const curve = new THREE.CatmullRomCurve3(points);\n    const line = new THREE.Line(\n      new THREE.BufferGeometry().setFromPoints(curve.getPoints(100)),\n      new THREE.LineBasicMaterial({ color: 0x000, linewidth: 1 })\n    );\n    line.curve = curve;\n    return line;\n  };\n\n  const paths = [\n    createTextAnimationPath(10, 2),\n    createTextAnimationPath(3.5, 1),\n    createTextAnimationPath(-3.5, -1),\n    createTextAnimationPath(-10, -2),\n  ];\n  paths.forEach((line) => lettersScene.add(line));\n\n  const textContainer = document.querySelector(\".text-container\");\n  const letterPositions = new Map();\n  paths.forEach((line, i) => {\n    line.letterElements = Array.from({ length: 15 }, () => {\n      const el = document.createElement(\"div\");\n      el.className = \"letter\";\n      el.textContent = [\"W\", \"O\", \"R\", \"K\"][i];\n      textContainer.appendChild(el);\n      letterPositions.set(el, {\n        current: { x: 0, y: 0 },\n        target: { x: 0, y: 0 },\n      });\n      return el;\n    });\n  });\n\n  const loadImage = (num) =>\n    new Promise((resolve) => {\n      const texture = new THREE.TextureLoader().load(\n        `assets/img${num}.jpg`,\n        (loadedTexture) => {\n          Object.assign(loadedTexture, {\n            generateMipmaps: true,\n            minFilter: THREE.LinearMipmapLinearFilter,\n            magFilter: THREE.LinearFilter,\n            anisotropy: cardsRenderer.capabilities.getMaxAnisotropy(),\n          });\n          resolve(loadedTexture);\n        }\n      );\n    });\n\n  const images = await Promise.all([1, 2, 3, 4, 5, 6, 7].map(loadImage));\n\n  const textureCanvas = document.createElement(\"canvas\");\n  const ctx = textureCanvas.getContext(\"2d\");\n  [textureCanvas.width, textureCanvas.height] = [4096, 2048];\n\n  const drawCardsOnCanvas = (offset = 0) => {\n    ctx.clearRect(0, 0, textureCanvas.width, textureCanvas.height);\n    const [cardWidth, cardHeight] = [\n      textureCanvas.width / 3,\n      textureCanvas.height / 2,\n    ];\n    const spacing = textureCanvas.width / 2.5;\n    images.forEach((img, i) => {\n      if (img?.image) {\n        ctx.drawImage(\n          img.image,\n          i * spacing + (0.35 - offset) * textureCanvas.width * 5 - cardWidth,\n          (textureCanvas.height - cardHeight) / 2,\n          cardWidth,\n          cardHeight\n        );\n      }\n    });\n  };\n\n  const cardsTexture = new THREE.CanvasTexture(textureCanvas);\n  Object.assign(cardsTexture, {\n    generateMipmaps: true,\n    minFilter: THREE.LinearMipmapLinearFilter,\n    magFilter: THREE.LinearFilter,\n    anisotropy: cardsRenderer.capabilities.getMaxAnisotropy(),\n    wrapS: THREE.RepeatWrapping,\n    wrapT: THREE.RepeatWrapping,\n  });\n\n  const cardsPlane = new THREE.Mesh(\n    new THREE.PlaneGeometry(30, 15, 50, 1),\n    new THREE.MeshBasicMaterial({\n      map: cardsTexture,\n      side: THREE.DoubleSide,\n      transparent: true,\n      opacity: 1,\n      depthTest: false,\n      depthWrite: false,\n    })\n  );\n  cardsScene.add(cardsPlane);\n\n  const positions = cardsPlane.geometry.attributes.position;\n  for (let i = 0; i < positions.count; i++) {\n    positions.setZ(i, Math.pow(positions.getX(i) / 15, 2) * 5);\n  }\n  positions.needsUpdate = true;\n\n  [lettersCamera, cardsCamera].forEach((camera) => camera.position.setZ(20));\n\n  const lineSpeedMultipliers = [0.8, 1, 0.7, 0.9];\n  const updateTargetPositions = (scrollProgress = 0) => {\n    paths.forEach((line, lineIndex) => {\n      line.letterElements.forEach((element, i) => {\n        const point = line.curve.getPoint(\n          (i / 14 + scrollProgress * lineSpeedMultipliers[lineIndex]) % 1\n        );\n        const vector = point.clone().project(lettersCamera);\n        const positions = letterPositions.get(element);\n        positions.target = {\n          x: (-vector.x * 0.5 + 0.5) * window.innerWidth,\n          y: (-vector.y * 0.5 + 0.5) * window.innerHeight,\n        };\n      });\n    });\n  };\n\n  const updateLetterPositions = () => {\n    letterPositions.forEach((positions, element) => {\n      const distX = positions.target.x - positions.current.x;\n      if (Math.abs(distX) > window.innerWidth * 0.7) {\n        [positions.current.x, positions.current.y] = [\n          positions.target.x,\n          positions.target.y,\n        ];\n      } else {\n        positions.current.x = lerp(\n          positions.current.x,\n          positions.target.x,\n          0.07\n        );\n        positions.current.y = lerp(\n          positions.current.y,\n          positions.target.y,\n          0.07\n        );\n      }\n      element.style.transform = `translate(-50%, -50%) translate3d(${positions.current.x}px, ${positions.current.y}px, 0px)`;\n    });\n  };\n\n  const animate = () => {\n    updateLetterPositions();\n    lettersRenderer.render(lettersScene, lettersCamera);\n    cardsRenderer.render(cardsScene, cardsCamera);\n    requestAnimationFrame(animate);\n  };\n\n  ScrollTrigger.create({\n    trigger: \".work\",\n    start: \"top top\",\n    end: \"+=700%\",\n    pin: true,\n    pinSpacing: true,\n    scrub: 1,\n    onUpdate: (self) => {\n      updateTargetPositions(self.progress);\n      drawCardsOnCanvas(self.progress);\n      drawGrid(self.progress);\n      cardsTexture.needsUpdate = true;\n    },\n  });\n\n  drawGrid(0);\n  animate();\n  updateTargetPositions(0);\n\n  window.addEventListener(\"resize\", () => {\n    resizeGridCanvas();\n    drawGrid(ScrollTrigger.getAll()[0]?.progress || 0);\n    [lettersCamera, cardsCamera].forEach((camera) => {\n      camera.aspect = window.innerWidth / window.innerHeight;\n      camera.updateProjectionMatrix();\n    });\n    [lettersRenderer, cardsRenderer].forEach((renderer) => {\n      renderer.setSize(window.innerWidth, window.innerHeight);\n    });\n    cardsRenderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n    updateTargetPositions(ScrollTrigger.getAll()[0]?.progress || 0);\n  });\n});\n",
      "v2/styles.css": "* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  background-color: #f40c3f;\n  overflow-x: hidden;\n}\n\nsection {\n  width: 100vw;\n  height: 100vh;\n  position: relative;\n}\n\n.intro,\n.outro {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #f40c3f;\n  color: #000;\n}\n\n.intro h1,\n.outro h1 {\n  font-family: \"GR NORCH\";\n  font-size: 5vw;\n  font-weight: lighter;\n  text-transform: uppercase;\n}\n\n.outro {\n  top: -0.125em;\n}\n\n.work {\n  position: relative;\n  background-color: #000;\n  overflow: hidden;\n}\n\ncanvas {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n#letters-canvas {\n  z-index: 1;\n}\n\n#cards-canvas {\n  z-index: 10;\n}\n\n#grid-canvas {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 0;\n}\n\n.text-container {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 2;\n  pointer-events: none;\n  perspective: 2500px;\n  perspective-origin: center;\n}\n\n.letter {\n  position: absolute;\n  font-family: \"Bigger\", sans-serif;\n  font-size: 14rem;\n  font-weight: bold;\n  color: #f40c3f;\n  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);\n  opacity: 1;\n  z-index: 2;\n  transform-origin: center;\n  transform-style: preserve-3d;\n  will-change: transform;\n}\n"
    }
  },
  {
    "title": "mukta-elementis-scroll-animation-javascript",
    "code": {
      "index.html": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Elementis Scroll Animation (JavaScript) | mukta</title>\n    <link rel=\"stylesheet\" href=\"/styles.css\" />\n  </head>\n  <body>\n    <nav>\n      <a href=\"#\">Horizon Studio</a>\n      <div class=\"nav-items\">\n        <a href=\"#\">Vision</a>\n        <a href=\"#\">Sanctuaries</a>\n        <a href=\"#\">Connect</a>\n      </div>\n    </nav>\n\n    <section class=\"intro\">\n      <h1>\n        Where organic concepts meets desert serenity, creating timeless\n        sanctuaries awarding mindful living that embrace natural light.\n      </h1>\n    </section>\n\n    <section class=\"sticky-slider\">\n      <div class=\"slide-images\">\n        <div class=\"img\" id=\"img-1\">\n          <img src=\"/img1.jpg\" alt=\"\" />\n        </div>\n      </div>\n\n      <div class=\"slide-info\">\n        <div class=\"slide-title-prefix\">\n          <p>Essence</p>\n        </div>\n\n        <div class=\"slide-title\">\n          <p id=\"title-text\">Desert Oasis Pool</p>\n        </div>\n\n        <div class=\"slide-link\">\n          <a href=\"#\">Explore &#8599;</a>\n        </div>\n      </div>\n    </section>\n\n    <section class=\"outro\">\n      <h1>\n        Transform your vision into reality with spaces that honor both nature's\n        wisdom and modern design, inviting you to experience the profound\n        harmony of curved walls.\n      </h1>\n    </section>\n    <script type=\"module\" src=\"/script.js\"></script>\n  </body>\n</html>\n",
      "package.json": "{\n  \"name\": \"mukta-elementis-scroll-animation-javascript\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"dev\": \"vite\"\n  },\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"gsap\": \"^3.12.7\",\n    \"lenis\": \"^1.2.3\",\n    \"split-type\": \"^0.3.4\",\n    \"vite\": \"^6.2.6\"\n  }\n}\n",
      "script.js": "import slides from \"./slides\";\nimport gsap from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport Lenis from \"lenis\";\n\ngsap.registerPlugin(ScrollTrigger);\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const lenis = new Lenis();\n  lenis.on(\"scroll\", ScrollTrigger.update);\n  gsap.ticker.add((time) => {\n    lenis.raf(time * 1000);\n  });\n  gsap.ticker.lagSmoothing(0);\n\n  const slideImages = document.querySelector(\".slide-images\");\n  const titleElement = document.getElementById(\"title-text\");\n  const exploreLink = document.querySelector(\".slide-link a\");\n\n  const totalSlides = slides.length;\n  const stripsCount = 25;\n  let currentTitleIndex = 0;\n  let queuedTitleIndex = null;\n  const titleChangeThreshold = 0.5;\n  let isAnimating = false;\n\n  const firstSlideImg = document.querySelector(\"#img-1 img\");\n  firstSlideImg.style.transform = \"scale(1.25)\";\n\n  for (let i = 1; i < totalSlides; i++) {\n    const imgContainer = document.createElement(\"div\");\n    imgContainer.className = \"img-container\";\n    imgContainer.id = `img-container-${i + 1}`;\n    imgContainer.style.opacity = \"0\";\n\n    for (let j = 0; j < stripsCount; j++) {\n      const strip = document.createElement(\"div\");\n      strip.className = \"strip\";\n\n      const img = document.createElement(\"img\");\n      img.src = slides[i].image;\n      img.alt = slides[i].title;\n      img.style.transform = \"scale(1.25)\";\n\n      const stripPositionFromBottom = stripsCount - j - 1;\n      const stripLowerBound =\n        (stripPositionFromBottom + 1) * (100 / stripsCount);\n      const stripUpperBound = stripPositionFromBottom * (100 / stripsCount);\n\n      strip.style.clipPath = `polygon(0% ${stripLowerBound}%, 100% ${stripLowerBound}%, 100% ${\n        stripUpperBound - 0.1\n      }%, 0% ${stripUpperBound - 0.1}%)`;\n\n      strip.appendChild(img);\n      imgContainer.appendChild(strip);\n    }\n\n    slideImages.appendChild(imgContainer);\n  }\n\n  const transitionCount = totalSlides - 1;\n  const scrollDistancePerTransition = 1000;\n  const initialScrollDelay = 300;\n  const finalScrollDelay = 300;\n\n  const totalScrollDistance =\n    transitionCount * scrollDistancePerTransition +\n    initialScrollDelay +\n    finalScrollDelay;\n\n  const transitionRanges = [];\n  let currentScrollPosition = initialScrollDelay;\n\n  for (let i = 0; i < transitionCount; i++) {\n    const transitionStart = currentScrollPosition;\n    const transitionEnd = transitionStart + scrollDistancePerTransition;\n\n    transitionRanges.push({\n      transition: i,\n      startVh: transitionStart,\n      endVh: transitionEnd,\n      startPercent: transitionStart / totalScrollDistance,\n      endPercent: transitionEnd / totalScrollDistance,\n    });\n\n    currentScrollPosition = transitionEnd;\n  }\n\n  function calculateImageProgress(scrollProgress) {\n    let imageProgress = 0;\n\n    if (scrollProgress < transitionRanges[0].startPercent) {\n      return 0;\n    }\n\n    if (\n      scrollProgress > transitionRanges[transitionRanges.length - 1].endPercent\n    ) {\n      return transitionRanges.length;\n    }\n\n    for (let i = 0; i < transitionRanges.length; i++) {\n      const range = transitionRanges[i];\n\n      if (\n        scrollProgress >= range.startPercent &&\n        scrollProgress <= range.endPercent\n      ) {\n        const rangeSize = range.endPercent - range.startPercent;\n        const normalizedProgress =\n          (scrollProgress - range.startPercent) / rangeSize;\n        imageProgress = i + normalizedProgress;\n        break;\n      } else if (scrollProgress > range.endPercent) {\n        imageProgress = i + 1;\n      }\n    }\n\n    return imageProgress;\n  }\n\n  function getScaleForImage(imageIndex, currentImageIndex, progress) {\n    if (imageIndex > currentImageIndex) return 1.25;\n    if (imageIndex < currentImageIndex - 1) return 1;\n\n    let totalProgress =\n      imageIndex === currentImageIndex ? progress : 1 + progress;\n    return 1.25 - (0.25 * totalProgress) / 2;\n  }\n\n  function animateTitleChange(index, direction) {\n    if (index === currentTitleIndex) return;\n\n    if (index < 0 || index >= slides.length) return;\n\n    if (isAnimating) {\n      queuedTitleIndex = index;\n      return;\n    }\n\n    isAnimating = true;\n    const newTitle = slides[index].title;\n    const newUrl = slides[index].url;\n    const outY = direction === \"down\" ? \"-120%\" : \"120%\";\n    const inY = direction === \"down\" ? \"120%\" : \"-120%\";\n\n    gsap.killTweensOf(titleElement);\n\n    exploreLink.href = newUrl;\n\n    gsap.to(titleElement, {\n      y: outY,\n      duration: 0.5,\n      ease: \"power3.out\",\n      onComplete: () => {\n        titleElement.textContent = newTitle;\n        gsap.set(titleElement, { y: inY });\n\n        gsap.to(titleElement, {\n          y: \"0%\",\n          duration: 0.5,\n          ease: \"power3.out\",\n          onComplete: () => {\n            currentTitleIndex = index;\n            isAnimating = false;\n\n            if (\n              queuedTitleIndex !== null &&\n              queuedTitleIndex !== currentTitleIndex\n            ) {\n              const nextIndex = queuedTitleIndex;\n              queuedTitleIndex = null;\n              animateTitleChange(nextIndex, direction);\n            }\n          },\n        });\n      },\n    });\n  }\n\n  function getTitleIndexForProgress(imageProgress) {\n    const imageIndex = Math.floor(imageProgress);\n    const imageSpecificProgress = imageProgress - imageIndex;\n\n    if (imageSpecificProgress >= titleChangeThreshold) {\n      return Math.min(imageIndex + 1, slides.length - 1);\n    } else {\n      return imageIndex;\n    }\n  }\n\n  let lastImageProgress = 0;\n\n  ScrollTrigger.create({\n    trigger: \".sticky-slider\",\n    start: \"top top\",\n    end: `+=${totalScrollDistance}vh`,\n    pin: true,\n    pinSpacing: true,\n    scrub: 1,\n    invalidateOnRefresh: true,\n\n    onUpdate: (self) => {\n      const imageProgress = calculateImageProgress(self.progress);\n\n      if (typeof imageProgress === \"number\") {\n        const scrollDirection =\n          imageProgress > lastImageProgress ? \"down\" : \"up\";\n        const currentImageIndex = Math.floor(imageProgress);\n        const imageSpecificProgress = imageProgress - currentImageIndex;\n\n        const correctTitleIndex = getTitleIndexForProgress(imageProgress);\n\n        if (correctTitleIndex !== currentTitleIndex) {\n          queuedTitleIndex = correctTitleIndex;\n          if (!isAnimating) {\n            animateTitleChange(correctTitleIndex, scrollDirection);\n          }\n        }\n\n        const firstSlideImgScale = getScaleForImage(\n          0,\n          currentImageIndex,\n          imageSpecificProgress\n        );\n        firstSlideImg.style.transform = `scale(${firstSlideImgScale})`;\n\n        for (let i = 1; i < totalSlides; i++) {\n          const imgIndex = i + 1;\n          const transitionIndex = imgIndex - 2;\n\n          const imgContainer = document.getElementById(\n            `img-container-${imgIndex}`\n          );\n          if (!imgContainer) continue;\n\n          imgContainer.style.opacity = \"1\";\n\n          const strips = imgContainer.querySelectorAll(\".strip\");\n          const images = imgContainer.querySelectorAll(\"img\");\n\n          if (transitionIndex < currentImageIndex) {\n            strips.forEach((strip, stripIndex) => {\n              const stripPositionFromBottom = stripsCount - stripIndex - 1;\n              const stripUpperBound =\n                stripPositionFromBottom * (100 / stripsCount);\n              const stripLowerBound =\n                (stripPositionFromBottom + 1) * (100 / stripsCount);\n              strip.style.clipPath = `polygon(0% ${stripLowerBound}%, 100% ${stripLowerBound}%, 100% ${\n                stripUpperBound - 0.1\n              }%, 0% ${stripUpperBound - 0.1}%)`;\n            });\n          } else if (transitionIndex === currentImageIndex) {\n            strips.forEach((strip, stripIndex) => {\n              const stripPositionFromBottom = stripsCount - stripIndex - 1;\n              const stripUpperBound =\n                stripPositionFromBottom * (100 / stripsCount);\n              const stripLowerBound =\n                (stripPositionFromBottom + 1) * (100 / stripsCount);\n              const stripDelay = (stripIndex / stripsCount) * 0.5;\n              const adjustedProgress = Math.max(\n                0,\n                Math.min(1, (imageSpecificProgress - stripDelay) * 2)\n              );\n              const currentstripUpperBound =\n                stripLowerBound -\n                (stripLowerBound - (stripUpperBound - 0.1)) * adjustedProgress;\n              strip.style.clipPath = `polygon(0% ${stripLowerBound}%, 100% ${stripLowerBound}%, 100% ${currentstripUpperBound}%, 0% ${currentstripUpperBound}%)`;\n            });\n          } else {\n            strips.forEach((strip, stripIndex) => {\n              const stripPositionFromBottom = stripsCount - stripIndex - 1;\n              const stripLowerBound =\n                (stripPositionFromBottom + 1) * (100 / stripsCount);\n              strip.style.clipPath = `polygon(0% ${stripLowerBound}%, 100% ${stripLowerBound}%, 100% ${stripLowerBound}%, 0% ${stripLowerBound}%)`;\n            });\n          }\n\n          const imgScale = getScaleForImage(\n            transitionIndex,\n            currentImageIndex,\n            imageSpecificProgress\n          );\n          images.forEach((img) => {\n            img.style.transform = `scale(${imgScale})`;\n          });\n        }\n\n        lastImageProgress = imageProgress;\n      }\n    },\n  });\n});\n",
      "slides.js": "const slides = [\n  {\n    title: \"Desert Oasis Pool\",\n    image: \"/img1.jpg\",\n    url: \"/projects/desert-oasis\",\n  },\n  {\n    title: \"Domed Sanctuary\",\n    image: \"/img2.jpg\",\n    url: \"/projects/domed-sanctuary\",\n  },\n  {\n    title: \"Courtyard Retreat\",\n    image: \"/img3.jpg\",\n    url: \"/projects/courtyard-retreat\",\n  },\n  {\n    title: \"Arched Corridor\",\n    image: \"/img4.jpg\",\n    url: \"/projects/arched-corridor\",\n  },\n  {\n    title: \"Illuminated Grotto\",\n    image: \"/img5.jpg\",\n    url: \"/projects/illuminated-grotto\",\n  },\n];\n\nexport default slides;\n",
      "styles.css": "@import url(\"https://fonts.cdnfonts.com/css/pp-neue-montreal\");\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: \"PP Neue Montreal\", sans-serif;\n}\n\nimg {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transition: transform 0.1s ease-out;\n  transform-origin: center center;\n}\n\nnav {\n  position: fixed;\n  top: 0;\n  width: 100%;\n  padding: 1.5em;\n  display: flex;\n  justify-content: space-between;\n  gap: 1.5em;\n  z-index: 2;\n}\n\n.nav-items {\n  display: flex;\n  gap: 1.5em;\n}\n\nh1,\na,\np {\n  color: #fff;\n  font-weight: 500;\n  line-height: 100%;\n  letter-spacing: -0.02rem;\n  -webkit-font-smoothing: antialiased;\n}\n\nh1 {\n  text-indent: 8rem;\n  font-size: 4rem;\n  user-select: none;\n}\n\na,\np {\n  text-decoration: none;\n  font-size: 1rem;\n}\n\nsection {\n  position: relative;\n  width: 100vw;\n  height: 100svh;\n  padding: 1.5em;\n  overflow: hidden;\n}\n\n.intro,\n.outro {\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n  background-color: #141414;\n}\n\n.slide-images,\n.img,\n.img-container,\n.strip {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.slide-info {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  transform: translateY(-50%);\n  width: 100vw;\n  padding: 0 1.5em;\n  display: flex;\n  gap: 2em;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.slide-info > * {\n  flex: 1;\n}\n\n.slide-info p,\n.slide-link a {\n  font-size: 36px;\n  will-change: transform;\n}\n\n.slide-link {\n  display: flex;\n  justify-content: flex-end;\n}\n\n.slide-title {\n  position: relative;\n  flex: 2;\n  height: 40px;\n  overflow: hidden;\n}\n\n.slide-title p {\n  clip-path: polygon(0 0, 100% 0, 100% 100%, 0% 100%);\n}\n\n@media (max-width: 1000px) {\n  h1 {\n    font-size: 2rem;\n  }\n\n  .slide-title-prefix {\n    display: none;\n  }\n\n  .slide-title {\n    height: 22px;\n  }\n\n  .slide-info p,\n  .slide-link a {\n    font-size: 18px;\n  }\n}\n",
      "vite.config.js": "import { defineConfig } from \"vite\";\n\nexport default defineConfig({\n  build: {\n    assetsInclude: [\n      \"**/*.jpeg\",\n      \"**/*.jpg\",\n      \"**/*.png\",\n      \"**/*.svg\",\n      \"**/*.gif\",\n    ],\n\n    copyPublicDir: true,\n\n    rollupOptions: {\n      output: {\n        assetFileNames: \"assets/[name].[ext]\",\n      },\n    },\n  },\n});\n"
    }
  },
  {
    "title": "-",
    "description": "-",
    "code": "Documentation\n\n\nSetup: External Scripts\n\n\nCopy\n<script src=\"https://cdn.jsdelivr.net/npm/gsap@3.14.1/dist/gsap.min.js\"></script>\n<script src=\"https://cdn.jsdelivr.net/npm/gsap@3.14.1/dist/ScrollTrigger.min.js\"></script>\nStep 1: Add HTML\n\n\nCopy\n<div data-sequence-wrap data-scroll-end=\"bottom top\" data-scroll-start=\"top top\" class=\"image-sequence__wrap\">\n  <div class=\"image-sequence__sticky\">\n    <div data-sequence-element class=\"image-sequence__element\">\n      <canvas data-sequence-canvas \n              data-desktop-src=\"https://osmo.b-cdn.net/resource-media/image-sequence-demo/desktop/highres\" \n              data-mobile-src=\"https://osmo.b-cdn.net/resource-media/image-sequence-demo/mobile/mobile\" \n              data-static-src=\"https://osmo.b-cdn.net/resource-media/image-sequence-demo/desktop/highres000.webp\" \n              data-filetype=\"webp\" \n              data-frames=\"120\" \n              data-digits=\"3\" \n              data-index-start=\"0\" \n              class=\"image-sequence__canvas\">\n      </canvas>\n    </div>\n  </div>\n</div>\nStep 2: Add CSS\n\n\nCopy\n.image-sequence__wrap {\n  width: 100%;\n  height: 300vh;\n  position: relative;\n}\n\n.image-sequence__sticky {\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  position: sticky;\n  top: 0;\n}\n\n.image-sequence__element {\n  z-index: 0;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  inset: 0%;\n}\n\n.image-sequence__canvas {\n  width: 100%;\n  height: 100%;\n  padding: 0;\n  position: relative;\n}\nStep 3: Add Javascript\n\n\nCopy\nfunction initImageSequenceScroll() {\n  const wraps = document.querySelectorAll('[data-sequence-wrap]');\n  \n  wraps.forEach((wrap) => {\n    // Prevent double-initializing\n    if (wrap.dataset.sequenceInit === 'true') return;\n    wrap.dataset.sequenceInit = 'true';\n\n    const element = wrap.querySelector('[data-sequence-element]');\n    const canvas = element && element.querySelector('[data-sequence-canvas]');\n    if (!element || !canvas) return;\n    \n    // Data attributes and their fallbacks\n    const frames = parseInt(canvas.dataset.frames, 10) || 1;\n    const digits = parseInt(canvas.dataset.digits, 10) || 3;\n    const indexStart = parseInt(canvas.dataset.indexStart, 10) || 0;\n    const desktopSrc = canvas.dataset.desktopSrc || '';\n    const mobileSrc = canvas.dataset.mobileSrc || desktopSrc;\n    const staticSrc = canvas.dataset.staticSrc;\n    const filetype = canvas.dataset.filetype || 'webp';\n    const startTrigger = wrap.dataset.scrollStart || 'top top';\n    const endTrigger = wrap.dataset.scrollEnd || 'bottom top';\n    const reduceMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n\n    const isMobile = window.matchMedia('(max-width: 767px)').matches;\n    const baseUrl = isMobile ? mobileSrc : desktopSrc;\n    const lastIndex = indexStart + frames - 1;\n\n    // Track last rendered scroll progress so we can redraw on resize\n    let lastProgress = 0;\n\n    // Canvas setup (size to the sticky element)\n    const ctx = canvas.getContext('2d');\n    function resizeCanvas() {\n      const dpr = window.devicePixelRatio || 1;\n      const width = element.clientWidth;\n      const height = element.clientHeight;\n      if (canvas.width !== width * dpr || canvas.height !== height * dpr) {\n        canvas.width = width * dpr;\n        canvas.height = height * dpr;\n        canvas.style.width = `${width}px`;\n        canvas.style.height = `${height}px`;\n      }\n    }\n    resizeCanvas();\n\n    // Image cache and loading queue\n    const loaded = new Map();\n    const queue = [];\n    let processingQueue = false;\n    let resizeTimer;\n\n    // Draw helper (canvas equivalent of object-fit: cover)\n    function drawCover(img) {\n      if (!img) return;\n      resizeCanvas();\n      const canvasWidth = canvas.width;\n      const canvasHeight = canvas.height;\n      const scale = Math.max(canvasWidth / img.width, canvasHeight / img.height);\n      const x = (canvasWidth - img.width * scale) / 2;\n      const y = (canvasHeight - img.height * scale) / 2;\n      ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n      ctx.drawImage(img, x, y, img.width * scale, img.height * scale);\n    }\n\n    window.addEventListener('resize', () => {\n      clearTimeout(resizeTimer);\n      resizeTimer = setTimeout(() => {\n        resizeCanvas();\n        if (loaded.size) render(lastProgress);\n        ScrollTrigger.refresh();\n      }, 200);\n    });\n\n    function pad(num) {\n      return String(num).padStart(digits, '0');\n    }\n    \n    function getUrl(i) {\n      return `${baseUrl}${pad(i)}.${filetype}`;\n    }\n    \n    function loadFrame(i, onDone) {\n      if (loaded.has(i) || i < indexStart || i > lastIndex) return;\n      const img = new Image();\n      img.src = getUrl(i);\n\n      img.onload = () => {\n        loaded.set(i, img);\n        if (typeof onDone === 'function') onDone();\n      };\n\n      // Log when a frame is missing or fails to load\n      img.onerror = () => {\n        console.warn('[ImageSequence] Failed to load frame', {\n          index: i,\n          url,\n          wrap: wrap\n        });\n      };\n    }\n\n    // Daybreak-style progressive loader (binary midpoint / \"wave\" fill)\n    function processQueue() {\n      if (processingQueue) return;\n      const next = queue.shift();\n      if (!next) return;\n      processingQueue = true;\n      const [a, b] = next;\n      if (b - a <= 1) {\n        processingQueue = false;\n        processQueue();\n        return;\n      }\n      const m = Math.floor((a + b) / 2);\n      loadFrame(m, () => {\n        queue.push([a, m], [m, b]);\n        processingQueue = false;\n        setTimeout(processQueue, 0);\n      });\n    }\n    \n    function startLoading() {\n      loadFrame(indexStart, () => {\n        drawImageAt(indexStart); // Show the first frame right away\n        loadFrame(lastIndex); // Preload the last frame\n        queue.push([indexStart, lastIndex]);\n        processQueue();\n        ScrollTrigger.refresh();\n      });\n    }\n    \n    function findNearestLoaded(i) {\n      for (let r = 1; r <= 10; r++) {\n        if (loaded.has(i - r)) return i - r;\n        if (loaded.has(i + r)) return i + r;\n      }\n\n      const keys = Array.from(loaded.keys());\n      if (keys.length === 0) return null;\n      let nearest = keys[0];\n      let minDiff = Math.abs(i - nearest);\n      for (const k of keys) {\n        const diff = Math.abs(i - k);\n        if (diff < minDiff) {\n          nearest = k;\n          minDiff = diff;\n        }\n      }\n      return nearest;\n    }\n    \n    function drawImageAt(i) {\n      const img = loaded.get(i);\n      if (!img) return;\n      drawCover(img);\n    }\n    \n    function render(progress) {\n      const relative = progress * (frames - 1);\n      const index = indexStart + Math.round(relative);\n      if (loaded.has(index)) {\n        drawImageAt(index);\n      } else {\n        const nearest = findNearestLoaded(index);\n        if (nearest !== null) drawImageAt(nearest);\n      }\n    }\n\n    // Reduced motion: draw a single static image (or first frame fallback)\n    if (reduceMotion) {\n      if (staticSrc) {\n        const staticImage = new Image();\n        staticImage.src = staticSrc;\n        staticImage.onload = () => {\n          drawCover(staticImage);\n        };\n        staticImage.onerror = () => {};\n        return;\n      }\n      loadFrame(indexStart, () => {\n        drawImageAt(indexStart);\n      });\n      return;\n    }\n    \n    // Begin loading frames in the background\n    startLoading();\n    \n    // Set up ScrollTrigger\n    const st = ScrollTrigger.create({\n      trigger: wrap,\n      start: startTrigger,\n      end: endTrigger,\n      scrub: true,\n      onUpdate: (self) => {\n        lastProgress = self.progress;\n        render(self.progress);\n      }\n    });\n\n    // Draw once immediately\n    lastProgress = st.progress || 0;\n    render(lastProgress);\n\n  });\n}\n\n// Init Image Sequence on Scroll\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  initImageSequenceScroll();\n});\nImplementation\nThis resource helps you build that Apple-style scroll effect where visuals respond to your scroll in a really tactile way, like you’re “scrubbing” through a video as you move down the page.\n\nDaybreak Studio published a great article, of how they make these sequences feel smooth and dependable on real websites, not just in perfect demo conditions. We pulled the key learnings from that article and packaged them into this resource: you export a numbered image sequence, drop the attributes into your HTML, and the script takes care of progressive loading, drawing frames to a canvas with a cover-style look, swapping to a mobile set when available, and falling back for reduced-motion users.\n\nAsset preparation\nYou can generate your frames with any tool you like as long as the result is a sequentially numbered image set with consistent dimensions and a predictable filename pattern. Common options include Adobe Premiere Pro, After Effects, DaVinci Resolve (free) or basically any video editor or tool that can export an image sequence.\n\nIn our demo, we used a 10s clip exported at 12fps, which produced 120 frames:\n\nDesktop sequence: 1920×1080 at 12fps\nMobile sequence: 720×1280 at 12fps\nExporting separate desktop and mobile sequences is strongly recommended so mobile users don’t download unnecessary resolution.\n\nFile size and format\nFinding the balance between smoothness and file size is the difference between a sequence that feels premium and one that feels heavy or laggy, so it’s worth spending a bit of time here before you ship.\n\nIn our demo, the final export landed at 120 frames total, and we ended up with a desktop folder of 10.7MB and a mobile folder of 6.5MB. That’s a reasonable range for a hero-style sequence, especially since the script progressively loads frames and shows something immediately, rather than blocking the experience until everything is downloaded.\n\nWe chose WebP for the frame assets because it tends to decode and draw fast in practice, which matters for canvas-based rendering, even if AVIF can sometimes squeeze a slightly smaller total size. If you test AVIF and it feels just as responsive on your target devices, go for it, but if you notice delayed draws or “sticky” frame updates, WebP is a reliable default.\n\nAsset hosting\nUse a CDN or file host that gives you a stable, public folder of assets, since the script builds each frame URL by taking a base path and swapping only the frame number in the filename.\n\nWe recommend Bunny CDN because it’s fast, simple to set up, and makes it easy to keep your frame URLs clean and predictable, but any host works as long as the URLs follow a consistent pattern.\n\nThe important part is that the only thing changing per frame is the number:\n\nhttps://your-cdn.com/sequence/frame-000.webp\nhttps://your-cdn.com/sequence/frame-001.webp\n<!-- etc... -->\nWrap\nUse [data-sequence-wrap] to define the outer section that ScrollTrigger listens to, so the animation progress is driven by scrolling through this block. In our demo, we gave this element a height of 300vh to control the scroll 'duration'.\n\nScroll Start\nUse [data-scroll-start=\"top top\"] (default top top) to control when the sequence begins updating, using the same syntax as GSAP ScrollTrigger start positions. Add this on the wrap.\n\nScroll End\nUse [data-scroll-end=\"bottom top\"] (default bottom top) to control when the sequence stops updating, using the same syntax as GSAP ScrollTrigger end positions. Add this on the wrap.\n\nElement\nUse [data-sequence-element] to define the 'stage' that your canvas will size itself to. In our demo, we positioned this inside of a sticky element, so our canvas (see next step) will stick to our scroll position.\n\nCanvas\nUse [data-sequence-canvas] to mark the canvas that the script renders into, with the full sequence configuration living directly on this element.\n\nDesktop Source\nUse [data-desktop-src] to provide the part of your frame URL that stays the same, so the script can swap only the frame number while keeping everything else identical. To get this value, start from the full URL of your first frame, then remove the numbered part and the extension at the end.\n\nFor example, if your first frame is:\n\nhttps://your-cdn.com/sequence/desktop/frame-000.webp\nRemove 000.webp and keep the rest, so your desktop source becomes:\n\ndata-desktop-src=\"https://your-cdn.com/sequence/desktop/frame-\"\nMobile Source\nUse [data-mobile-src] (optional but highly recommended) to provide a mobile-specific base URL, falling back to the desktop source when omitted so you can still ship a single sequence.\n\nFiletype\nUse [data-filetype=\"webp\"] (default webp) to define the file type you're going to use. We explain our reasoning for WebP at the top of the docs.\n\nFrames\nUse [data-frames=\"120\"] to define how many frames exist in the sequence, which determines both how far the animation can progress and what the script treats as the final frame. If you're using a mobile sequence, make sure it has the same amount of frames as your desktop one.‍\n\nDigits\nUse [data-digits=\"3\"] (default 3) to define the amount of zero-padding in filenames, so sequences like 000–119 or 0000–0119 work without changing code. ‍\n\nIndex Start\nUse [data-index-start=\"0\"] (default 0) to define the first frame number used in your filenames, so exports that start at 1 (or any other number) can still map correctly.\n\nStatic\nUse [data-static-src] to provide a single fallback image that will be shown when the user prefers reduced motion, with the script falling back to the first frame if this isn’t provided.\n\nCommon mistakes\nUse [data-digits], [data-index-start], and [data-filetype] to exactly match your exported filenames, because a single mismatch here will cause missing frames or a broken setup in general.\n\nURL anatomy\nThe easiest way to think about it is: the script builds every frame URL from three chunks:\n\na base prefix\na padded frame number\na file extension\nHere’s a concrete example. If your current frame URL is:\n\nhttps://your-cdn.com/sequence/desktop/frame-042.webp\nThen the script is effectively doing this:\n\nBase prefix ([data-desktop-src])  +  Frame index ([data-digits])  +  \".\" + Extension ([data-filetype])\nSo it becomes:\n\nhttps://your-cdn.com/sequence/desktop/frame-   +   042   +   .webp"
  },
  {
    "title": "-",
    "description": "-",
    "code": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>NakedCity Scroll Animation | CodeGrid Recreation</title>\n    \n    <!-- Google Fonts -->\n    <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\n    <link href=\"https://fonts.googleapis.com/css2?family=Barlow+Condensed:ital,wght@0,100..900;1,100..900&family=Host+Grotesk:ital,wght@0,300..800;1,300..800&display=swap\" rel=\"stylesheet\">\n\n    <style>\n        :root {\n            --base-100: #f9f4eb;\n            --base-200: #141414;\n        }\n\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n\n        body {\n            background-color: var(--base-100);\n            color: var(--base-200);\n            font-family: 'Host Grotesk', sans-serif;\n            overflow-x: hidden;\n        }\n\n        img {\n            width: 100%;\n            height: 100%;\n            object-fit: cover;\n            display: block; /* prevents inline spacing issues */\n        }\n\n        h1 {\n            text-transform: uppercase;\n            font-family: 'Barlow Condensed', sans-serif;\n            font-size: clamp(3rem, 5vw, 7rem);\n            font-weight: 900;\n            line-height: 0.8;\n        }\n\n        a {\n            text-decoration: none;\n            color: var(--base-200);\n            font-family: 'Host Grotesk', sans-serif;\n            font-size: 1.125rem;\n            font-weight: 450;\n            line-height: 0.9;\n        }\n\n        /* --- Navbar Structure --- */\n\n        .navbar-backdrop, .navbar-img {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100svh;\n            pointer-events: none;\n            overflow: hidden;\n            z-index: 0;\n        }\n\n        /* Center the \"shape\" initially */\n        .navbar-background, .navbar-items {\n            position: fixed;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            width: 50%;\n            min-width: 720px;\n            aspect-ratio: 16/9;\n            will-change: width, height;\n        }\n\n        /* The white background block */\n        .navbar-background {\n            background-color: var(--base-100);\n            pointer-events: none;\n            z-index: 0;\n        }\n\n        /* Interactive Layer */\n        .navbar-items {\n            display: flex;\n            justify-content: space-between;\n            align-items: flex-start;\n            z-index: 2;\n            pointer-events: none; /* Layout container ignores clicks */\n        }\n\n        .navbar-links {\n            position: relative;\n            width: 50%;\n            display: flex;\n            justify-content: space-between;\n            pointer-events: all; /* Links need clicks */\n        }\n\n        /* Two groups of links */\n        .navbar-links:nth-child(1) {\n            padding: 2.5rem 5rem 0 2.5rem;\n        }\n        \n        .navbar-links:nth-child(2) {\n            padding: 2.5rem 2.5rem 0 5rem;\n        }\n\n        .navbar-logo {\n            position: absolute;\n            bottom: 0;\n            left: 50%;\n            transform: translateX(-50%);\n            width: 100%;\n            padding: 2.5rem;\n            pointer-events: all;\n            z-index: 2;\n            /* Flex center content for SVG alignment */\n            display: flex; \n            justify-content: center;\n        }\n\n        .navbar-logo svg {\n            width: 100%; /* allows scaling based on container width */\n            height: auto;\n        }\n\n        /* FLIP State Class - This gets added by JS logic conceptually via Flip */\n        .navbar-logo-pinned {\n            bottom: unset;\n            top: -0.25rem; /* Optical adjustment for visual top align */\n        }\n\n        .navbar-logo img {\n            object-fit: contain;\n        }\n\n        /* --- Content Sections --- */\n\n        section {\n            position: relative;\n            width: 100%;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            text-align: center;\n            overflow: hidden;\n            z-index: 1; /* Puts content between backdrop and nav */\n        }\n\n        .hero {\n            height: 100svh;\n            margin-top: 200svh; /* creates scrolling room for animation */\n            padding: 2.5rem 0;\n        }\n\n        .about {\n            height: 100svh;\n            padding: 2.5rem;\n        }\n\n        .hero h1, .about h1 {\n            width: 50%;\n        }\n\n        /* --- Mobile / Tablet Media Query --- */\n        @media (max-width: 720px) {\n            .navbar-background, .navbar-items {\n                min-width: 100%;\n            }\n\n            .navbar-items {\n                flex-direction: column;\n                justify-content: flex-start;\n                align-items: flex-end;\n                gap: 0.5rem;\n                padding: 2rem;\n            }\n\n            .navbar-links:nth-child(1),\n            .navbar-links:nth-child(2) {\n                padding: 0;\n                width: 100%; /* Full width for proper alignment on mobile */\n            }\n\n            .navbar-logo {\n                left: 0;\n                transform: translateX(0);\n            }\n            \n            .navbar-logo svg {\n                width: 120px; /* smaller fixed width for logo on mobile */\n            }\n\n            .hero {\n                height: 100svh;\n                margin-top: 0; /* No animation scroll gap on mobile */\n            }\n\n            .hero h1, .about h1 {\n                width: 100%;\n            }\n        }\n    </style>\n</head>\n<body>\n\n    <!-- 1. The Backdrop Layers -->\n    <div class=\"navbar-backdrop\">\n        <!-- Using an Unsplash Placeholder for \"Loose Frame\" image effect -->\n        <div class=\"navbar-img\">\n            <img src=\"https://images.unsplash.com/photo-1695663737077-ec07328d84a7?q=80&w=2533&auto=format&fit=crop\" alt=\"Backdrop Street Scene\">\n        </div>\n    </div>\n\n    <!-- The Expanding Frame -->\n    <div class=\"navbar-background\"></div>\n\n    <!-- 2. The Interactive Nav Content (Floats on top of background frame) -->\n    <div class=\"navbar-items\">\n        <div class=\"navbar-links\">\n            <a href=\"#\">Index</a>\n            <a href=\"#\">Studio</a>\n        </div>\n\n        <div class=\"navbar-logo\">\n            <!-- Inline SVG Logo for pixel-perfect simulation without external file assets -->\n            <a href=\"#\">\n               <svg viewBox=\"0 0 300 60\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M22.5 0H0V60H22.5V16.8L37.8 60H64.8V0H42.3V43.2L27 0H22.5Z\" fill=\"#001FDD\"/>\n                    <path d=\"M72 0H94.5V26.4H98.1L114.6 0H142.2L115.8 32.7L143.1 60H115.2L94.5 38.1V60H72V0Z\" fill=\"#001FDD\"/>\n                    <path d=\"M149.4 0H185.7C208.5 0 221.7 12.9 221.7 30C221.7 47.1 208.5 60 185.7 60H149.4V0ZM171.9 40.8H183C192.6 40.8 198.3 36.3 198.3 30C198.3 23.7 192.6 19.2 183 19.2H171.9V40.8Z\" fill=\"#001FDD\"/>\n                    <!-- Small square/dot usually seen in Naked City logo -->\n                    <rect x=\"235\" y=\"0\" width=\"60\" height=\"20\" fill=\"#001FDD\"/>\n                    <rect x=\"235\" y=\"40\" width=\"60\" height=\"20\" fill=\"#001FDD\"/>\n               </svg>\n            </a>\n        </div>\n\n        <div class=\"navbar-links\">\n            <a href=\"#\">Archive</a>\n            <a href=\"#\">Connect</a>\n        </div>\n    </div>\n\n    <!-- 3. Page Sections -->\n    <section class=\"hero\">\n        <h1>Designing Movement<br>Beyond Fixed Frames<br>And Rigid Form</h1>\n    </section>\n\n    <section class=\"about\">\n        <h1>The frame dissolves,<br>but the movement<br>continues forward</h1>\n    </section>\n\n    <!-- Import Libraries (Specific versions known to work well together) -->\n    <!-- Lenis Smooth Scroll -->\n    <script src=\"https://cdn.jsdelivr.net/npm/@studio-freight/lenis@1.0.42/dist/lenis.min.js\"></script>\n    \n    <!-- GSAP Core & Plugins -->\n    <script src=\"https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/Flip.min.js\"></script>\n\n    <script type=\"module\">\n        // 1. Configuration\n        gsap.registerPlugin(ScrollTrigger, Flip);\n\n        // 2. Lenis Setup\n        const lenis = new Lenis();\n        lenis.on(\"scroll\", ScrollTrigger.update);\n        \n        gsap.ticker.add((time) => {\n            lenis.raf(time * 1000);\n        });\n        gsap.ticker.lagSmoothing(0);\n\n        // 3. Animation Logic Function\n        const initNavbarAnimations = () => {\n            // Check viewport Width - Logic specific to desktop (>= 720px)\n            const isDesktop = window.innerWidth >= 720;\n\n            const navbarLogo = document.querySelector(\".navbar-logo\");\n            const navbarItems = document.querySelector(\".navbar-items\");\n            const navbarBg = document.querySelector(\".navbar-background\");\n            const navbarLinks = document.querySelectorAll(\".navbar-links\");\n\n            if (!isDesktop) {\n                // --- Mobile Reset Logic ---\n                navbarLogo.classList.remove(\"navbar-logo-pinned\");\n                gsap.set(navbarLogo, { clearProps: \"all\" });\n                // Logo sizing logic for mobile handled by CSS media query\n                // Ensure bg fills screen on mobile immediately (controlled by css min-width but being safe)\n                gsap.set([navbarBg, navbarItems], { \n                    width: \"100%\", \n                    height: \"100svh\", \n                    minWidth: \"100%\",\n                    clearProps: \"transform, top, left\" // allow CSS flex to handle pos\n                });\n                return;\n            }\n\n            // --- Desktop Animation Logic ---\n\n            // A. Get Measurements\n            const viewportWidth = window.innerWidth;\n            const viewportHeight = window.innerHeight;\n            \n            // Get initial pixel widths of the centered starting block\n            const initialWidth = navbarBg.offsetWidth;\n            const initialHeight = navbarBg.offsetHeight;\n\n            // Capture initial widths of link containers for smooth interpolation\n            // This prevents links from jumping around as parent container widens\n            const initialLinksWidths = Array.from(navbarLinks).map(link => link.offsetWidth);\n\n            // B. Prepare Logo FLIP Animation\n            // Capture Start State\n            const state = Flip.getState(navbarLogo);\n            \n            // Change Layout to End State (Apply CSS class)\n            navbarLogo.classList.add(\"navbar-logo-pinned\");\n            // Also force a width via GSAP to ensure smooth scaling if CSS fails to catch up frame-perfect\n            gsap.set(navbarLogo, { width: 250 }); // Desktop end state width\n\n            // Create FLIP instance (Paused)\n            const flipAnimation = Flip.from(state, {\n                duration: 1, // Normalized to scroll progress (0 to 1)\n                ease: \"none\",\n                paused: true\n            });\n\n            // C. Create ScrollTrigger\n            ScrollTrigger.create({\n                trigger: \".navbar-backdrop\", // Element defining height/context\n                start: \"top top\",\n                end: `+=${viewportHeight}px`, // Scroll duration matches one screen height\n                scrub: 1, // Smooth scrubbing\n                onUpdate: (self) => {\n                    const progress = self.progress;\n\n                    // 1. Expand Background Frame (Interolate width/height from initial -> full)\n                    const currentWidth = gsap.utils.interpolate(initialWidth, viewportWidth, progress);\n                    const currentHeight = gsap.utils.interpolate(initialHeight, viewportHeight, progress);\n\n                    gsap.set([navbarBg, navbarItems], {\n                        width: currentWidth,\n                        height: currentHeight\n                    });\n\n                    // 2. Adjust Navbar Links container widths to prevent snap\n                    // (They adjust along with the expanding parent)\n                    navbarLinks.forEach((link, i) => {\n                        const startW = initialLinksWidths[i];\n                        const targetW = currentWidth * 0.5; // Final state is 50% of screen each\n                        const currentLinkWidth = gsap.utils.interpolate(startW, targetW, progress);\n                        gsap.set(link, { width: currentLinkWidth });\n                    });\n\n                    // 3. Update Logo FLIP Animation\n                    flipAnimation.progress(progress);\n                }\n            });\n        };\n\n        // 4. Initialization & Event Listeners\n        \n        // Run on load\n        document.addEventListener(\"DOMContentLoaded\", () => {\n            initNavbarAnimations();\n        });\n\n        // Handle Resizes robustly (Debounced)\n        let timer;\n        window.addEventListener(\"resize\", () => {\n            clearTimeout(timer);\n            timer = setTimeout(() => {\n                // Kill all ScrollTriggers to clean slate\n                ScrollTrigger.getAll().forEach(t => t.kill());\n                \n                // Select elements to reset their styles manually\n                const resetElements = document.querySelectorAll(\n                    \".navbar-background, .navbar-items, .navbar-logo, .navbar-links\"\n                );\n                \n                // Clean up specific added class\n                const navbarLogo = document.querySelector(\".navbar-logo\");\n                if(navbarLogo) navbarLogo.classList.remove(\"navbar-logo-pinned\");\n\n                // GSAP Reset to allow re-calculation\n                gsap.set(resetElements, { clearProps: \"all\" });\n\n                // Re-run initialization\n                initNavbarAnimations();\n            }, 250); // 250ms debounce\n        });\n\n    </script>\n</body>\n</html>"
  },
  {
    "title": "cg-nvg8-scroll-animation",
    "code": {
      "index.html": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Nvg8 Scroll Animation | mukta</title>\n    <link rel=\"stylesheet\" href=\"/styles.css\" />\n  </head>\n  <body>\n    <section class=\"hero\">\n      <div class=\"hero-header\">\n        <h1>muktaPRO</h1>\n        <p>One subscription, endless web design.</p>\n      </div>\n\n      <div class=\"animated-icons\">\n        <div class=\"animated-icon icon-1\">\n          <img src=\"/icon_1.png\" alt=\"\" />\n        </div>\n        <div class=\"animated-icon icon-2\">\n          <img src=\"/icon_2.png\" alt=\"\" />\n        </div>\n        <div class=\"animated-icon icon-3\">\n          <img src=\"/icon_3.png\" alt=\"\" />\n        </div>\n        <div class=\"animated-icon icon-4\">\n          <img src=\"/icon_4.png\" alt=\"\" />\n        </div>\n        <div class=\"animated-icon icon-5\">\n          <img src=\"/icon_5.png\" alt=\"\" />\n        </div>\n      </div>\n\n      <h1 class=\"animated-text\">\n        <div class=\"placeholder-icon\"></div>\n        <span class=\"text-segment\">Delve into coding</span>\n        <div class=\"placeholder-icon\"></div>\n        <span class=\"text-segment\">without clutter.</span>\n        <span class=\"text-segment\">Unlock source code </span>\n        <div class=\"placeholder-icon\"></div>\n        <span class=\"text-segment\">for every tutorial</span>\n        <div class=\"placeholder-icon\"></div>\n        <span class=\"text-segment\">published on the mukta</span>\n        <div class=\"placeholder-icon\"></div>\n        <span class=\"text-segment\">YouTube channel.</span>\n      </h1>\n    </section>\n\n    <section class=\"outro\">\n      <h1>Link in description</h1>\n    </section>\n    <script type=\"module\" src=\"/script.js\"></script>\n  </body>\n</html>\n",
      "package.json": "{\n  \"name\": \"cg-nvg8-scroll-animation\",\n  \"version\": \"1.0.0\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"dev\": \"vite\"\n  },\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"description\": \"\",\n  \"dependencies\": {\n    \"gsap\": \"^3.13.0\",\n    \"lenis\": \"^1.3.4\",\n    \"vite\": \"^7.0.0\"\n  }\n}\n",
      "script.js": "import gsap from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport Lenis from \"lenis\";\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  gsap.registerPlugin(ScrollTrigger);\n\n  const lenis = new Lenis();\n  lenis.on(\"scroll\", ScrollTrigger.update);\n  gsap.ticker.add((time) => {\n    lenis.raf(time * 1000);\n  });\n  gsap.ticker.lagSmoothing(0);\n\n  const animatedIcons = document.querySelector(\".animated-icons\");\n  const iconElements = document.querySelectorAll(\".animated-icon\");\n  const textSegments = document.querySelectorAll(\".text-segment\");\n  const placeholders = document.querySelectorAll(\".placeholder-icon\");\n  const heroHeader = document.querySelector(\".hero-header\");\n  const heroSection = document.querySelector(\".hero\");\n\n  const textAnimationOrder = [];\n  textSegments.forEach((segment, index) => {\n    textAnimationOrder.push({ segment, originalIndex: index });\n  });\n\n  for (let i = textAnimationOrder.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [textAnimationOrder[i], textAnimationOrder[j]] = [\n      textAnimationOrder[j],\n      textAnimationOrder[i],\n    ];\n  }\n\n  const isMobile = window.innerWidth <= 1000;\n  const headerIconSize = isMobile ? 30 : 60;\n  const currentIconSize = iconElements[0].getBoundingClientRect().width;\n  const exactScale = headerIconSize / currentIconSize;\n\n  ScrollTrigger.create({\n    trigger: \".hero\",\n    start: \"top top\",\n    end: `+=${window.innerHeight * 8}px`,\n    pin: true,\n    pinSpacing: true,\n    scrub: 1,\n    onUpdate: (self) => {\n      const progress = self.progress;\n\n      textSegments.forEach((segment) => {\n        gsap.set(segment, { opacity: 0 });\n      });\n\n      if (progress <= 0.3) {\n        const moveProgress = progress / 0.3;\n        const containerMoveY = -window.innerHeight * 0.3 * moveProgress;\n\n        if (progress <= 0.15) {\n          const headerProgress = progress / 0.15;\n          const headerMoveY = -50 * headerProgress;\n          const headerOpacity = 1 - headerProgress;\n\n          gsap.set(heroHeader, {\n            transform: `translate(-50%, calc(-50% + ${headerMoveY}px))`,\n            opacity: headerOpacity,\n          });\n        } else {\n          gsap.set(heroHeader, {\n            transform: `translate(-50%, calc(-50% + -50px))`,\n            opacity: 0,\n          });\n        }\n\n        if (window.duplicateIcons) {\n          window.duplicateIcons.forEach((duplicate) => {\n            if (duplicate.parentNode) {\n              duplicate.parentNode.removeChild(duplicate);\n            }\n          });\n          window.duplicateIcons = null;\n        }\n\n        gsap.set(animatedIcons, {\n          x: 0,\n          y: containerMoveY,\n          scale: 1,\n          opacity: 1,\n        });\n\n        iconElements.forEach((icon, index) => {\n          const staggerDelay = index * 0.1;\n          const iconStart = staggerDelay;\n          const iconEnd = staggerDelay + 0.5;\n\n          const iconProgress = gsap.utils.mapRange(\n            iconStart,\n            iconEnd,\n            0,\n            1,\n            moveProgress\n          );\n          const clampedProgress = Math.max(0, Math.min(1, iconProgress));\n\n          const startOffset = -containerMoveY;\n          const individualY = startOffset * (1 - clampedProgress);\n\n          gsap.set(icon, {\n            x: 0,\n            y: individualY,\n          });\n        });\n      } else if (progress <= 0.6) {\n        const scaleProgress = (progress - 0.3) / 0.3;\n\n        gsap.set(heroHeader, {\n          transform: `translate(-50%, calc(-50% + -50px))`,\n          opacity: 0,\n        });\n\n        if (scaleProgress >= 0.5) {\n          heroSection.style.backgroundColor = \"#e3e3db\";\n        } else {\n          heroSection.style.backgroundColor = \"#141414\";\n        }\n\n        if (window.duplicateIcons) {\n          window.duplicateIcons.forEach((duplicate) => {\n            if (duplicate.parentNode) {\n              duplicate.parentNode.removeChild(duplicate);\n            }\n          });\n          window.duplicateIcons = null;\n        }\n\n        const targetCenterY = window.innerHeight / 2;\n        const targetCenterX = window.innerWidth / 2;\n        const containerRect = animatedIcons.getBoundingClientRect();\n        const currentCenterX = containerRect.left + containerRect.width / 2;\n        const currentCenterY = containerRect.top + containerRect.height / 2;\n        const deltaX = (targetCenterX - currentCenterX) * scaleProgress;\n        const deltaY = (targetCenterY - currentCenterY) * scaleProgress;\n        const baseY = -window.innerHeight * 0.3;\n        const currentScale = 1 + (exactScale - 1) * scaleProgress;\n\n        gsap.set(animatedIcons, {\n          x: deltaX,\n          y: baseY + deltaY,\n          scale: currentScale,\n          opacity: 1,\n        });\n\n        iconElements.forEach((icon) => {\n          gsap.set(icon, { x: 0, y: 0 });\n        });\n      } else if (progress <= 0.75) {\n        const moveProgress = (progress - 0.6) / 0.15;\n\n        gsap.set(heroHeader, {\n          transform: `translate(-50%, calc(-50% + -50px))`,\n          opacity: 0,\n        });\n\n        heroSection.style.backgroundColor = \"#e3e3db\";\n\n        const targetCenterY = window.innerHeight / 2;\n        const targetCenterX = window.innerWidth / 2;\n        const containerRect = animatedIcons.getBoundingClientRect();\n        const currentCenterX = containerRect.left + containerRect.width / 2;\n        const currentCenterY = containerRect.top + containerRect.height / 2;\n        const deltaX = targetCenterX - currentCenterX;\n        const deltaY = targetCenterY - currentCenterY;\n        const baseY = -window.innerHeight * 0.3;\n\n        gsap.set(animatedIcons, {\n          x: deltaX,\n          y: baseY + deltaY,\n          scale: exactScale,\n          opacity: 0,\n        });\n\n        iconElements.forEach((icon) => {\n          gsap.set(icon, { x: 0, y: 0 });\n        });\n\n        if (!window.duplicateIcons) {\n          window.duplicateIcons = [];\n\n          iconElements.forEach((icon, index) => {\n            const duplicate = icon.cloneNode(true);\n            duplicate.className = \"duplicate-icon\";\n            duplicate.style.position = \"absolute\";\n            duplicate.style.width = headerIconSize + \"px\";\n            duplicate.style.height = headerIconSize + \"px\";\n\n            document.body.appendChild(duplicate);\n            window.duplicateIcons.push(duplicate);\n          });\n        }\n\n        if (window.duplicateIcons) {\n          window.duplicateIcons.forEach((duplicate, index) => {\n            if (index < placeholders.length) {\n              const iconRect = iconElements[index].getBoundingClientRect();\n              const startCenterX = iconRect.left + iconRect.width / 2;\n              const startCenterY = iconRect.top + iconRect.height / 2;\n              const startPageX = startCenterX + window.pageXOffset;\n              const startPageY = startCenterY + window.pageYOffset;\n\n              const targetRect = placeholders[index].getBoundingClientRect();\n              const targetCenterX = targetRect.left + targetRect.width / 2;\n              const targetCenterY = targetRect.top + targetRect.height / 2;\n              const targetPageX = targetCenterX + window.pageXOffset;\n              const targetPageY = targetCenterY + window.pageYOffset;\n\n              const moveX = targetPageX - startPageX;\n              const moveY = targetPageY - startPageY;\n\n              let currentX = 0;\n              let currentY = 0;\n\n              if (moveProgress <= 0.5) {\n                const verticalProgress = moveProgress / 0.5;\n                currentY = moveY * verticalProgress;\n              } else {\n                const horizontalProgress = (moveProgress - 0.5) / 0.5;\n                currentY = moveY;\n                currentX = moveX * horizontalProgress;\n              }\n\n              const finalPageX = startPageX + currentX;\n              const finalPageY = startPageY + currentY;\n\n              duplicate.style.left = finalPageX - headerIconSize / 2 + \"px\";\n              duplicate.style.top = finalPageY - headerIconSize / 2 + \"px\";\n              duplicate.style.opacity = \"1\";\n              duplicate.style.display = \"flex\";\n            }\n          });\n        }\n      } else {\n        gsap.set(heroHeader, {\n          transform: `translate(-50%, calc(-50% + -100px))`,\n          opacity: 0,\n        });\n\n        heroSection.style.backgroundColor = \"#e3e3db\";\n\n        gsap.set(animatedIcons, { opacity: 0 });\n\n        if (window.duplicateIcons) {\n          window.duplicateIcons.forEach((duplicate, index) => {\n            if (index < placeholders.length) {\n              const targetRect = placeholders[index].getBoundingClientRect();\n              const targetCenterX = targetRect.left + targetRect.width / 2;\n              const targetCenterY = targetRect.top + targetRect.height / 2;\n              const targetPageX = targetCenterX + window.pageXOffset;\n              const targetPageY = targetCenterY + window.pageYOffset;\n\n              duplicate.style.left = targetPageX - headerIconSize / 2 + \"px\";\n              duplicate.style.top = targetPageY - headerIconSize / 2 + \"px\";\n              duplicate.style.opacity = \"1\";\n              duplicate.style.display = \"flex\";\n            }\n          });\n        }\n\n        textAnimationOrder.forEach((item, randomIndex) => {\n          const segmentStart = 0.75 + randomIndex * 0.03;\n          const segmentEnd = segmentStart + 0.015;\n\n          const segmentProgress = gsap.utils.mapRange(\n            segmentStart,\n            segmentEnd,\n            0,\n            1,\n            progress\n          );\n          const clampedProgress = Math.max(0, Math.min(1, segmentProgress));\n\n          gsap.set(item.segment, {\n            opacity: clampedProgress,\n          });\n        });\n      }\n    },\n  });\n});\n",
      "styles.css": "@import url(\"https://fonts.googleapis.com/css2?family=Host+Grotesk:ital,wght@0,300..800;1,300..800&display=swap\");\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: \"Host Grotesk\", sans-serif;\n}\n\nimg {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\nh1 {\n  font-size: 7vw;\n  font-weight: 800;\n  line-height: 1;\n}\n\np {\n  font-size: 1.5rem;\n  font-weight: 400;\n}\n\nsection {\n  position: relative;\n  width: 100vw;\n  height: 100svh;\n  padding: 1.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #141414;\n  color: #e3e3db;\n  overflow: hidden;\n}\n\n.hero {\n  flex-direction: column;\n  transition: background-color 0.3s ease;\n}\n\n.hero-header {\n  position: absolute;\n  top: 35%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 60%;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n  will-change: transform, opacity;\n}\n\n.animated-icons {\n  position: fixed;\n  bottom: 1rem;\n  left: 1rem;\n  right: 1rem;\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  will-change: transform;\n  z-index: 2;\n}\n\n.animated-icon {\n  flex: 1;\n  aspect-ratio: 1;\n  will-change: transform;\n}\n\n.animated-text {\n  position: relative;\n  max-width: 1000px;\n  text-align: center;\n  color: #141414;\n  font-size: clamp(2rem, 5vw, 4rem);\n  font-weight: 800;\n  line-height: 1;\n}\n\n.text-segment {\n  opacity: 0;\n}\n\n.placeholder-icon {\n  margin-top: -10px;\n  width: 60px;\n  height: 60px;\n  display: inline-block;\n  vertical-align: middle;\n  will-change: transform;\n  visibility: hidden;\n}\n\n@media (max-width: 1000px) {\n  h1 {\n    font-size: 12vw;\n    text-align: center;\n  }\n\n  p {\n    font-size: 1.1rem;\n  }\n\n  .hero-header {\n    top: 45%;\n    width: 100%;\n  }\n\n  .placeholder-icon {\n    margin-top: -4px;\n    width: 30px;\n    height: 30px;\n  }\n}\n"
    }
  },
  {
    "title": "sticky-features",
    "code": "Documentation\n\nSetup: External Scripts\n\n<script src=\"https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js\">script>\n<script src=\"https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/ScrollTrigger.min.js\">script>\n\nStep 1: Add HTML\n\n<div data-sticky-feature-wrap=\"\" class=\"sticky-features__wrap\">\n  <div class=\"sticky-features__scroll\">\n    <div class=\"sticky-features__container\">\n      <div class=\"sticky-feaures__col is--img\">\n        <div class=\"sticky-features__img-collection\">\n          <div class=\"sticky-features__img-list\">\n            <div data-sticky-feature-visual-wrap=\"\" class=\"sticky-features__img-item\">\n              <img src=\"https://cdn.prod.website-files.com/68b83c9a431270d8deb1e6b1/68b847956497fe87b81b7025_Iced%20Matcha%20Latte.avif\" class=\"sticky-features__img\">\n            div>\n            <div data-sticky-feature-visual-wrap=\"\" class=\"sticky-features__img-item\">\n              <img src=\"https://cdn.prod.website-files.com/68b83c9a431270d8deb1e6b1/68b847956468e74ee70e259e_Matcha%20Whisking%20Art.avif\" class=\"sticky-features__img\">\n            div>\n            <div data-sticky-feature-visual-wrap=\"\" class=\"sticky-features__img-item\">\n              <img src=\"https://cdn.prod.website-files.com/68b83c9a431270d8deb1e6b1/68b84795dd49cb5a5f2a2640_Steaming%20Orange%20Beverage.avif\" class=\"sticky-features__img\">\n            div>\n            <div data-sticky-feature-visual-wrap=\"\" class=\"sticky-features__img-item\">\n              <img src=\"https://cdn.prod.website-files.com/68b83c9a431270d8deb1e6b1/68b8479522525b321756af2e_Hands%20Holding%20Matcha%20Cup.avif\" class=\"sticky-features__img\">\n            div>\n          div>\n        div>\n      \t<div class=\"sticky-features__progress-w\">\n          <div class=\"sticky-features__progress-bar\" data-sticky-feature-progress>div>\n        div>\n      div>\n      <div class=\"sticky-feaures__col\">\n        <div class=\"sticky-features__text-collection\">\n          <div class=\"sticky-features__text-list\">\n            <div data-sticky-feature-item=\"\" class=\"sticky-features__text-item\">\n              <span data-sticky-feature-text=\"\" class=\"sticky-features__tag\">01span>\n              <h2 data-sticky-feature-text=\"\" class=\"sticky-features__heading\">Fresh Iced Matcha Latteh2>\n              <p data-sticky-feature-text=\"\" class=\"sticky-features__p\">A glass of iced matcha latte with a metal straw, sitting on a red surface against a dark background, showcasing its vibrant green color.p>\n              <p data-sticky-feature-text=\"\" class=\"sticky-features__p is--link\">Learn morep>\n            div>\n            <div data-sticky-feature-item=\"\" class=\"sticky-features__text-item\">\n              <span data-sticky-feature-text=\"\" class=\"sticky-features__tag\">02span>\n              <h2 data-sticky-feature-text=\"\" class=\"sticky-features__heading\">Matcha Whisking Arth2>\n              <p data-sticky-feature-text=\"\" class=\"sticky-features__p\">A hand sprinkles green powder using a bamboo whisk into another hand, set against a dark fabric background, creating a dramatic visual.p>\n              <p data-sticky-feature-text=\"\" class=\"sticky-features__p is--link\">Learn morep>\n            div>\n            <div data-sticky-feature-item=\"\" class=\"sticky-features__text-item\">\n              <span data-sticky-feature-text=\"\" class=\"sticky-features__tag\">03span>\n              <h2 data-sticky-feature-text=\"\" class=\"sticky-features__heading\">Steaming Orange Fizzh2>\n              <p data-sticky-feature-text=\"\" class=\"sticky-features__p\">A glass of orange beverage with a sugared rim and a floating leaf, emitting steam, set against a warm orange background.p>\n              <p data-sticky-feature-text=\"\" class=\"sticky-features__p is--link\">Learn morep>\n            div>\n            <div data-sticky-feature-item=\"\" class=\"sticky-features__text-item\">\n              <span data-sticky-feature-text=\"\" class=\"sticky-features__tag\">04span>\n              <h2 data-sticky-feature-text=\"\" class=\"sticky-features__heading\">Home Away From Homeh2>\n              <p data-sticky-feature-text=\"\" class=\"sticky-features__p\">Hands holding a copper cup of green matcha tea on a brown surface, adorned with simple bracelets, creating a warm and serene scene.p>\n              <p data-sticky-feature-text=\"\" class=\"sticky-features__p is--link\">Learn morep>\n            div>\n          div>\n        div>\n      div>\n    div>\n  div>\ndiv>\n\nStep 2: Add CSS\n\n.sticky-features__wrap {\n  width: 100%;\n  padding-left: 1.25em;\n  padding-right: 1.25em;\n  position: relative;\n}\n\n.sticky-features__scroll {\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  display: flex;\n}\n\n.sticky-features__container {\n  grid-column-gap: 1.25em;\n  grid-row-gap: 1.25em;\n  justify-content: center;\n  align-items: stretch;\n  width: 100%;\n  max-width: 70em;\n  margin-left: auto;\n  margin-right: auto;\n  display: flex;\n}\n\n.sticky-feaures__col {\n  flex: 1;\n  position: relative;\n}\n\n.sticky-feaures__col.is--img {\n  overflow: hidden;\n  border-radius: 0.75em;\n}\n\n.sticky-features__progress-w {\n  position: absolute;\n  left: 0em;\n  right: 0em;\n  bottom: 0em;\n  height: 0.25em;\n  background-color: rgba(255, 255, 255, 0.15);\n}\n\n.sticky-features__progress-bar {\n  width: 100%;\n  height: 100%;\n  background-color: rgb(255, 255, 255);\n  transform: scale3d(0, 1, 1);\n  transform-origin: 0% 50%;\n}\n\n.sticky-features__img-collection {\n  width: 100%;\n}\n\n.sticky-features__img-list {\n  aspect-ratio: 1 / 1.3;\n  width: 100%;\n  position: relative;\n}\n\n.sticky-features__img-item {\n  -webkit-clip-path: inset(50% round .75em);\n  clip-path: inset(50% round .75em);\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  inset: 0%;\n}\n\n/* Show only 1st items on live site */\n[data-sticky-feature-visual-wrap]:first-of-type{ clip-path: inset(0% round 0.75em); }\n\n.sticky-features__img {\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n}\n\n.sticky-features__text-collection {\n  height: 100%;\n}\n\n.sticky-features__text-list {\n  flex-flow: column;\n  justify-content: center;\n  align-items: flex-start;\n  height: 100%;\n  max-height: 100%;\n  display: flex;\n  position: relative;\n}\n\n.sticky-features__text-item {\n  grid-column-gap: 1.5em;\n  grid-row-gap: 1.5em;\n  visibility: hidden;\n  flex-flow: column;\n  grid-template-rows: auto auto;\n  grid-template-columns: 1fr 1fr;\n  grid-auto-columns: 1fr;\n  justify-content: center;\n  align-items: flex-start;\n  width: 100%;\n  max-width: 27.5em;\n  margin-left: auto;\n  display: flex;\n  position: absolute;\n  right: 0;\n}\n\n/* Show only 1st items on live site */\n[data-sticky-feature-item]:first-of-type{ visibility: visible; }\n\n.sticky-features__heading {\n  margin-top: 0;\n  margin-bottom: 0;\n  font-size: 3.75em;\n  font-weight: 500;\n  line-height: 1;\n}\n\n.sticky-features__p {\n  color: #ffffffb3;\n  margin-bottom: 0;\n  font-size: 1.25em;\n  line-height: 1.2;\n}\n\n.sticky-features__p.is--link {\n  color: #fff;\n  text-decoration: underline;\n}\n\n.sticky-features__tag {\n  background-color: #ffffff1a;\n  border-radius: .25em;\n  margin-bottom: 1.5em;\n  padding: .5em .625em;\n  font-size: 1em;\n  line-height: 1;\n}\n\n.resource-end {\n  justify-content: center;\n  align-items: center;\n  min-height: 50vh;\n  display: flex;\n}\n\n@media screen and (max-width: 767px) {\n  .sticky-features__scroll {\n    justify-content: center;\n    align-items: center;\n    height: auto;\n    min-height: 100svh;\n    padding-top: 1.25em;\n    padding-bottom: 2.5em;\n  }\n\n  .sticky-features__container {\n    grid-column-gap: 2em;\n    grid-row-gap: 2em;\n    flex-flow: column;\n    justify-content: flex-start;\n    align-items: stretch;\n  }\n\n  .sticky-features__img-list {\n    aspect-ratio: 1;\n  }\n\n  .sticky-features__text-list {\n    min-height: 20em;\n    max-height: none;\n  }\n\n  .sticky-features__text-item {\n    max-width: none;\n  }\n\n  .sticky-features__heading {\n    font-size: 2.5em;\n  }\n\n  .sticky-features__p {\n    font-size: 1em;\n  }\n\n  .sticky-features__tag {\n    margin-bottom: 0;\n  }\n}\n\nStep 2: Add custom Javascript\n\ngsap.registerPlugin(ScrollTrigger);\n\nfunction initStickyFeatures(root){\n  const wraps = Array.from((root || document).querySelectorAll(\"[data-sticky-feature-wrap]\"));\n  if(!wraps.length) return;\n\n  wraps.forEach(w => {\n    const visualWraps = Array.from(w.querySelectorAll(\"[data-sticky-feature-visual-wrap]\"));\n    const items = Array.from(w.querySelectorAll(\"[data-sticky-feature-item]\"));\n    const progressBar = w.querySelector(\"[data-sticky-feature-progress]\");\n    \n    if (visualWraps.length !== items.length) {\n      console.warn(\"[initStickyFeatures] visualWraps and items count do not match:\", {\n        visualWraps: visualWraps.length,\n        items: items.length,\n        wrap: w\n      });\n    }\n    \n    const count = Math.min(visualWraps.length, items.length);\n    if(count < 1) return;\n\n    const rm = window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches;\n    const DURATION = rm ? 0.01 : 0.75; // If user prefers reduced motion, reduce duration\n    const EASE = \"power4.inOut\";\n    const SCROLL_AMOUNT = 0.9; // % of scroll used for step transitions\n\n    const getTexts = el => Array.from(el.querySelectorAll(\"[data-sticky-feature-text]\"));\n\n    if(visualWraps[0]) gsap.set(visualWraps[0], { clipPath: \"inset(0% round 0.75em)\" });\n    gsap.set(items[0], { autoAlpha: 1 });\n\n    let currentIndex = 0;\n\n    // Transition Function\n    function transition(fromIndex, toIndex){\n      if(fromIndex === toIndex) return;\n      const tl = gsap.timeline({ defaults: { overwrite: \"auto\" } });\n      \n      if(fromIndex < toIndex){\n        tl.to(visualWraps[toIndex], { \n          clipPath: \"inset(0% round 0.75em)\",\n          duration: DURATION,\n          ease: EASE\n        }, 0);\n      } else {\n        tl.to(visualWraps[fromIndex], { \n          clipPath: \"inset(50% round 0.75em)\",\n          duration: DURATION,\n          ease: EASE\n        }, 0);\n      }\n      animateOut(items[fromIndex]);\n      animateIn(items[toIndex]);\n    }\n\n    // Fade out text content items\n    function animateOut(itemEl){\n      const texts = getTexts(itemEl);\n      gsap.to(texts, {\n        autoAlpha: 0,\n        y: -30,\n        ease: \"power4.out\",\n        duration: 0.4,\n        onComplete: () => gsap.set(itemEl, { autoAlpha: 0 })\n      });\n    }\n\n    // Reveal incoming text content items\n    function animateIn(itemEl){\n      const texts = getTexts(itemEl);\n      gsap.set(itemEl, { autoAlpha: 1 });\n      gsap.fromTo(texts, {\n        autoAlpha: 0, \n        y: 30\n      }, {\n        autoAlpha: 1,\n        y: 0,\n        ease: \"power4.out\",\n        duration: DURATION,\n        stagger: 0.1\n      });\n    }\n\n    const steps = Math.max(1, count - 1);\n\n    ScrollTrigger.create({\n      trigger: w,\n      start: \"center center\",\n      end: () => `+=${steps * 100}%`,\n      pin: true,\n      scrub: true,\n      invalidateOnRefresh: true,\n      onUpdate: self => {\n        const p = Math.min(self.progress, SCROLL_AMOUNT) / SCROLL_AMOUNT;\n        let idx = Math.floor(p * steps + 1e-6);\n        idx = Math.max(0, Math.min(steps, idx));\n        \n        gsap.to(progressBar,{\n          scaleX: p,\n          ease: \"none\"\n        })\n        \n        if (idx !== currentIndex) {\n          transition(currentIndex, idx);\n          currentIndex = idx;\n        }\n      }\n    });\n  });\n}\n\n// Initialize Sticky Features\ndocument.addEventListener(\"DOMContentLoaded\", () =>{\n  initStickyFeatures();\n});\n\nImplementation\n\n\nContainer\nUse [data-sticky-feature-wrap] to define the pinned scroll section that controls step-based transitions between visuals and text items.\n\n\nVisual\nUse [data-sticky-feature-visual-wrap] to wrap each visual panel that reveals with a rounded clip-path as its corresponding step becomes active.\n\nItem\n\nUse [data-sticky-feature-item] to define the text block for each step, matching the order and count of the visual wraps for synchronized transitions.\n\n\nText\nUse [data-sticky-feature-text] inside each item to target child elements that fade and slide during step changes with a staggered sequence.\n\n\nAmount of items\nYou're free to add as many visuals + items to the wrap as you want. Ensure [data-sticky-feature-visual-wrap] and [data-sticky-feature-item] occur in equal numbers though.\n\n\nScroll length\nThe total pin distance scales with the number of steps so the section ends at += (steps × 100%).\n\n\nScroll progress\nWe use the onUpdate method in the ScrollTrigger to track the progress of the full section. The progress can be used in any tween you want. In our example, we animate the scaleX property on a div marked with [data-sticky-feature-progress].\n\nReading band\nOnly the first 90% of the ScrollTrigger is used for step switching so the last step remains readable near the end of [data-sticky-feature-wrap].\n\n\nReduced motion\nIf the user prefers reduced motion, the tween durations shorten automatically while maintaining visibility logic for [data-sticky-feature-item] and [data-sticky-feature-text].\n\n\nInitial state\nOn load, the first visual in [data-sticky-feature-visual-wrap] is revealed and the first item in [data-sticky-feature-item] is set visible, while other items remain hidden until activated.\n\nOrdering\nThe step order is determined by DOM order, so keep [data-sticky-feature-visual-wrap] and [data-sticky-feature-item] aligned index-wise from top to bottom.",
    "id": "sticky-features"
  },
  {
    "title": "cg-orchestra-3d-scroll-animation",
    "code": {
      "cubesData.js": "export const cubesData = {\n  \"cube-1\": {\n    initial: {\n      top: -55,\n      left: 37.5,\n      rotateX: 360,\n      rotateY: -360,\n      rotateZ: -48,\n      z: -30000,\n    },\n    final: {\n      top: 50,\n      left: 15,\n      rotateX: 0,\n      rotateY: 3,\n      rotateZ: 0,\n      z: 0,\n    },\n  },\n  \"cube-2\": {\n    initial: {\n      top: -35,\n      left: 32.5,\n      rotateX: -360,\n      rotateY: 360,\n      rotateZ: 90,\n      z: -30000,\n    },\n    final: {\n      top: 75,\n      left: 25,\n      rotateX: 1,\n      rotateY: 2,\n      rotateZ: 0,\n      z: 0,\n    },\n  },\n  \"cube-3\": {\n    initial: {\n      top: -65,\n      left: 50,\n      rotateX: -360,\n      rotateY: -360,\n      rotateZ: -180,\n      z: -30000,\n    },\n    final: {\n      top: 25,\n      left: 25,\n      rotateX: -1,\n      rotateY: 2,\n      rotateZ: 0,\n      z: 0,\n    },\n  },\n  \"cube-4\": {\n    initial: {\n      top: -35,\n      left: 50,\n      rotateX: -360,\n      rotateY: -360,\n      rotateZ: -180,\n      z: -30000,\n    },\n    final: {\n      top: 75,\n      left: 75,\n      rotateX: 1,\n      rotateY: -2,\n      rotateZ: 0,\n      z: 0,\n    },\n  },\n  \"cube-5\": {\n    initial: {\n      top: -55,\n      left: 62.5,\n      rotateX: 360,\n      rotateY: 360,\n      rotateZ: -135,\n      z: -30000,\n    },\n    final: {\n      top: 25,\n      left: 75,\n      rotateX: -1,\n      rotateY: -2,\n      rotateZ: 0,\n      z: 0,\n    },\n  },\n  \"cube-6\": {\n    initial: {\n      top: -35,\n      left: 67.5,\n      rotateX: -180,\n      rotateY: -360,\n      rotateZ: -180,\n      z: -30000,\n    },\n    final: {\n      top: 50,\n      left: 85,\n      rotateX: 0,\n      rotateY: -3,\n      rotateZ: 0,\n      z: 0,\n    },\n  },\n};\n",
      "index.html": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Orchestra 3D Scroll Animation | mukta</title>\n    <link rel=\"stylesheet\" href=\"styles.css\" />\n  </head>\n  <body>\n    <section class=\"sticky\">\n      <div class=\"logo\">\n        <div class=\"col\">\n          <div class=\"block block-1\"></div>\n          <div class=\"block block-2\"></div>\n        </div>\n        <div class=\"col\">\n          <div class=\"block block-3\"></div>\n          <div class=\"block block-4\"></div>\n        </div>\n        <div class=\"col\">\n          <div class=\"block block-5\"></div>\n          <div class=\"block block-6\"></div>\n        </div>\n      </div>\n\n      <div class=\"cubes\">\n        <div class=\"cube cube-1\">\n          <div class=\"front\"></div>\n          <div class=\"back\"></div>\n          <div class=\"right\"></div>\n          <div class=\"left\"></div>\n          <div class=\"top\"></div>\n          <div class=\"bottom\"></div>\n        </div>\n\n        <div class=\"cube cube-2\">\n          <div class=\"front\"></div>\n          <div class=\"back\"></div>\n          <div class=\"right\"></div>\n          <div class=\"left\"></div>\n          <div class=\"top\"></div>\n          <div class=\"bottom\"></div>\n        </div>\n\n        <div class=\"cube cube-3\">\n          <div class=\"front\"></div>\n          <div class=\"back\"></div>\n          <div class=\"right\"></div>\n          <div class=\"left\"></div>\n          <div class=\"top\"></div>\n          <div class=\"bottom\"></div>\n        </div>\n\n        <div class=\"cube cube-4\">\n          <div class=\"front\"></div>\n          <div class=\"back\"></div>\n          <div class=\"right\"></div>\n          <div class=\"left\"></div>\n          <div class=\"top\"></div>\n          <div class=\"bottom\"></div>\n        </div>\n\n        <div class=\"cube cube-5\">\n          <div class=\"front\"></div>\n          <div class=\"back\"></div>\n          <div class=\"right\"></div>\n          <div class=\"left\"></div>\n          <div class=\"top\"></div>\n          <div class=\"bottom\"></div>\n        </div>\n\n        <div class=\"cube cube-6\">\n          <div class=\"front\"></div>\n          <div class=\"back\"></div>\n          <div class=\"right\"></div>\n          <div class=\"left\"></div>\n          <div class=\"top\"></div>\n          <div class=\"bottom\"></div>\n        </div>\n      </div>\n\n      <div class=\"header-1\">\n        <h1>\n          The first media company crafted for the digital first generation.\n        </h1>\n      </div>\n\n      <div class=\"header-2\">\n        <h2>Where innovation meets precision.</h2>\n        <p>\n          Symphonia unites visionary thinkers, creative architects, and\n          analytical experts, collaborating seamlessly to transform challenges\n          into opportunities. Together, we deliver tailored solutions that drive\n          impact and inspire growth.\n        </p>\n      </div>\n    </section>\n\n    <section class=\"about\">\n      <h2>Your next section goes here</h2>\n    </section>\n\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js\"></script>\n    <script src=\"https://unpkg.com/lenis@1.1.19/dist/lenis.min.js\"></script>\n    <script src=\"./script.js\" type=\"module\"></script>\n  </body>\n</html>\n",
      "script.js": "import { cubesData } from \"./cubesData.js\";\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const lenis = new Lenis();\n  lenis.on(\"scroll\", ScrollTrigger.update);\n  gsap.ticker.add((time) => {\n    lenis.raf(time * 1000);\n  });\n  gsap.ticker.lagSmoothing(0);\n\n  const stickySection = document.querySelector(\".sticky\");\n  const logo = document.querySelector(\".logo\");\n  const cubesContainer = document.querySelector(\".cubes\");\n  const header1 = document.querySelector(\".header-1\");\n  const header2 = document.querySelector(\".header-2\");\n\n  const stickyHeight = window.innerHeight * 4;\n\n  const cubeFaces = document.querySelectorAll(\".cube > div\");\n  let imageCounter = 1;\n\n  cubeFaces.forEach((face) => {\n    const img = document.createElement(\"img\");\n    img.src = `./assets/img${imageCounter}.jpeg`;\n    img.alt = `Cube face image ${imageCounter}`;\n    face.textContent = \"\";\n    face.appendChild(img);\n    imageCounter++;\n  });\n\n  const interpolate = (start, end, progress) => {\n    return start + (end - start) * progress;\n  };\n\n  ScrollTrigger.create({\n    trigger: stickySection,\n    start: \"top top\",\n    end: `+=${stickyHeight}px`,\n    scrub: 1,\n    pin: true,\n    pinSpacing: true,\n    onUpdate: (self) => {\n      const initialProgress = Math.min(self.progress * 20, 1);\n      logo.style.filter = `blur(${interpolate(0, 20, initialProgress)}px)`;\n\n      const logoOpacityProgress =\n        self.progress >= 0.02 ? Math.min((self.progress - 0.02) * 100, 1) : 0;\n      logo.style.opacity = 1 - logoOpacityProgress;\n\n      const cubesOpacityProgress =\n        self.progress >= 0.01 ? Math.min((self.progress - 0.01) * 100, 1) : 0;\n      cubesContainer.style.opacity = cubesOpacityProgress;\n\n      const header1Progress = Math.min(self.progress * 2.5, 1);\n      header1.style.transform = `translate(-50%, -50%) scale(${interpolate(\n        1,\n        1.5,\n        header1Progress\n      )})`;\n      header1.style.filter = `blur(${interpolate(0, 20, header1Progress)}px)`;\n      header1.style.opacity = 1 - header1Progress;\n\n      const header2StartProgress = (self.progress - 0.4) * 10;\n      const header2Progress = Math.max(0, Math.min(header2StartProgress, 1));\n      const header2Scale = interpolate(0.75, 1, header2Progress);\n      const header2Blur = interpolate(10, 0, header2Progress);\n\n      header2.style.transform = `translate(-50%, -50%) scale(${header2Scale})`;\n      header2.style.filter = `blur(${header2Blur}px)`;\n      header2.style.opacity = header2Progress;\n\n      const firstPhaseProgress = Math.min(self.progress * 2, 1);\n      const secondPhaseProgress =\n        self.progress >= 0.5 ? (self.progress - 0.5) * 2 : 0;\n\n      Object.entries(cubesData).forEach(([cubeClass, data]) => {\n        const cube = document.querySelector(`.${cubeClass}`);\n        const { initial, final } = data;\n\n        const currentTop = interpolate(\n          initial.top,\n          final.top,\n          firstPhaseProgress\n        );\n        const currentLeft = interpolate(\n          initial.left,\n          final.left,\n          firstPhaseProgress\n        );\n        const currentRotateX = interpolate(\n          initial.rotateX,\n          final.rotateX,\n          firstPhaseProgress\n        );\n        const currentRotateY = interpolate(\n          initial.rotateY,\n          final.rotateY,\n          firstPhaseProgress\n        );\n        const currentRotateZ = interpolate(\n          initial.rotateZ,\n          final.rotateZ,\n          firstPhaseProgress\n        );\n        const currentZ = interpolate(initial.z, final.z, firstPhaseProgress);\n\n        let additionalRotation = 0;\n        if (cubeClass === \"cube-2\") {\n          additionalRotation = interpolate(0, 180, secondPhaseProgress);\n        } else if (cubeClass === \"cube-4\") {\n          additionalRotation = interpolate(0, -180, secondPhaseProgress);\n        }\n\n        cube.style.top = `${currentTop}%`;\n        cube.style.left = `${currentLeft}%`;\n        cube.style.transform = `\n            translate3d(-50%, -50%, ${currentZ}px)\n            rotateX(${currentRotateX}deg)\n            rotateY(${currentRotateY + additionalRotation}deg)\n            rotateZ(${currentRotateZ}deg)\n        `;\n      });\n    },\n  });\n});\n",
      "styles.css": "* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nhtml,\nbody {\n  width: 100vw;\n  height: 600vh;\n  font-family: \"Notch Grotesk\";\n}\n\nimg {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\nsection {\n  position: relative;\n  width: 100vw;\n  height: 100vh;\n  overflow: hidden;\n}\n\n.sticky {\n  background-color: #331707;\n  color: #ffe9d9;\n}\n\n.about {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  background-color: #cdb9ab;\n  color: #331707;\n}\n\n.logo {\n  position: absolute;\n  top: 25%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: flex;\n  gap: 24px;\n  z-index: 2;\n}\n\n.col {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n}\n\n.col:nth-child(2) {\n  gap: 26px;\n}\n\n.block {\n  width: 35px;\n  height: 35px;\n  background-color: #ffe9d9;\n}\n\n.block-1 {\n  transform: rotate(42deg);\n  transform-origin: bottom right;\n}\n\n.block-5 {\n  transform: rotate(-42deg);\n  transform-origin: bottom left;\n}\n\n.cubes {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  transform-style: preserve-3d;\n  perspective: 10000px;\n}\n\n.cube {\n  position: absolute;\n  width: 150px;\n  height: 150px;\n  transform-style: preserve-3d;\n}\n\n.cube > div {\n  position: absolute;\n  width: 150px;\n  height: 150px;\n  transform-style: preserve-3d;\n  backface-visibility: visible;\n}\n\n.front {\n  transform: translateZ(75px);\n}\n.back {\n  transform: translateZ(-75px) rotateY(180deg);\n}\n.right {\n  transform: translateX(75px) rotateY(90deg);\n}\n.left {\n  transform: translateX(-75px) rotateY(-90deg);\n}\n.top {\n  transform: translateY(-75px) rotateX(90deg);\n}\n.bottom {\n  transform: translateY(75px) rotateX(-90deg);\n}\n\n.cube-1 {\n  top: -55%;\n  left: 37.5%;\n  transform: translate3d(-50%, -50%, -30000px) rotateX(360deg) rotateY(-360deg)\n    rotateZ(-48deg);\n}\n\n.cube-2 {\n  top: -35%;\n  left: 32.5%;\n  transform: translate3d(-50%, -50%, -30000px) rotateX(-180deg) rotateY(180deg)\n    rotateZ(90deg);\n}\n\n.cube-3 {\n  top: -65%;\n  left: 50%;\n  transform: translate3d(-50%, -50%, -30000px) rotateX(-90deg) rotateY(-90deg)\n    rotateZ(-180deg);\n}\n\n.cube-4 {\n  top: -35%;\n  left: 50%;\n  transform: translate3d(-50%, -50%, -30000px) rotateX(-90deg) rotateY(-90deg)\n    rotateZ(-180deg);\n}\n\n.cube-5 {\n  top: -55%;\n  left: 62.5%;\n  transform: translate3d(-50%, -50%, -30000px) rotateX(180deg) rotateY(180deg)\n    rotateZ(-135deg);\n}\n\n.cube-6 {\n  top: -35%;\n  left: 67.5%;\n  transform: translate3d(-50%, -50%, -30000px) rotateX(-90deg) rotateY(-180deg)\n    rotateZ(-180deg);\n}\n\n.header-1 {\n  width: 60%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%) scale(1);\n  transform-origin: center center;\n  text-align: center;\n  color: #ffe9d9;\n}\n\n.header-1 h1 {\n  font-weight: 400;\n  font-size: 4rem;\n  line-height: 1;\n}\n\n.header-2 {\n  width: 30%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%) scale(0.75);\n  transform-origin: center center;\n  text-align: center;\n  opacity: 0;\n  filter: blur(10px);\n  color: #ffe9d9;\n}\n\n.header-2 h2 {\n  margin-bottom: 0.5rem;\n}\n\n.header-2 p {\n  font-size: 1.25rem;\n  font-weight: lighter;\n}\n\n.lenis.lenis-smooth [data-lenis-prevent] {\n  overscroll-behavior: contain;\n}\n\n.lenis.lenis-stopped {\n  overflow: clip;\n}\n\n.lenis.lenis-smooth iframe {\n  pointer-events: none;\n}\n"
    }
  },
  {
    "title": "cg-sofihealth-product-scroll-animation",
    "code": {
      "index.html": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>SofiHealth Product Scroll Animation | mukta</title>\n    <link rel=\"stylesheet\" href=\"/styles.css\" />\n  </head>\n  <body>\n    <section class=\"intro\">\n      <h1>GRND doesn’t shake. It performs.</h1>\n    </section>\n\n    <section class=\"product-overview\">\n      <div class=\"header-1\"><h1>Every Rep Starts With</h1></div>\n      <div class=\"header-2\"><h1>GRND Shaker</h1></div>\n\n      <div class=\"circular-mask\"></div>\n\n      <div class=\"tooltips\">\n        <div class=\"tooltip\">\n          <div class=\"icon\">\n            <ion-icon name=\"flash\"></ion-icon>\n          </div>\n          <div class=\"divider\"></div>\n          <div class=\"title\">\n            <h2>Built to last</h2>\n          </div>\n          <div class=\"description\">\n            <p>\n              Designed to match your pace, GRND runs all week on a single\n              charge. No interruptions, no slowing down.\n            </p>\n          </div>\n        </div>\n        <div class=\"tooltip\">\n          <div class=\"icon\">\n            <ion-icon name=\"bluetooth\"></ion-icon>\n          </div>\n          <div class=\"divider\"></div>\n          <div class=\"title\">\n            <h2>Stay synced</h2>\n          </div>\n          <div class=\"description\">\n            <p>\n              With app integration, GRND helps you stay consistent. Monitor\n              intake, set goals, and make every sip count.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"model-container\"></div>\n    </section>\n\n    <section class=\"outro\">\n      <h1>Don’t Just Train — GRND</h1>\n    </section>\n\n    <script\n      type=\"module\"\n      src=\"https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js\"\n    ></script>\n    <script\n      nomodule\n      src=\"https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js\"\n    ></script>\n    <script type=\"module\" src=\"/script.js\"></script>\n  </body>\n</html>\n",
      "package.json": "{\n  \"name\": \"cg-sofihealth-product-scroll-animation\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"dev\": \"vite\"\n  },\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"gsap\": \"^3.13.0\",\n    \"lenis\": \"^1.3.4\",\n    \"three\": \"^0.177.0\",\n    \"vite\": \"^6.3.5\"\n  }\n}\n",
      "script.js": "import * as THREE from \"three\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader.js\";\nimport gsap from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport { SplitText } from \"gsap/SplitText\";\nimport Lenis from \"lenis\";\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  gsap.registerPlugin(ScrollTrigger, SplitText);\n\n  const lenis = new Lenis();\n  lenis.on(\"scroll\", ScrollTrigger.update);\n  gsap.ticker.add((time) => lenis.raf(time * 1000));\n  gsap.ticker.lagSmoothing(0);\n\n  const header1Split = new SplitText(\".header-1 h1\", {\n    type: \"chars\",\n    charsClass: \"char\",\n  });\n  const titleSplits = new SplitText(\".tooltip .title h2\", {\n    type: \"lines\",\n    linesClass: \"line\",\n  });\n  const descriptionSplits = new SplitText(\".tooltip .description p\", {\n    type: \"lines\",\n    linesClass: \"line\",\n  });\n\n  header1Split.chars.forEach(\n    (char) => (char.innerHTML = `<span>${char.innerHTML}</span>`)\n  );\n  [...titleSplits.lines, ...descriptionSplits.lines].forEach(\n    (line) => (line.innerHTML = `<span>${line.innerHTML}</span>`)\n  );\n\n  const animOptions = { duration: 1, ease: \"power3.out\", stagger: 0.025 };\n  const tooltipSelectors = [\n    {\n      trigger: 0.65,\n      elements: [\n        \".tooltip:nth-child(1) .icon ion-icon\",\n        \".tooltip:nth-child(1) .title .line > span\",\n        \".tooltip:nth-child(1) .description .line > span\",\n      ],\n    },\n    {\n      trigger: 0.85,\n      elements: [\n        \".tooltip:nth-child(2) .icon ion-icon\",\n        \".tooltip:nth-child(2) .title .line > span\",\n        \".tooltip:nth-child(2) .description .line > span\",\n      ],\n    },\n  ];\n\n  ScrollTrigger.create({\n    trigger: \".product-overview\",\n    start: \"75% bottom\",\n    onEnter: () =>\n      gsap.to(\".header-1 h1 .char > span\", {\n        y: \"0%\",\n        duration: 1,\n        ease: \"power3.out\",\n        stagger: 0.025,\n      }),\n    onLeaveBack: () =>\n      gsap.to(\".header-1 h1 .char > span\", {\n        y: \"100%\",\n        duration: 1,\n        ease: \"power3.out\",\n        stagger: 0.025,\n      }),\n  });\n\n  let model,\n    currentRotation = 0,\n    modelSize;\n  const scene = new THREE.Scene();\n  const camera = new THREE.PerspectiveCamera(\n    60,\n    window.innerWidth / window.innerHeight,\n    0.1,\n    1000\n  );\n  const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });\n\n  renderer.setClearColor(0x000000, 0);\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n  renderer.shadowMap.enabled = true;\n  renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n  renderer.outputEncoding = THREE.LinearEncoding;\n  renderer.toneMapping = THREE.NoToneMapping;\n  renderer.toneMappingExposure = 1.0;\n  document.querySelector(\".model-container\").appendChild(renderer.domElement);\n\n  scene.add(new THREE.AmbientLight(0xffffff, 0.7));\n\n  const mainLight = new THREE.DirectionalLight(0xffffff, 1.0);\n  mainLight.position.set(1, 2, 3);\n  mainLight.castShadow = true;\n  mainLight.shadow.bias = -0.001;\n  mainLight.shadow.mapSize.width = 1024;\n  mainLight.shadow.mapSize.height = 1024;\n  scene.add(mainLight);\n\n  const fillLight = new THREE.DirectionalLight(0xffffff, 0.5);\n  fillLight.position.set(-2, 0, -2);\n  scene.add(fillLight);\n\n  function setupModel() {\n    if (!model || !modelSize) return;\n\n    const isMobile = window.innerWidth < 1000;\n    const box = new THREE.Box3().setFromObject(model);\n    const center = box.getCenter(new THREE.Vector3());\n\n    model.position.set(\n      isMobile ? center.x + modelSize.x * 1 : -center.x - modelSize.x * 0.4,\n      -center.y + modelSize.y * 0.085,\n      -center.z\n    );\n\n    model.rotation.z = isMobile ? 0 : THREE.MathUtils.degToRad(-25);\n\n    const cameraDistance = isMobile ? 2 : 1.25;\n    camera.position.set(\n      0,\n      0,\n      Math.max(modelSize.x, modelSize.y, modelSize.z) * cameraDistance\n    );\n    camera.lookAt(0, 0, 0);\n  }\n\n  new GLTFLoader().load(\"/shaker.glb\", (gltf) => {\n    model = gltf.scene;\n\n    model.traverse((node) => {\n      if (node.isMesh && node.material) {\n        Object.assign(node.material, {\n          metalness: 0.05,\n          roughness: 0.9,\n        });\n      }\n    });\n\n    const box = new THREE.Box3().setFromObject(model);\n    const size = box.getSize(new THREE.Vector3());\n    modelSize = size;\n\n    scene.add(model);\n    setupModel();\n  });\n\n  function animate() {\n    requestAnimationFrame(animate);\n    renderer.render(scene, camera);\n  }\n  animate();\n\n  window.addEventListener(\"resize\", () => {\n    camera.aspect = window.innerWidth / window.innerHeight;\n    camera.updateProjectionMatrix();\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    setupModel();\n  });\n\n  ScrollTrigger.create({\n    trigger: \".product-overview\",\n    start: \"top top\",\n    end: `+=${window.innerHeight * 10}px`,\n    pin: true,\n    pinSpacing: true,\n    scrub: 1,\n    onUpdate: ({ progress }) => {\n      const headerProgress = Math.max(0, Math.min(1, (progress - 0.05) / 0.3));\n      gsap.to(\".header-1\", {\n        xPercent:\n          progress < 0.05 ? 0 : progress > 0.35 ? -100 : -100 * headerProgress,\n      });\n\n      const maskSize =\n        progress < 0.2\n          ? 0\n          : progress > 0.3\n          ? 100\n          : 100 * ((progress - 0.2) / 0.1);\n      gsap.to(\".circular-mask\", {\n        clipPath: `circle(${maskSize}% at 50% 50%)`,\n      });\n\n      const header2Progress = (progress - 0.15) / 0.35;\n      const header2XPercent =\n        progress < 0.15\n          ? 100\n          : progress > 0.5\n          ? -200\n          : 100 - 300 * header2Progress;\n      gsap.to(\".header-2\", { xPercent: header2XPercent });\n\n      const scaleX =\n        progress < 0.45\n          ? 0\n          : progress > 0.65\n          ? 100\n          : 100 * ((progress - 0.45) / 0.2);\n      gsap.to(\".tooltip .divider\", { scaleX: `${scaleX}%`, ...animOptions });\n\n      tooltipSelectors.forEach(({ trigger, elements }) => {\n        gsap.to(elements, {\n          y: progress >= trigger ? \"0%\" : \"125%\",\n          ...animOptions,\n        });\n      });\n\n      if (model && progress >= 0.05) {\n        const rotationProgress = (progress - 0.05) / 0.95;\n        const targetRotation = Math.PI * 3 * 4 * rotationProgress;\n        const rotationDiff = targetRotation - currentRotation;\n        if (Math.abs(rotationDiff) > 0.001) {\n          model.rotateOnAxis(new THREE.Vector3(0, 1, 0), rotationDiff);\n          currentRotation = targetRotation;\n        }\n      }\n    },\n  });\n});\n",
      "styles.css": "@import url(\"https://fonts.cdnfonts.com/css/pp-neue-montreal\");\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: \"PP Neue Montreal\", sans-serif;\n}\n\nh1 {\n  font-size: 4rem;\n  font-weight: 500;\n  line-height: 1;\n}\n\nh2 {\n  font-size: 3rem;\n  font-weight: 500;\n  line-height: 1.125;\n  letter-spacing: -0.03rem;\n}\n\np {\n  font-size: 1.1rem;\n  font-weight: 500;\n  line-height: 1.5;\n}\n\nsection {\n  position: relative;\n  width: 100vw;\n  height: 100svh;\n  background-color: #e0dfdf;\n  color: #0d0d0d;\n  overflow: hidden;\n}\n\n.intro,\n.outro {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #0d0d0d;\n  color: #e0dfdf;\n  padding: 2rem;\n}\n\n.model-container {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 100%;\n  height: 100%;\n  z-index: 100;\n}\n\n.header-1 {\n  position: relative;\n  width: 200vw;\n  height: 100svh;\n  color: #0d0d0d;\n  transform: translateX(0%);\n}\n\n.header-2 {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 150vw;\n  height: 100svh;\n  color: #e0dfdf;\n  transform: translateX(100%);\n  z-index: 2;\n}\n\n.header-1,\n.header-2 {\n  display: flex;\n  align-items: center;\n  padding: 0 2rem;\n}\n\n.header-1 h1,\n.header-2 h1 {\n  width: 100%;\n  font-size: 15vw;\n  line-height: 1.25;\n  letter-spacing: -0.02em;\n}\n\n.circular-mask {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: #0d0d0d;\n  clip-path: circle(0% at 50% 50%);\n}\n\n.tooltips {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 75%;\n  height: 75%;\n  display: flex;\n  gap: 15rem;\n}\n\n.tooltip {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  color: #e0dfdf;\n}\n\n.tooltip:nth-child(2) {\n  justify-content: flex-end;\n  align-items: flex-end;\n}\n\n.tooltip .divider {\n  position: relative;\n  width: 100%;\n  height: 1px;\n  background-color: #5f5f5f;\n  margin: 0.5rem 0;\n  transform: scaleX(0%);\n}\n\n.tooltip:nth-child(1) .divider {\n  transform-origin: right center;\n}\n\n.tooltip:nth-child(2) .divider {\n  transform-origin: left center;\n}\n\n.tooltip .icon {\n  font-size: 2.5rem;\n  overflow: hidden;\n}\n\n.tooltip .description {\n  color: #5f5f5f;\n}\n\n.tooltip:nth-child(2) .icon,\n.tooltip:nth-child(2) .title,\n.tooltip .description {\n  width: 70%;\n}\n\n.header-1 h1 .char,\n.tooltip .title .line,\n.tooltip .description .line {\n  display: inline-block;\n  overflow: hidden;\n}\n\n.header-1 h1 .char > span,\n.tooltip .icon ion-icon,\n.tooltip .title .line > span,\n.tooltip .description .line > span {\n  position: relative;\n  display: block;\n  transform: translateY(100%);\n  will-change: transform;\n}\n\n@media (max-width: 1000px) {\n  h1 {\n    text-align: center;\n    font-size: 2rem;\n  }\n\n  h2,\n  .tooltip .icon {\n    font-size: 1.5rem;\n  }\n\n  .tooltips {\n    width: 100%;\n    align-items: center;\n    flex-direction: column;\n    gap: 2rem;\n  }\n\n  .tooltip {\n    width: 85%;\n  }\n\n  .tooltip:nth-child(2) {\n    justify-content: flex-start;\n    align-items: flex-start;\n  }\n\n  .tooltip .divider {\n    width: 70%;\n  }\n\n  .tooltip:nth-child(2) .divider {\n    transform-origin: right center;\n  }\n\n  .tooltip:nth-child(2) .icon,\n  .tooltip:nth-child(2) .title {\n    width: 100%;\n  }\n}\n"
    }
  },
  {
    "title": "follow-svg-path-on-scroll",
    "code": "Documentation\n\nSetup: External Scripts\n\n<script src=\"https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js\">script>\n<script src=\"https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/ScrollTrigger.min.js\">script>\n<script src=\"https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/MotionPathPlugin.min.js\">script>\n\nStep 1: Add HTML\n\n<div data-motionpath=\"wrap\" class=\"motionpath-wrap\">\n  <div class=\"motionpath-content\">\n    <h1 class=\"motionpath-content-title\">SPACESh1>\n    <div class=\"motionpath-content-inner\">\n      <div class=\"motionpath-content-path\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 1366 603\" fill=\"transparent\" preserveaspectratio=\"none\" class=\"motionpath-svg\">\n          <path data-motionpath=\"path\" d=\"M1115.94 0C1297.33 38.9693 1626.89 444.65 993.816 562.057C407.372 670.816 89.0772 533.413 0 436.157\" stroke=\"transparent\">path>\n        svg>\n      div>\n      <div class=\"motionpath-content-wrap\">\n        <div class=\"motionpath-content-list\">\n          <div data-motionpath=\"item\" class=\"motionpath-content-item\">\n            <div class=\"motionpath-content-item__visual\">\n              <img src=\"https://cdn.prod.website-files.com/684fe83006c8046ffc2d3616/685bbbdbe72f870106909210_Minimalist%20Terracotta%20Room.avif\" class=\"motionpath-content-item__img\">\n            div>\n            <div data-motionpath=\"item-details\" class=\"motionpath-content-item__details\">\n              <span class=\"motionpath-content-item__label\">Image 001span>\n              <h3 class=\"motionpath-content-item__title\">Master bedroomh3>\n            div>\n          div>\n          <div data-motionpath=\"item\" class=\"motionpath-content-item\">\n            <div class=\"motionpath-content-item__visual\">\n              <img src=\"https://cdn.prod.website-files.com/684fe83006c8046ffc2d3616/685bbbdb2a4dda2ba7fc3147_Terracotta%20Dining%20Room.avif\"  class=\"motionpath-content-item__img\">\n            div>\n            <div data-motionpath=\"item-details\" class=\"motionpath-content-item__details\">\n              <span class=\"motionpath-content-item__label\">Image 002span>\n              <h3 class=\"motionpath-content-item__title\">Dining roomh3>\n            div>\n          div>\n          <div data-motionpath=\"item\" class=\"motionpath-content-item\">\n            <div class=\"motionpath-content-item__visual\">\n              <img src=\"https://cdn.prod.website-files.com/684fe83006c8046ffc2d3616/685bbbdbe72f870106909213_Terracotta%20Kitchen%20Design.avif\"  class=\"motionpath-content-item__img\">\n            div>\n            <div data-motionpath=\"item-details\" class=\"motionpath-content-item__details\">\n              <span class=\"motionpath-content-item__label\">Image 003span>\n              <h3 class=\"motionpath-content-item__title\">Open kitchenh3>\n            div>\n          div>\n          <div data-motionpath=\"item\" class=\"motionpath-content-item\">\n            <div class=\"motionpath-content-item__visual\">\n              <img src=\"https://cdn.prod.website-files.com/684fe83006c8046ffc2d3616/685bbbde57b0bf84b0d815c1_Luxurious%20Terracotta%20Bathroom.avif\"  class=\"motionpath-content-item__img\">\n            div>\n            <div data-motionpath=\"item-details\" class=\"motionpath-content-item__details\">\n              <span class=\"motionpath-content-item__label\">Image 004span>\n              <h3 class=\"motionpath-content-item__title\">Spacious bathroomh3>\n            div>\n          div>\n          <div data-motionpath=\"item\" class=\"motionpath-content-item\">\n            <div class=\"motionpath-content-item__visual\">\n              <img src=\"https://cdn.prod.website-files.com/684fe83006c8046ffc2d3616/685bbbdbdfeae088022b8ee7_Minimalist%20Terracotta%20Room%20(1).avif\"  class=\"motionpath-content-item__img\">\n            div>\n            <div data-motionpath=\"item-details\" class=\"motionpath-content-item__details\">\n              <span class=\"motionpath-content-item__label\">Image 005span>\n              <h3 class=\"motionpath-content-item__title\">Terraceh3>\n            div>\n          div>\n        div>\n      div>\n    div>\n  div>\ndiv>\n\nStep 2: Add CSS\n\n.motionpath-wrap {\n  width: 100%;\n  height: 450vh;\n  position: relative;\n  overflow: clip;\n}\n\n.motionpath-container {\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.motionpath-content {\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  position: sticky;\n  top: 0;\n}\n\n.motionpath-content-inner {\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  display: flex;\n}\n\n.motionpath-content-path {\n  width: 100vmax;\n  height: 100%;\n  max-height: 45vh;\n}\n\n.motionpath-svg {\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n}\n\n.motionpath-content-wrap {\n  z-index: 1;\n  position: absolute;\n}\n\n.motionpath-content-item {\n  grid-column-gap: 2em;\n  grid-row-gap: 2em;\n  justify-content: flex-start;\n  align-items: flex-start;\n  display: flex;\n  position: absolute;\n}\n\n.motionpath-content-item__visual {\n  aspect-ratio: 1 / 1.5;\n  border-radius: .75em;\n  flex: none;\n  width: max(24vw, 12rem);\n  overflow: hidden;\n}\n\n.motionpath-content-item__img {\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n}\n\n.motionpath-content-item__details {\n  grid-column-gap: .75em;\n  grid-row-gap: .75em;\n  white-space: nowrap;\n  flex-flow: column;\n  justify-content: flex-end;\n  align-items: flex-start;\n  padding-top: 2em;\n  display: flex;\n}\n\n.motionpath-content-item__title {\n  margin-top: 0;\n  margin-bottom: 0;\n  font-size: 2em;\n  font-weight: 500;\n  line-height: 1;\n}\n\n.motionpath-content-item__label {\n  color: #13131399;\n  background-color: #fff;\n  border-radius: 100em;\n  padding: .5em .75em;\n  font-size: .75em;\n  font-weight: 500;\n  line-height: 1.2;\n}\n\n.motionpath-content-title {\n  z-index: 0;\n  color: #1313130f;\n  margin-top: 0;\n  margin-bottom: 0;\n  font-family: PP Neue Corp Tight, Arial, sans-serif;\n  font-size: 30vw;\n  line-height: .8;\n  position: absolute;\n}\n\n@media screen and (max-width: 767px) {\n  .motionpath-content-inner {\n    justify-content: flex-start;\n    align-items: flex-start;\n  }\n\n  .motionpath-content-path {\n    max-height: 70vh;\n  }\n\n  .motionpath-content-item {\n    grid-column-gap: 1em;\n    grid-row-gap: 1em;\n  }\n\n  .motionpath-content-item__details {\n    grid-column-gap: .5em;\n    grid-row-gap: .5em;\n    padding-top: 1em;\n  }\n\n  .motionpath-content-item__title {\n    font-size: 1.25em;\n  }\n\n  .motionpath-content-item__label {\n    font-size: .625em;\n  }\n}\n\nStep 2: Add custom Javascript\n\ngsap.registerPlugin(ScrollTrigger, MotionPathPlugin);\n\nfunction initImagesOnPathScroll() {\n  const wrap = document.querySelector('[data-motionpath=\"wrap\"]');\n  const path = wrap.querySelector('[data-motionpath=\"path\"]');\n  const items = wrap.querySelectorAll('[data-motionpath=\"item\"]');\n  const itemDetails = wrap.querySelectorAll('[data-motionpath=\"item-details\"]')\n\n  // Set z-index on items, to make sure the 1st item is on top\n  gsap.set(items, {\n    zIndex: (i, target, all) => all.length - i\n  });\n\n  // if there’s an old timeline, grab its progress, reset it, then kill it\n  const oldTl = initImagesOnPathScroll.tl;\n  let progress = 0;\n  \n  if (oldTl) {\n    progress = oldTl.progress();\n    oldTl.progress(0).kill();\n  }\n\n  // create a new timeline + ScrollTrigger\n  const tl = gsap.timeline({\n    scrollTrigger: {\n      trigger: wrap,\n      start: 'top top',\n      end: 'bottom bottom',\n      scrub: true\n    },\n    defaults: {\n      ease: 'none',\n      stagger: 0.3 // Define the space between each item\n    }\n  });\n\n  tl.to(items, {\n      duration: 1,\n      motionPath: { path, align: path, curviness: 2, alignOrigin: [0.5, 0.5] }\n    })\n    .fromTo(items,\n      { autoAlpha: 0, },\n      { autoAlpha: 1, duration: 0.1 },\n      0\n    )\n    .fromTo(items,\n      { filter: 'blur(1.5em)' },\n      { filter: 'blur(0em)', duration: 0.5 },\n      0\n    )\n    .fromTo(itemDetails,\n      { autoAlpha: 0, yPercent:25 },\n      { autoAlpha: 1, yPercent:0, duration: 0.1,},\n      0.5\n    )    \n    .fromTo(items,\n      { scale: 0.4 },\n      { scale: 1, duration: 0.65 },\n      0\n    )\n    .to(items, { autoAlpha: 0, filter: 'blur(1em)', duration: 0.15 }, 0.85)\n    .to(itemDetails, { autoAlpha: 0, duration: 0.05 }, 0.9)\n    \n    \n  // jump back to previous spot and refresh\n  tl.progress(progress);\n  ScrollTrigger.refresh();\n\n  // store it on the function so we can grab it next time\n  initImagesOnPathScroll.tl = tl;\n\n  // on first run bind a single debounced resize listener\n  if (!initImagesOnPathScroll.resizeHandler) {\n    initImagesOnPathScroll.resizeHandler = debounce(() => {\n      initImagesOnPathScroll();\n    }, 200);\n    window.addEventListener('resize', initImagesOnPathScroll.resizeHandler);\n  }\n\n  return tl;\n}\n\nfunction debounce(fn, delay = 200) {\n  let timeout;\n  return () => {\n    clearTimeout(timeout);\n    timeout = setTimeout(fn, delay);\n  };\n}\n\n// Initialize Follow SVG Path on Scroll\ndocument.addEventListener(\"DOMContentLoaded\", () =>{\n  initImagesOnPathScroll();\n});\n\nImplementation\n\nDocumentation\nIn this resource we're combining GSAPs ScrollTrigger with the MotionPath plugin to create this very cool scroll effect. This can be used to animate a stack of items (images, cards, links, etc) along any SVG path as the user scrolls. Each item fades, blurs, scales, and reveals its child content at precise scroll positions. Everything can be tweaked to your liking of course!\n\nHTML Structure\nAdd the following attributes in your HTML:\n- data-motionpath=\"wrap\" → Container for the scroll-triggered animation. The height of this element determines how long your animation will take to scroll through.\n- data-motionpath=\"path\" → SVG  element defining the motion curve. This can have any shape or size, get creative!\n- ‍data-motionpath=\"item\" → The actual items we will move along the path.\n- data-motionpath=\"item-details\" → If you have children of your main 'item' elements that need to be animated seperately.\n\nJS Options\nFor the ScrollTrigger itself we don't do anything special. Besides control your typical start and end points, here's 2 options you may want to play with:\n- scrub: true → Syncs the timeline with scroll progress. If you combine this with Lenis scroll, it will feel super smooth.\n- stagger: 0.3 → Change this to define how much space there should be between each item.\nThe actual 'magic' that makes your items follow the SVG path, all happens in the first tween on our timeline. We have used and defined the below values, but we encourage you to explore some of the other super fun options in the official GSAP docs.\ntl.to(items, {\n  duration: 1,\n  motionPath: { \n    path, // Use our path variable\n    align: path, // Align our items to this path\n    alignOrigin: [0.5, 0.5], // Determines how the item is aligned to the actual path\n    curviness: 2, // Determines how 'curvy' the motion is of your items along the path\n  }\n})\nResponsiveness\nAs you will notice by checking our example HTML/CSS, we have played a bit with responsive values for the width and height of the path. This is very specific to each project, so feel free to play around with this to match your exact requirements. Notice how we've defined preserveAspectRatio of none on our SVG element, to make the path scale accordingly.\nA heads-up for this animation is that it's rather expensive for mobile devices to handle. We're animating blur, and complex transforms. So you might want to keep that in mind! An alternative could be to drop this animation entirely on mobile, and opt for a different layout/design.\n\nFor Webflow Users\nOur example copies a static list of images. This can easily be adapted to a CMS list! Replace the following items:\n- .motionpath-content-wrap → your CMS List Wrap\n- ‍.motionpath-content-list → your CMS List \n- ‍.motionpath-content-item → your CMS List Item\nIf you'd rather use it as a static list, so without the CMS, it can be tricky to edit all the content. That is because our items are stacked on top of each other with position: absolute. That's why we gave a little bit of custom CSS earlier that you can include in your project. This makes sure that your items are all stacked underneath each other, wrapped in a div with overflow: scroll. This way, even a client in edit mode could adjust the content. Although, we strongly recommend using the CMS, in which case you do not\n‍",
    "id": "follow-svg-path-on-scroll"
  },
  {
    "title": "cg-telescope-scroll-animation",
    "code": {
      "index.html": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Telescope Scroll Animation | mukta</title>\n    <link rel=\"stylesheet\" href=\"/styles.css\" />\n  </head>\n  <body>\n    <section class=\"intro\">\n      <h1>A curated series of surreal frames.</h1>\n    </section>\n\n    <section class=\"spotlight\">\n      <div class=\"spotlight-intro-text-wrapper\">\n        <div class=\"spotlight-intro-text\"><p>Beneath</p></div>\n        <div class=\"spotlight-intro-text\"><p>Beyond</p></div>\n      </div>\n\n      <div class=\"spotlight-bg-img\">\n        <img src=\"/img_1.jpg\" alt=\"\" />\n      </div>\n\n      <div class=\"spotlight-titles-container\">\n        <div class=\"spotlight-titles\"></div>\n      </div>\n\n      <div class=\"spotlight-images\"></div>\n\n      <div class=\"spotlight-header\">\n        <p>Discover</p>\n      </div>\n    </section>\n\n    <section class=\"outro\">\n      <h1>Moments in still motion.</h1>\n    </section>\n    <script type=\"module\" src=\"/script.js\"></script>\n  </body>\n</html>\n",
      "package.json": "{\n  \"name\": \"cg-telescope-scroll-animation\",\n  \"version\": \"1.0.0\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"dev\": \"vite\"\n  },\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"description\": \"\",\n  \"dependencies\": {\n    \"gsap\": \"^3.13.0\",\n    \"lenis\": \"^1.3.4\",\n    \"vite\": \"^7.0.4\"\n  }\n}\n",
      "script.js": "import gsap from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport Lenis from \"lenis\";\n\ngsap.registerPlugin(ScrollTrigger);\n\n// NOTE: These values are interconnected - when speed changes, it affects when images finish their movement, which also affects the gap between images. When you change the number of items in spotlightItems array, you'll need to adjust these config settings together. Test different combinations until you find the right balance that looks good.\nconst config = {\n  gap: 0.08,\n  speed: 0.3,\n  arcRadius: 500,\n};\n\nconst spotlightItems = [\n  { name: \"Silent Arc\", img: \"/img_1.jpg\" },\n  { name: \"Bloom24\", img: \"/img_2.jpg\" },\n  { name: \"Glass Fade\", img: \"/img_3.jpg\" },\n  { name: \"Echo 9\", img: \"/img_4.jpg\" },\n  { name: \"Velvet Loop\", img: \"/img_5.jpg\" },\n  { name: \"Field Two\", img: \"/img_6.jpg\" },\n  { name: \"Pale Thread\", img: \"/img_7.jpg\" },\n  { name: \"Stillroom\", img: \"/img_8.jpg\" },\n  { name: \"Ghostline\", img: \"/img_9.jpg\" },\n  { name: \"Mono 73\", img: \"/img_10.jpg\" },\n];\n\nconst lenis = new Lenis();\nlenis.on(\"scroll\", ScrollTrigger.update);\ngsap.ticker.add((time) => lenis.raf(time * 1000));\ngsap.ticker.lagSmoothing(0);\n\nconst titlesContainer = document.querySelector(\".spotlight-titles\");\nconst imagesContainer = document.querySelector(\".spotlight-images\");\nconst spotlightHeader = document.querySelector(\".spotlight-header\");\nconst titlesContainerElement = document.querySelector(\n  \".spotlight-titles-container\"\n);\nconst introTextElements = document.querySelectorAll(\".spotlight-intro-text\");\nconst imageElements = [];\n\nspotlightItems.forEach((item, index) => {\n  const titleElement = document.createElement(\"h1\");\n  titleElement.textContent = item.name;\n  if (index === 0) titleElement.style.opacity = \"1\";\n  titlesContainer.appendChild(titleElement);\n\n  const imgWrapper = document.createElement(\"div\");\n  imgWrapper.className = \"spotlight-img\";\n  const imgElement = document.createElement(\"img\");\n  imgElement.src = item.img;\n  imgElement.alt = \"\";\n  imgWrapper.appendChild(imgElement);\n  imagesContainer.appendChild(imgWrapper);\n  imageElements.push(imgWrapper);\n});\n\nconst titleElements = titlesContainer.querySelectorAll(\"h1\");\nlet currentActiveIndex = 0;\n\nconst containerWidth = window.innerWidth * 0.3;\nconst containerHeight = window.innerHeight;\nconst arcStartX = containerWidth - 220;\nconst arcStartY = -200;\nconst arcEndY = containerHeight + 200;\nconst arcControlPointX = arcStartX + config.arcRadius;\nconst arcControlPointY = containerHeight / 2;\n\nfunction getBezierPosition(t) {\n  const x =\n    (1 - t) * (1 - t) * arcStartX +\n    2 * (1 - t) * t * arcControlPointX +\n    t * t * arcStartX;\n  const y =\n    (1 - t) * (1 - t) * arcStartY +\n    2 * (1 - t) * t * arcControlPointY +\n    t * t * arcEndY;\n  return { x, y };\n}\n\nfunction getImgProgressState(index, overallProgress) {\n  const startTime = index * config.gap;\n  const endTime = startTime + config.speed;\n\n  if (overallProgress < startTime) return -1;\n  if (overallProgress > endTime) return 2;\n\n  return (overallProgress - startTime) / config.speed;\n}\n\nimageElements.forEach((img) => gsap.set(img, { opacity: 0 }));\n\nScrollTrigger.create({\n  trigger: \".spotlight\",\n  start: \"top top\",\n  end: `+=${window.innerHeight * 10}px`,\n  pin: true,\n  pinSpacing: true,\n  scrub: 1,\n  onUpdate: (self) => {\n    const progress = self.progress;\n\n    if (progress <= 0.2) {\n      const animationProgress = progress / 0.2;\n\n      const moveDistance = window.innerWidth * 0.6;\n      gsap.set(introTextElements[0], {\n        x: -animationProgress * moveDistance,\n      });\n      gsap.set(introTextElements[1], {\n        x: animationProgress * moveDistance,\n      });\n      gsap.set(introTextElements[0], { opacity: 1 });\n      gsap.set(introTextElements[1], { opacity: 1 });\n\n      gsap.set(\".spotlight-bg-img\", {\n        transform: `scale(${animationProgress})`,\n      });\n      gsap.set(\".spotlight-bg-img img\", {\n        transform: `scale(${1.5 - animationProgress * 0.5})`,\n      });\n\n      imageElements.forEach((img) => gsap.set(img, { opacity: 0 }));\n      spotlightHeader.style.opacity = \"0\";\n      gsap.set(titlesContainerElement, {\n        \"--before-opacity\": \"0\",\n        \"--after-opacity\": \"0\",\n      });\n    } else if (progress > 0.2 && progress <= 0.25) {\n      gsap.set(\".spotlight-bg-img\", { transform: \"scale(1)\" });\n      gsap.set(\".spotlight-bg-img img\", { transform: \"scale(1)\" });\n\n      gsap.set(introTextElements[0], { opacity: 0 });\n      gsap.set(introTextElements[1], { opacity: 0 });\n\n      imageElements.forEach((img) => gsap.set(img, { opacity: 0 }));\n      spotlightHeader.style.opacity = \"1\";\n      gsap.set(titlesContainerElement, {\n        \"--before-opacity\": \"1\",\n        \"--after-opacity\": \"1\",\n      });\n    } else if (progress > 0.25 && progress <= 0.95) {\n      gsap.set(\".spotlight-bg-img\", { transform: \"scale(1)\" });\n      gsap.set(\".spotlight-bg-img img\", { transform: \"scale(1)\" });\n\n      gsap.set(introTextElements[0], { opacity: 0 });\n      gsap.set(introTextElements[1], { opacity: 0 });\n\n      spotlightHeader.style.opacity = \"1\";\n      gsap.set(titlesContainerElement, {\n        \"--before-opacity\": \"1\",\n        \"--after-opacity\": \"1\",\n      });\n\n      const switchProgress = (progress - 0.25) / 0.7;\n      const viewportHeight = window.innerHeight;\n      const titlesContainerHeight = titlesContainer.scrollHeight;\n      const startPosition = viewportHeight;\n      const targetPosition = -titlesContainerHeight;\n      const totalDistance = startPosition - targetPosition;\n      const currentY = startPosition - switchProgress * totalDistance;\n\n      gsap.set(\".spotlight-titles\", {\n        transform: `translateY(${currentY}px)`,\n      });\n\n      imageElements.forEach((img, index) => {\n        const imageProgress = getImgProgressState(index, switchProgress);\n\n        if (imageProgress < 0 || imageProgress > 1) {\n          gsap.set(img, { opacity: 0 });\n        } else {\n          const pos = getBezierPosition(imageProgress);\n          gsap.set(img, {\n            x: pos.x - 100,\n            y: pos.y - 75,\n            opacity: 1,\n          });\n        }\n      });\n\n      const viewportMiddle = viewportHeight / 2;\n      let closestIndex = 0;\n      let closestDistance = Infinity;\n\n      titleElements.forEach((title, index) => {\n        const titleRect = title.getBoundingClientRect();\n        const titleCenter = titleRect.top + titleRect.height / 2;\n        const distanceFromCenter = Math.abs(titleCenter - viewportMiddle);\n\n        if (distanceFromCenter < closestDistance) {\n          closestDistance = distanceFromCenter;\n          closestIndex = index;\n        }\n      });\n\n      if (closestIndex !== currentActiveIndex) {\n        if (titleElements[currentActiveIndex]) {\n          titleElements[currentActiveIndex].style.opacity = \"0.25\";\n        }\n        titleElements[closestIndex].style.opacity = \"1\";\n        document.querySelector(\".spotlight-bg-img img\").src =\n          spotlightItems[closestIndex].img;\n        currentActiveIndex = closestIndex;\n      }\n    } else if (progress > 0.95) {\n      spotlightHeader.style.opacity = \"0\";\n      gsap.set(titlesContainerElement, {\n        \"--before-opacity\": \"0\",\n        \"--after-opacity\": \"0\",\n      });\n    }\n  },\n});\n",
      "styles.css": "* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: \"PP Neue Montreal\";\n}\n\nimg {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\nh1 {\n  font-size: 4rem;\n  font-weight: 500;\n  line-height: 1;\n}\n\np {\n  font-size: 1.5rem;\n  font-weight: 500;\n  line-height: 1;\n}\n\nsection {\n  position: relative;\n  width: 100vw;\n  height: 100svh;\n  overflow: hidden;\n}\n\n.intro,\n.outro {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #0f0f0f;\n  color: #fff;\n}\n\n.spotlight-intro-text-wrapper {\n  position: absolute;\n  width: 100%;\n  top: 50%;\n  transform: translateY(-50%);\n  display: flex;\n  gap: 0.5rem;\n}\n\n.spotlight-intro-text {\n  flex: 1;\n  position: relative;\n  will-change: transform;\n}\n\n.spotlight-intro-text:nth-child(1) {\n  display: flex;\n  justify-content: flex-end;\n}\n\n.spotlight-bg-img {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  transform: scale(0);\n  will-change: transform;\n}\n\n.spotlight-bg-img img {\n  transform: scale(1.5);\n  will-change: transform;\n}\n\n.spotlight-titles-container {\n  position: absolute;\n  top: 0;\n  left: 15vw;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  clip-path: polygon(\n    50svh 0px,\n    0px 50%,\n    50svh 100%,\n    100% calc(100% + 100svh),\n    100% -100svh\n  );\n  --before-opacity: 0;\n  --after-opacity: 0;\n}\n\n.spotlight-titles-container::before,\n.spotlight-titles-container::after {\n  content: \"\";\n  position: absolute;\n  width: 100svh;\n  height: 2.5px;\n  background: #fff;\n  pointer-events: none;\n  transition: opacity 0.3s ease;\n  z-index: 10;\n}\n\n.spotlight-titles-container::before {\n  top: 0;\n  left: 0;\n  transform: rotate(-45deg) translate(-7rem);\n  opacity: var(--before-opacity);\n}\n\n.spotlight-titles-container::after {\n  bottom: 0;\n  left: 0;\n  transform: rotate(45deg) translate(-7rem);\n  opacity: var(--after-opacity);\n}\n\n.spotlight-titles {\n  position: relative;\n  left: 15%;\n  width: 75%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 5rem;\n  transform: translateY(100%);\n  z-index: 2;\n}\n\n.spotlight-titles h1 {\n  color: #fff;\n  opacity: 0.25;\n  transition: opacity 0.3s ease;\n}\n\n.spotlight-images {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 50%;\n  min-width: 300px;\n  height: 100%;\n  z-index: 1;\n  pointer-events: none;\n}\n\n.spotlight-img {\n  position: absolute;\n  width: 200px;\n  height: 150px;\n  will-change: transform;\n}\n\n.spotlight-header {\n  position: absolute;\n  top: 50%;\n  left: 10%;\n  transform: translateY(-50%);\n  color: #fff;\n  transition: opacity 0.3s ease;\n  z-index: 2;\n  opacity: 0;\n}\n\n@media (max-width: 1000px) {\n  h1 {\n    font-size: 2rem;\n  }\n\n  .intro,\n  .outro {\n    padding: 2rem;\n    text-align: center;\n  }\n\n  .spotlight-titles-container {\n    clip-path: none;\n  }\n\n  .spotlight-titles-container::before,\n  .spotlight-titles-container::after {\n    display: none;\n  }\n\n  .spotlight-titles {\n    left: 0;\n  }\n\n  .spotlight-header {\n    display: none;\n  }\n}\n",
      "vite.config.js": "import { defineConfig } from \"vite\";\n\nexport default defineConfig({\n  build: {\n    assetsInclude: [\n      \"**/*.jpeg\",\n      \"**/*.jpg\",\n      \"**/*.png\",\n      \"**/*.svg\",\n      \"**/*.gif\",\n    ],\n\n    copyPublicDir: true,\n\n    rollupOptions: {\n      output: {\n        assetFileNames: \"assets/[name].[ext]\",\n      },\n    },\n  },\n});\n"
    }
  },
  {
    "title": "-",
    "description": "-",
    "code": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>SeventeenAgency Scroll Animation | CodeGrid</title>\n    \n    <!-- Importing the \"Stylish\" font from Google Fonts -->\n    <style>\n        @import url(\"https://fonts.googleapis.com/css2?family=Stylish&display=swap\");\n\n        /* Reset and Base Styles */\n        :root {\n            --base-100: #fff;\n            --base-200: #4f4f4f;\n            --base-300: #0f0f0f;\n        }\n\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n\n        /* Hide scrollbar for immersive experience */\n        html.lenis, html.lenis body {\n            height: auto;\n        }\n        \n        .lenis.lenis-smooth {\n            scroll-behavior: auto !important;\n        }\n\n        .lenis.lenis-smooth [data-lenis-prevent] {\n            overscroll-behavior: contain;\n        }\n\n        .lenis.lenis-stopped {\n            overflow: hidden;\n        }\n\n        .lenis.lenis-scrolling iframe {\n            pointer-events: none;\n        }\n\n        ::-webkit-scrollbar {\n            display: none;\n        }\n\n        body {\n            font-family: \"Stylish\", sans-serif;\n            background-color: var(--base-300);\n            color: var(--base-100);\n            overflow-x: hidden;\n        }\n\n        /* Image Reset */\n        img {\n            width: 100%;\n            height: 100%;\n            object-fit: cover;\n            display: block;\n        }\n\n        /* Typography Reset */\n        p {\n            font-size: 1.4rem;\n            font-weight: 400;\n            line-height: 0.95;\n            letter-spacing: -0.025rem;\n        }\n\n        /* \n           FIXED VISUAL SECTION \n           Holds the central icon/image that updates on scroll\n        */\n        .contact-visual {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100svh;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            overflow: hidden;\n            pointer-events: none; /* Let clicks pass through to potential links */\n            z-index: 0;\n        }\n\n        .contact-visual .contact-icon {\n            position: relative;\n            width: 8rem;\n            height: 8rem;\n        }\n\n        /* \n           SCROLLABLE INFO SECTION \n           Holds the text content rows\n        */\n        .contact-info {\n            position: relative;\n            width: 100%;\n            /* Minimal height ensuring scrollability for infinite effect */\n            min-height: 100svh; \n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            /* Base gap between rows */\n            gap: 1.5rem; \n            overflow: hidden;\n            /* Padding ensures items can scroll fully through the center */\n            padding: 50vh 0;\n            z-index: 1;\n        }\n\n        /* Individual Row Styles */\n        .contact-info .contact-info-row {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            gap: 1rem; /* Initial gap between text items */\n            will-change: gap; /* Optimization for animation */\n        }\n\n        /* Text Columns - Flex to allow space separation */\n        .contact-info .contact-info-row p {\n            flex: 1; \n        }\n\n        /* First child is right aligned (Label) */\n        .contact-info .contact-info-row p:nth-child(1) {\n            text-align: right;\n        }\n\n        /* Second child (Value) color logic */\n        .contact-info .contact-info-row p:nth-child(2) {\n            color: var(--base-200);\n            text-align: left;\n        }\n\n        /* Responsive Styles */\n        @media (max-width: 1000px) {\n            p {\n                font-size: 1rem;\n            }\n            .contact-visual .contact-icon {\n                width: 4rem;\n                height: 4rem;\n            }\n        }\n    </style>\n</head>\n<body>\n\n    <!-- Center Fixed Visual -->\n    <section class=\"contact-visual\">\n        <div class=\"contact-icon\">\n            <!-- Starting Icon - Using placehold for functionality, script replaces this -->\n            <img src=\"https://placehold.co/400x400/333/FFF?text=1\" alt=\"Visual Anchor\">\n        </div>\n    </section>\n\n    <!-- Scrollable Content -->\n    <section class=\"contact-info\">\n        <!-- \n           Base rows: These will be cloned by JS to create the infinite list.\n           Structure: P1 (Right Aligned), P2 (Left Aligned/Grey)\n        -->\n        <div class=\"contact-info-row\">\n            <p>Address</p>\n            <p>19 Great Street</p>\n        </div>\n        <div class=\"contact-info-row\">\n            <p>Current Time</p>\n            <p>20:40:30 (GMT)</p>\n        </div>\n        <div class=\"contact-info-row\">\n            <p>General Inquiries</p>\n            <p>hello@deadspacelabs.com</p>\n        </div>\n        <div class=\"contact-info-row\">\n            <p>New Business Inquiries</p>\n            <p>business@deadspacelabs.com</p>\n        </div>\n        <div class=\"contact-info-row\">\n            <p>Collaborations</p>\n            <p>Selective Connections</p>\n        </div>\n        <div class=\"contact-info-row\">\n            <p>Job Inquiries</p>\n            <p>hiring@deadspacelabs.com</p>\n        </div>\n        <div class=\"contact-info-row\">\n            <p>Telephone</p>\n            <p>+44 09 9842 2235</p>\n        </div>\n        <div class=\"contact-info-row\">\n            <p>Social Media</p>\n            <p>@Deadspace</p>\n        </div>\n    </section>\n\n    <!-- External Libraries via CDN -->\n    <script src=\"https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js\"></script>\n    <script src=\"https://unpkg.com/lenis@1.0.45/dist/lenis.min.js\"></script> \n\n    <!-- Application Script -->\n    <script type=\"module\">\n        // 1. Setup Libraries\n        gsap.registerPlugin(ScrollTrigger);\n\n        const lenis = new Lenis({\n            infinite: true, // Enables the looping scroll\n            smooth: true\n        });\n\n        function raf(time) {\n            lenis.raf(time);\n            requestAnimationFrame(raf);\n        }\n        requestAnimationFrame(raf);\n\n        // Sync ScrollTrigger with Lenis\n        lenis.on('scroll', ScrollTrigger.update);\n        gsap.ticker.add((time) => {\n            lenis.raf(time * 1000);\n        });\n        gsap.ticker.lagSmoothing(0);\n\n        // 2. Clone Elements for Infinite Loop Effect\n        // Select the container and the existing rows\n        const contactInfo = document.querySelector(\".contact-info\");\n        const contactInfoParent = contactInfo.parentElement; // actually appended inside contact-info usually, logic below\n        \n        // Note: The loop needs to fill enough space for infinite scrolling to trigger correctly.\n        // We clone the existing set of 8 rows multiple times.\n        const originalRows = document.querySelectorAll(\".contact-info-row\");\n        const CLONE_COUNT = 10; // Number of times to duplicate the list\n\n        for (let i = 0; i < CLONE_COUNT; i++) {\n            originalRows.forEach(row => {\n                const clone = row.cloneNode(true);\n                contactInfo.appendChild(clone);\n            });\n        }\n\n        // 3. Selection & Helper Variables\n        const contactVisual = document.querySelector(\".contact-visual\");\n        const contactIconImg = document.querySelector(\".contact-visual .contact-icon img\");\n        const contactRows = document.querySelectorAll(\".contact-info-row\");\n\n        // Determines how wide the gap opens based on screen size\n        const contactRowMaxGap = window.innerWidth < 1000 ? 5 : 10; \n\n        // Variables for Icon Switching logic\n        let currentIconIndex = 1;\n        let lastCenteredRow = null;\n        let minDistance = Infinity;\n        let closestRow = null;\n\n        // 4. Helper Function: Get Vertical Center of the Fixed Visual Container\n        function getVisualCenter() {\n            // center relative to the document view (fixed element)\n            return contactVisual.offsetTop + contactVisual.offsetHeight / 2;\n        }\n\n        // 5. Create Scroll Animations\n        contactRows.forEach((row, index) => {\n            \n            // --- Part A: Entering the Center (Expanding Gap) ---\n            ScrollTrigger.create({\n                trigger: row,\n                // Start animation slightly before the row hits the visual center\n                start: () => `top+=${getVisualCenter() - 550} center`, \n                // End animation exactly when row is at visual center\n                end: () => `top+=${getVisualCenter() - 450} center`,\n                scrub: true,\n                onUpdate: (self) => {\n                    // Calculation to grow gap from 1rem to MaxGap based on progress\n                    const gap = 1 + (contactRowMaxGap - 1) * self.progress;\n                    row.style.gap = `${gap}rem`;\n                }\n            });\n\n            // --- Part B: Leaving the Center (Collapsing Gap) ---\n            ScrollTrigger.create({\n                trigger: row,\n                // Start collapsing as soon as it passes the visual center offset\n                start: () => `top+=${getVisualCenter() - 400} center`,\n                // Finish collapsing shortly after\n                end: () => `top+=${getVisualCenter() - 300} center`,\n                scrub: true,\n                onUpdate: (self) => {\n                    // Calculation to shrink gap from MaxGap back to 1rem\n                    // Reversed logic (MaxGap - (difference * progress))\n                    const gap = contactRowMaxGap - (contactRowMaxGap - 1) * self.progress;\n                    row.style.gap = `${gap}rem`;\n                }\n            });\n        });\n\n        // 6. Icon Switching Logic (Detect which row is in the \"Center\")\n        // Since ScrollTrigger onUpdate fires per element, simpler collision detection\n        // via a centralized scroll listener is more performant for swapping a single image.\n        \n        lenis.on('scroll', () => {\n            const viewportCenter = window.innerHeight / 2;\n            \n            minDistance = Infinity;\n            closestRow = null;\n\n            // Loop to find which row is visually closest to the center line\n            contactRows.forEach(row => {\n                const rect = row.getBoundingClientRect();\n                const rowCenter = rect.top + rect.height / 2;\n                const distance = Math.abs(viewportCenter - rowCenter);\n\n                if (distance < minDistance) {\n                    minDistance = distance;\n                    closestRow = row;\n                }\n            });\n\n            // Logic to only swap icon when a *new* row takes the center stage\n            // Using a threshold (< 50px) to prevent rapid flickering\n            if (closestRow && closestRow !== lastCenteredRow && minDistance < 100) {\n                lastCenteredRow = closestRow;\n                \n                // Logic to cycle icon indices (1 to 7 approx, using Modulo)\n                // Just creating a cycling index effect\n                currentIconIndex = (currentIconIndex % 7) + 1; \n                \n                // --- IMAGE SWAP LOGIC ---\n                // Since this creates a standalone file, we use placeholder logic for \"Pixel Perfect\" structure\n                // In a real project: `src = \"./assets/icon_${currentIconIndex}.png\"`\n                \n                // generating distinct colorful placeholders to visualize the change\n                const hues = [0, 50, 100, 150, 200, 250, 300]; \n                const color = hues[currentIconIndex - 1];\n                const src = `https://placehold.co/400x400/hsl(${color},50%,20%)/FFF?text=Icon+${currentIconIndex}`;\n                \n                contactIconImg.src = src;\n            }\n        });\n\n    </script>\n</body>\n</html>"
  },
  {
    "title": "mukta-wonjyou-horizontal-scroll",
    "code": {
      "index.html": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>WonJYou Marquee X Horizontal Scroll Animation | mukta</title>\n    <link rel=\"stylesheet\" href=\"/styles.css\" />\n  </head>\n  <body>\n    <div class=\"container\">\n      <section class=\"hero\">\n        <h1>\n          Fragments of thought arranged in sequence become patterns. They unfold\n          step by step, shaping meaning as they move forward.\n        </h1>\n      </section>\n\n      <section class=\"marquee\">\n        <div class=\"marquee-wrapper\">\n          <div class=\"marquee-images\">\n            <div class=\"marquee-img\"><img src=\"/img-1.jpg\" /></div>\n            <div class=\"marquee-img\"><img src=\"/img-2.jpg\" /></div>\n            <div class=\"marquee-img\"><img src=\"/img-3.jpg\" /></div>\n            <div class=\"marquee-img\"><img src=\"/img-4.jpg\" /></div>\n            <div class=\"marquee-img\"><img src=\"/img-5.jpg\" /></div>\n            <div class=\"marquee-img\"><img src=\"/img-6.jpg\" /></div>\n            <div class=\"marquee-img pin\"><img src=\"/img-7.jpg\" /></div>\n            <div class=\"marquee-img\"><img src=\"/img-8.jpg\" /></div>\n            <div class=\"marquee-img\"><img src=\"/img-9.jpg\" /></div>\n            <div class=\"marquee-img\"><img src=\"/img-10.jpg\" /></div>\n            <div class=\"marquee-img\"><img src=\"/img-11.jpg\" /></div>\n            <div class=\"marquee-img\"><img src=\"/img-12.jpg\" /></div>\n            <div class=\"marquee-img\"><img src=\"/img-13.jpg\" /></div>\n          </div>\n        </div>\n      </section>\n\n      <section class=\"horizontal-scroll\">\n        <div class=\"horizontal-scroll-wrapper\">\n          <div class=\"horizontal-slide horizontal-spacer\"></div>\n          <div class=\"horizontal-slide\">\n            <div class=\"col\">\n              <h3>\n                A landscape in constant transition, where every shape, sound,\n                and shadow refuses to stay still. What seems stable begins to\n                dissolve, and what fades returns again in a new form.\n              </h3>\n            </div>\n            <div class=\"col\">\n              <img src=\"/slide-1.jpg\" />\n            </div>\n          </div>\n          <div class=\"horizontal-slide\">\n            <div class=\"col\">\n              <h3>\n                The rhythm of motion carries us forward into spaces that feel\n                familiar yet remain undefined. Each shift is subtle, yet\n                together they remind us that nothing we see is ever permanent.\n              </h3>\n            </div>\n            <div class=\"col\">\n              <img src=\"/slide-2.jpg\" />\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <section class=\"outro\">\n        <h1>\n          Shadows fold into light. Shapes shift across the frame, reminding us\n          that stillness is only temporary.\n        </h1>\n      </section>\n    </div>\n    <script type=\"module\" src=\"/script.js\"></script>\n  </body>\n</html>\n",
      "package.json": "{\n  \"name\": \"mukta-wonjyou-horizontal-scroll\",\n  \"version\": \"1.0.0\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"dev\": \"vite\"\n  },\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"description\": \"\",\n  \"dependencies\": {\n    \"gsap\": \"^3.13.0\",\n    \"lenis\": \"^1.3.11\",\n    \"vite\": \"^7.1.6\"\n  }\n}\n",
      "script.js": "import gsap from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport { Flip } from \"gsap/Flip\";\nimport Lenis from \"lenis\";\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  gsap.registerPlugin(ScrollTrigger, Flip);\n\n  const lenis = new Lenis();\n  lenis.on(\"scroll\", ScrollTrigger.update);\n  gsap.ticker.add((time) => {\n    lenis.raf(time * 1000);\n  });\n  gsap.ticker.lagSmoothing(0);\n\n  const lightColor = getComputedStyle(document.documentElement)\n    .getPropertyValue(\"--light\")\n    .trim();\n  const darkColor = getComputedStyle(document.documentElement)\n    .getPropertyValue(\"--dark\")\n    .trim();\n\n  function interpolateColor(color1, color2, factor) {\n    return gsap.utils.interpolate(color1, color2, factor);\n  }\n\n  gsap.to(\".marquee-images\", {\n    scrollTrigger: {\n      trigger: \".marquee\",\n      start: \"top bottom\",\n      end: \"top top\",\n      scrub: true,\n      onUpdate: (self) => {\n        const progress = self.progress;\n        const xPosition = -75 + progress * 25;\n        gsap.set(\".marquee-images\", {\n          x: `${xPosition}%`,\n        });\n      },\n    },\n  });\n\n  let pinnedMarqueeImgClone = null;\n  let isImgCloneActive = false;\n\n  function createPinnedMarqueeImgClone() {\n    if (isImgCloneActive) return;\n\n    const originalMarqueeImg = document.querySelector(\".marquee-img.pin img\");\n    const rect = originalMarqueeImg.getBoundingClientRect();\n    const centerX = rect.left + rect.width / 2;\n    const centerY = rect.top + rect.height / 2;\n\n    pinnedMarqueeImgClone = originalMarqueeImg.cloneNode(true);\n\n    gsap.set(pinnedMarqueeImgClone, {\n      position: \"fixed\",\n      left: centerX - originalMarqueeImg.offsetWidth / 2 + \"px\",\n      top: centerY - originalMarqueeImg.offsetHeight / 2 + \"px\",\n      width: originalMarqueeImg.offsetWidth + \"px\",\n      height: originalMarqueeImg.offsetHeight + \"px\",\n      transform: \"rotate(-5deg)\",\n      transformOrigin: \"center center\",\n      pointerEvents: \"none\",\n      willChange: \"transform\",\n      zIndex: 100,\n    });\n\n    document.body.appendChild(pinnedMarqueeImgClone);\n    gsap.set(originalMarqueeImg, { opacity: 0 });\n    isImgCloneActive = true;\n  }\n\n  function removePinnedMarqueeImgClone() {\n    if (!isImgCloneActive) return;\n    if (pinnedMarqueeImgClone) {\n      pinnedMarqueeImgClone.remove();\n      pinnedMarqueeImgClone = null;\n    }\n    const originalMarqueeImg = document.querySelector(\".marquee-img.pin img\");\n    gsap.set(originalMarqueeImg, { opacity: 1 });\n    isImgCloneActive = false;\n  }\n\n  ScrollTrigger.create({\n    trigger: \".horizontal-scroll\",\n    start: \"top top\",\n    end: () => `+=${window.innerHeight * 5}`,\n    pin: true,\n  });\n\n  ScrollTrigger.create({\n    trigger: \".marquee\",\n    start: \"top top\",\n    onEnter: createPinnedMarqueeImgClone,\n    onEnterBack: createPinnedMarqueeImgClone,\n    onLeaveBack: removePinnedMarqueeImgClone,\n  });\n\n  let flipAnimation = null;\n\n  ScrollTrigger.create({\n    trigger: \".horizontal-scroll\",\n    start: \"top 50%\",\n    end: () => `+=${window.innerHeight * 5.5}`,\n    onEnter: () => {\n      if (pinnedMarqueeImgClone && isImgCloneActive && !flipAnimation) {\n        const state = Flip.getState(pinnedMarqueeImgClone);\n\n        gsap.set(pinnedMarqueeImgClone, {\n          position: \"fixed\",\n          left: \"0px\",\n          top: \"0px\",\n          width: \"100%\",\n          height: \"100svh\",\n          transform: \"rotate(0deg)\",\n          transformOrigin: \"center center\",\n        });\n\n        flipAnimation = Flip.from(state, {\n          duration: 1,\n          ease: \"none\",\n          paused: true,\n        });\n      }\n    },\n    onLeaveBack: () => {\n      if (flipAnimation) {\n        flipAnimation.kill();\n        flipAnimation = null;\n      }\n      gsap.set(\".container\", {\n        backgroundColor: lightColor,\n      });\n      gsap.set(\".horizontal-scroll-wrapper\", {\n        x: \"0%\",\n      });\n    },\n  });\n\n  ScrollTrigger.create({\n    trigger: \".horizontal-scroll\",\n    start: \"top 50%\",\n    end: () => `+=${window.innerHeight * 5.5}`,\n    onUpdate: (self) => {\n      const progress = self.progress;\n\n      if (progress <= 0.05) {\n        const bgColorProgress = Math.min(progress / 0.05, 1);\n        const newBgColor = interpolateColor(\n          lightColor,\n          darkColor,\n          bgColorProgress\n        );\n        gsap.set(\".container\", {\n          backgroundColor: newBgColor,\n        });\n      } else if (progress > 0.05) {\n        gsap.set(\".container\", {\n          backgroundColor: darkColor,\n        });\n      }\n\n      if (progress <= 0.2) {\n        const scaleProgress = progress / 0.2;\n        if (flipAnimation) {\n          flipAnimation.progress(scaleProgress);\n        }\n      }\n\n      if (progress > 0.2 && progress <= 0.95) {\n        if (flipAnimation) {\n          flipAnimation.progress(1);\n        }\n\n        const horizontalProgress = (progress - 0.2) / 0.75;\n\n        const wrapperTranslateX = -66.67 * horizontalProgress;\n        gsap.set(\".horizontal-scroll-wrapper\", {\n          x: `${wrapperTranslateX}%`,\n        });\n\n        const slideMovement = (66.67 / 100) * 3 * horizontalProgress;\n        const imageTranslateX = -slideMovement * 100;\n        gsap.set(pinnedMarqueeImgClone, {\n          x: `${imageTranslateX}%`,\n        });\n      } else if (progress > 0.95) {\n        if (flipAnimation) {\n          flipAnimation.progress(1);\n        }\n        gsap.set(pinnedMarqueeImgClone, {\n          x: \"-200%\",\n        });\n        gsap.set(\".horizontal-scroll-wrapper\", {\n          x: \"-66.67%\",\n        });\n      }\n    },\n  });\n});\n",
      "styles.css": "@import url(\"https://fonts.cdnfonts.com/css/pp-neue-montreal\");\n\n:root {\n  --light: #edf1e8;\n  --dark: #101010;\n}\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: \"PP Neue Montreal\";\n}\n\nimg {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\nh1 {\n  font-size: 4rem;\n  font-weight: 500;\n  letter-spacing: -0.075rem;\n  line-height: 1.125;\n}\n\nh3 {\n  font-size: 2.25rem;\n  font-weight: 500;\n  letter-spacing: -0.025rem;\n  line-height: 1.125;\n}\n\n.container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  background-color: var(--light);\n  will-change: background-color;\n}\n\n.hero,\n.outro {\n  position: relative;\n  width: 100%;\n  height: 100svh;\n  padding: 2rem;\n  align-content: center;\n  text-align: center;\n}\n\n.hero h1,\n.outro h1 {\n  width: 75%;\n  margin: 0 auto;\n}\n\n.outro {\n  background-color: var(--dark);\n  color: var(--light);\n}\n\n.marquee {\n  position: relative;\n  width: 100%;\n  height: 50svh;\n  overflow: hidden;\n}\n\n.marquee-wrapper {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%) rotate(-5deg);\n  width: 150%;\n  height: 100%;\n}\n\n.marquee-images {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-75%, -50%);\n  width: 200%;\n  height: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 1rem;\n  will-change: transform;\n}\n\n.marquee-img {\n  flex: 1;\n  width: 100%;\n  aspect-ratio: 5/3;\n}\n\n.horizontal-scroll {\n  position: relative;\n  width: 100%;\n  height: 100svh;\n  overflow: hidden;\n}\n\n.horizontal-scroll-wrapper {\n  position: relative;\n  width: 300%;\n  height: 100svh;\n  display: flex;\n  will-change: transform;\n}\n\n.horizontal-slide {\n  flex: 1;\n  height: 100%;\n  display: flex;\n  gap: 2rem;\n  padding: 2rem;\n}\n\n.horizontal-slide:not(.horizontal-spacer) {\n  background-color: var(--dark);\n  color: var(--light);\n}\n\n.horizontal-slide .col:nth-child(1) {\n  flex: 3;\n}\n\n.horizontal-slide .col:nth-child(2) {\n  flex: 2;\n}\n\n.horizontal-scroll .col {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.horizontal-slide .col h3,\n.horizontal-slide .col img {\n  width: 75%;\n}\n\n.horizontal-slide .col img {\n  height: 75%;\n}\n\n@media (max-width: 1000px) {\n  h1 {\n    font-size: 2.25rem;\n    letter-spacing: -0.05rem;\n  }\n\n  h3 {\n    font-size: 1.5rem;\n  }\n\n  .hero h1,\n  .outro h1 {\n    width: 100%;\n  }\n\n  .marquee-wrapper {\n    width: 300%;\n  }\n\n  .horizontal-slide {\n    padding: 4rem;\n    flex-direction: column-reverse;\n    gap: 2rem;\n  }\n\n  .horizontal-slide .col:nth-child(1) {\n    align-items: flex-start;\n  }\n\n  .horizontal-slide .col h3 {\n    width: 100%;\n  }\n\n  .horizontal-slide .col img {\n    width: 100%;\n    height: 100%;\n  }\n}\n"
    }
  },
  {
    "title": "infinite-horizontal-scroll-mukta",
    "code": {
      "index.html": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Infinite Horizontal Scroll | mukta</title>\n    <link rel=\"stylesheet\" href=\"/styles.css\" />\n  </head>\n  <body>\n    <div class=\"container\">\n      <div class=\"progress-bar\"></div>\n\n      <div class=\"progress-counter\">\n        <h1>0</h1>\n      </div>\n\n      <div class=\"scroller\">\n        <!-- 1 -->\n        <section class=\"intro\">\n          <h1>Once You Start Scrolling, There’s No Way Out!</h1>\n          <h2>What If Your Website Could Scroll Forever?</h2>\n        </section>\n\n        <!-- 2 -->\n        <section class=\"hero-img\">\n          <img src=\"/assets/img1.jpg\" alt=\"\" />\n        </section>\n\n        <!-- 3 -->\n        <section class=\"header\">\n          <h1>\n            Traversing the frontier of digital evolution, crafting the future.\n          </h1>\n        </section>\n\n        <!-- 4 -->\n        <section class=\"about\">\n          <div class=\"row\">\n            <div class=\"copy\">\n              <p>\n                In a world shaped by velocity and precision, we engineer the\n                next generation of experiences. From hyper-intelligent design to\n                immersive narratives, our creations defy convention, challenging\n                the boundaries of form and function.\n              </p>\n              <p>\n                Propelled by data, intuition, and creativity, we build\n                ecosystems where the digital and physical seamlessly converge.\n                Our work isn't just visual—it's visceral, experiential, and\n                profoundly transformative.\n              </p>\n            </div>\n            <div class=\"img\"><img src=\"/assets/img2.jpg\" alt=\"\" /></div>\n          </div>\n\n          <h1>Future Architectonics</h1>\n        </section>\n\n        <!-- 5 -->\n        <section class=\"banner-img\">\n          <img src=\"/assets/img3.jpg\" alt=\"\" />\n        </section>\n\n        <!-- 6 -->\n        <section class=\"story\">\n          <h1>Digital Alchemy</h1>\n          <h1>Neoteric Identities</h1>\n          <h1>Cinematic Realities</h1>\n          <h1>Symphonics</h1>\n        </section>\n\n        <!-- 7 -->\n        <section class=\"concept-img\">\n          <img src=\"/assets/img4.jpg\" alt=\"\" />\n        </section>\n\n        <!-- 8 -->\n        <section class=\"outro\">\n          <h1>horizons.com</h1>\n        </section>\n      </div>\n    </div>\n    <script src=\"/script.js\"></script>\n  </body>\n</html>\n",
      "package.json": "{\n  \"name\": \"infinite-horizontal-scroll-mukta\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"dev\": \"vite\",\n    \"build\": \"vite build\",\n    \"host\": \"vite --host\"\n  },\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"vite\": \"^6.2.0\"\n  }\n}\n",
      "script.js": "document.addEventListener(\"DOMContentLoaded\", () => {\n  const container = document.querySelector(\".container\");\n  const scroller = document.querySelector(\".scroller\");\n  const progressCounter = document.querySelector(\".progress-counter h1\");\n  const progressBar = document.querySelector(\".progress-bar\");\n  const sections = Array.from(scroller.querySelectorAll(\"section\"));\n\n  const smoothFactor = 0.05;\n  const touchSensitivity = 2.5;\n  const bufferSize = 2;\n\n  let targetScrollX = 0;\n  let currentScrollX = 0;\n  let isAnimating = false;\n  let currentProgressScale = 0;\n  let targetProgressScale = 0;\n  let lastPercentage = 0;\n\n  let isDown = false;\n  let lastTouchX = 0;\n  let touchVelocity = 0;\n  let lastTouchTime = 0;\n\n  const lerp = (start, end, factor) => start + (end - start) * factor;\n\n  const setupScroll = () => {\n    scroller\n      .querySelectorAll(\".clone-section\")\n      .forEach((clone) => clone.remove());\n\n    const originalSections = Array.from(\n      scroller.querySelectorAll(\"section:not(.clone-section)\")\n    );\n    const templateSections =\n      originalSections.length > 0 ? originalSections : sections;\n\n    let sequenceWidth = 0;\n    templateSections.forEach((section) => {\n      sequenceWidth += parseFloat(window.getComputedStyle(section).width);\n    });\n\n    for (let i = -bufferSize; i < 0; i++) {\n      templateSections.forEach((section, index) => {\n        const clone = section.cloneNode(true);\n        clone.classList.add(\"clone-section\");\n        clone.setAttribute(\"data-clone-index\", `${i}-${index}`);\n        scroller.appendChild(clone);\n      });\n    }\n\n    if (originalSections.length === 0) {\n      templateSections.forEach((section, index) => {\n        const clone = section.cloneNode(true);\n        clone.setAttribute(\"data-clone-index\", `0-${index}`);\n        scroller.appendChild(clone);\n      });\n    }\n\n    for (let i = 1; i <= bufferSize; i++) {\n      templateSections.forEach((section, index) => {\n        const clone = section.cloneNode(true);\n        clone.classList.add(\"clone-section\");\n        clone.setAttribute(\"data-clone-index\", `${i}-${index}`);\n        scroller.appendChild(clone);\n      });\n    }\n\n    scroller.style.width = `${sequenceWidth * (1 + bufferSize * 2)}px`;\n    targetScrollX = sequenceWidth * bufferSize;\n    currentScrollX = targetScrollX;\n    scroller.style.transform = `translateX(-${currentScrollX}px)`;\n\n    return sequenceWidth;\n  };\n\n  const checkBoundaryAndReset = (sequenceWidth) => {\n    if (currentScrollX > sequenceWidth * (bufferSize + 0.5)) {\n      targetScrollX -= sequenceWidth;\n      currentScrollX -= sequenceWidth;\n      scroller.style.transform = `translateX(-${currentScrollX}px)`;\n      return true;\n    }\n\n    if (currentScrollX < sequenceWidth * (bufferSize - 0.5)) {\n      targetScrollX += sequenceWidth;\n      currentScrollX += sequenceWidth;\n      scroller.style.transform = `translateX(-${currentScrollX}px)`;\n      return true;\n    }\n\n    return false;\n  };\n\n  const updateProgress = (sequenceWidth, forceReset = false) => {\n    const basePosition = sequenceWidth * bufferSize;\n    const currentPosition = (currentScrollX - basePosition) % sequenceWidth;\n    let percentage = (currentPosition / sequenceWidth) * 100;\n\n    if (percentage < 0) {\n      percentage = 100 + percentage;\n    }\n\n    const isWrapping =\n      (lastPercentage > 80 && percentage < 20) ||\n      (lastPercentage < 20 && percentage > 80) ||\n      forceReset;\n\n    progressCounter.textContent = `${Math.round(percentage)}`;\n    targetProgressScale = percentage / 100;\n\n    if (isWrapping) {\n      currentProgressScale = targetProgressScale;\n      progressBar.style.transform = `scaleX(${currentProgressScale})`;\n    }\n\n    lastPercentage = percentage;\n  };\n\n  const animate = (sequenceWidth, forceProgressReset = false) => {\n    currentScrollX = lerp(currentScrollX, targetScrollX, smoothFactor);\n    scroller.style.transform = `translateX(-${currentScrollX}px)`;\n\n    updateProgress(sequenceWidth, forceProgressReset);\n\n    if (!forceProgressReset) {\n      currentProgressScale = lerp(\n        currentProgressScale,\n        targetProgressScale,\n        smoothFactor\n      );\n      progressBar.style.transform = `scaleX(${currentProgressScale})`;\n    }\n\n    if (Math.abs(targetScrollX - currentScrollX) < 0.01) {\n      isAnimating = false;\n    } else {\n      requestAnimationFrame(() => animate(sequenceWidth));\n    }\n  };\n\n  const sequenceWidth = setupScroll();\n  updateProgress(sequenceWidth, true);\n  progressBar.style.transform = `scaleX(${currentProgressScale})`;\n\n  container.addEventListener(\n    \"wheel\",\n    (e) => {\n      e.preventDefault();\n      targetScrollX += e.deltaY;\n\n      const needsReset = checkBoundaryAndReset(sequenceWidth);\n\n      if (!isAnimating) {\n        isAnimating = true;\n        requestAnimationFrame(() => animate(sequenceWidth, needsReset));\n      }\n    },\n    { passive: false }\n  );\n\n  container.addEventListener(\"touchstart\", (e) => {\n    isDown = true;\n    lastTouchX = e.touches[0].clientX;\n    lastTouchTime = Date.now();\n    targetScrollX = currentScrollX;\n  });\n\n  container.addEventListener(\"touchmove\", (e) => {\n    if (!isDown) return;\n    e.preventDefault();\n\n    const currentTouchX = e.touches[0].clientX;\n    const touchDelta = lastTouchX - currentTouchX;\n\n    targetScrollX += touchDelta * touchSensitivity;\n\n    const currentTime = Date.now();\n    const timeDelta = currentTime - lastTouchTime;\n    if (timeDelta > 0) {\n      touchVelocity = (touchDelta / timeDelta) * 15;\n    }\n\n    lastTouchX = currentTouchX;\n    lastTouchTime = currentTime;\n\n    const needsReset = checkBoundaryAndReset(sequenceWidth);\n    if (!isAnimating) {\n      isAnimating = true;\n      requestAnimationFrame(() => animate(sequenceWidth, needsReset));\n    }\n  });\n\n  container.addEventListener(\"touchend\", () => {\n    isDown = false;\n\n    if (Math.abs(touchVelocity) > 0.1) {\n      targetScrollX += touchVelocity * 20;\n\n      const decayVelocity = () => {\n        touchVelocity *= 0.95;\n\n        if (Math.abs(touchVelocity) > 0.1) {\n          targetScrollX += touchVelocity;\n          const needsReset = checkBoundaryAndReset(sequenceWidth);\n\n          if (needsReset) {\n            updateProgress(sequenceWidth, true);\n          }\n\n          requestAnimationFrame(decayVelocity);\n        }\n      };\n\n      requestAnimationFrame(decayVelocity);\n    }\n  });\n});\n",
      "styles.css": "* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  user-select: none;\n}\n\nh1 {\n  font-family: \"Druk Condensed\";\n  font-size: 15vw;\n  font-weight: lighter;\n  text-transform: uppercase;\n  line-height: 0.8;\n  padding-top: 0.2em;\n}\n\nh2 {\n  font-family: \"Saans TRIAL\";\n  font-size: 30px;\n  font-weight: 700;\n}\n\np {\n  font-family: \"Saans TRIAL\";\n  font-size: 15px;\n  font-weight: 500;\n}\n\nimg {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.container {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100svh;\n  overflow: hidden;\n}\n\n.progress-bar {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 10px;\n  transform: scaleX(0%);\n  transform-origin: center left;\n  background-color: #fff;\n  will-change: transform;\n  z-index: 2;\n}\n\n.progress-counter {\n  position: fixed;\n  bottom: 1em;\n  right: 2.5em;\n  color: #fff;\n  z-index: 2;\n}\n\n.scroller {\n  position: relative;\n  width: 700vw;\n  height: 100svh;\n  display: flex;\n  will-change: transform;\n  transform: translateX(0);\n}\n\nsection {\n  position: relative;\n  height: 100svh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.intro,\n.hero-img,\n.about,\n.banner-img,\n.story,\n.outro {\n  width: 75vw;\n}\n\n.header,\n.concept-img {\n  width: 100vw;\n}\n\n.intro,\n.header {\n  padding: 2em;\n  background-color: #000;\n  color: #fff;\n}\n\n.about {\n  padding: 4em 3em 1em 2em;\n  background-color: #eb001b;\n  color: #fff;\n}\n\n.story {\n  padding: 4em 2em 2em 2em;\n  background-color: #f69e1c;\n}\n\n.outro {\n  background-color: #fe5e00;\n}\n\n.about,\n.intro,\n.header,\n.story {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n}\n\n.intro,\n.about,\n.story {\n  flex-direction: column;\n}\n\n.header h1 {\n  font-size: 15.75vw;\n}\n\n.story h1 {\n  padding-top: 0;\n}\n\n.about .row {\n  display: flex;\n  justify-content: space-between;\n}\n\n.about .row p {\n  width: 50%;\n  margin-bottom: 1em;\n}\n\n.about .row .copy {\n  flex: 3;\n}\n\n.about .row .img {\n  flex: 2;\n  aspect-ratio: 7/5;\n}\n"
    }
  },
  {
    "title": "mukta-split-card-scroll-animation",
    "code": {
      "index.html": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>RedoMedia Split-Card Scroll Animation | mukta</title>\n    <link rel=\"stylesheet\" href=\"/styles.css\" />\n  </head>\n  <body>\n    <section class=\"intro\">\n      <h1>Every idea begins as a single image</h1>\n    </section>\n\n    <section class=\"sticky\">\n      <div class=\"sticky-header\">\n        <h1>Three pillars with one purpose</h1>\n      </div>\n\n      <div class=\"card-container\">\n        <div class=\"card\" id=\"card-1\">\n          <div class=\"card-front\">\n            <img src=\"/card_cover_1.jpg\" alt=\"\" />\n          </div>\n          <div class=\"card-back\">\n            <span>( 01 )</span>\n            <p>Interactive Web Experiences</p>\n          </div>\n        </div>\n\n        <div class=\"card\" id=\"card-2\">\n          <div class=\"card-front\">\n            <img src=\"/card_cover_2.jpg\" alt=\"\" />\n          </div>\n          <div class=\"card-back\">\n            <span>( 02 )</span>\n            <p>Thoughtful Design Language</p>\n          </div>\n        </div>\n\n        <div class=\"card\" id=\"card-3\">\n          <div class=\"card-front\">\n            <img src=\"/card_cover_3.jpg\" alt=\"\" />\n          </div>\n          <div class=\"card-back\">\n            <span>( 03 )</span>\n            <p>Visual Design Systems</p>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <section class=\"outro\">\n      <h1>Every transition leaves a trace</h1>\n    </section>\n\n    <script type=\"module\" src=\"/script.js\"></script>\n  </body>\n</html>\n",
      "package.json": "{\n  \"name\": \"mukta-split-card-scroll-animation\",\n  \"version\": \"1.0.0\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"dev\": \"vite\"\n  },\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"description\": \"\",\n  \"dependencies\": {\n    \"gsap\": \"^3.13.0\",\n    \"lenis\": \"^1.3.11\",\n    \"vite\": \"^7.1.12\"\n  }\n}\n",
      "script.js": "import gsap from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport Lenis from \"lenis\";\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  gsap.registerPlugin(ScrollTrigger);\n\n  const lenis = new Lenis();\n  lenis.on(\"scroll\", ScrollTrigger.update);\n  gsap.ticker.add((time) => {\n    lenis.raf(time * 1000);\n  });\n  gsap.ticker.lagSmoothing(0);\n\n  const cardContainer = document.querySelector(\".card-container\");\n  const stickyHeader = document.querySelector(\".sticky-header h1\");\n  let isGapAnimationCompleted = false;\n  let isFlipAnimationCompleted = false;\n\n  function initAnimations() {\n    ScrollTrigger.getAll().forEach((trigger) => trigger.kill());\n\n    const mm = gsap.matchMedia();\n\n    mm.add(\"(max-width: 999px)\", () => {\n      document\n        .querySelectorAll(\".card, .card-container, .sticky-header h1\")\n        .forEach((el) => (el.style = \"\"));\n      return {};\n    });\n\n    mm.add(\"(min-width: 1000px)\", () => {\n      ScrollTrigger.create({\n        trigger: \".sticky\",\n        start: \"top top\",\n        end: `+=${window.innerHeight * 4}px`,\n        scrub: 1,\n        pin: true,\n        pinSpacing: true,\n        onUpdate: (self) => {\n          const progress = self.progress;\n\n          if (progress >= 0.1 && progress <= 0.25) {\n            const headerProgress = gsap.utils.mapRange(\n              0.1,\n              0.25,\n              0,\n              1,\n              progress\n            );\n            const yValue = gsap.utils.mapRange(0, 1, 40, 0, headerProgress);\n            const opacityValue = gsap.utils.mapRange(\n              0,\n              1,\n              0,\n              1,\n              headerProgress\n            );\n\n            gsap.set(stickyHeader, {\n              y: yValue,\n              opacity: opacityValue,\n            });\n          } else if (progress < 0.1) {\n            gsap.set(stickyHeader, {\n              y: 40,\n              opacity: 0,\n            });\n          } else if (progress > 0.25) {\n            gsap.set(stickyHeader, {\n              y: 0,\n              opacity: 1,\n            });\n          }\n\n          if (progress <= 0.25) {\n            const widthPercentage = gsap.utils.mapRange(\n              0,\n              0.25,\n              75,\n              60,\n              progress\n            );\n            gsap.set(cardContainer, { width: `${widthPercentage}%` });\n          } else {\n            gsap.set(cardContainer, { width: \"60%\" });\n          }\n\n          if (progress >= 0.35 && !isGapAnimationCompleted) {\n            gsap.to(cardContainer, {\n              gap: \"20px\",\n              duration: 0.5,\n              ease: \"power3.out\",\n            });\n\n            gsap.to([\"#card-1\", \"#card-2\", \"#card-3\"], {\n              borderRadius: \"20px\",\n              duration: 0.5,\n              ease: \"power3.out\",\n            });\n\n            isGapAnimationCompleted = true;\n          } else if (progress < 0.35 && isGapAnimationCompleted) {\n            gsap.to(cardContainer, {\n              gap: \"0px\",\n              duration: 0.5,\n              ease: \"power3.out\",\n            });\n\n            gsap.to(\"#card-1\", {\n              borderRadius: \"20px 0 0 20px\",\n              duration: 0.5,\n              ease: \"power3.out\",\n            });\n\n            gsap.to(\"#card-2\", {\n              borderRadius: \"0px\",\n              duration: 0.5,\n              ease: \"power3.out\",\n            });\n\n            gsap.to(\"#card-3\", {\n              borderRadius: \"0 20px 20px 0\",\n              duration: 0.5,\n              ease: \"power3.out\",\n            });\n\n            isGapAnimationCompleted = false;\n          }\n\n          if (progress >= 0.7 && !isFlipAnimationCompleted) {\n            gsap.to(\".card\", {\n              rotationY: 180,\n              duration: 0.75,\n              ease: \"power3.inOut\",\n              stagger: 0.1,\n            });\n\n            gsap.to([\"#card-1\", \"#card-3\"], {\n              y: 30,\n              rotationZ: (i) => [-15, 15][i],\n              duration: 0.75,\n              ease: \"power3.inOut\",\n            });\n\n            isFlipAnimationCompleted = true;\n          } else if (progress < 0.7 && isFlipAnimationCompleted) {\n            gsap.to(\".card\", {\n              rotationY: 0,\n              duration: 0.75,\n              ease: \"power3.inOut\",\n              stagger: -0.1,\n            });\n\n            gsap.to([\"#card-1\", \"#card-3\"], {\n              y: 0,\n              rotationZ: 0,\n              duration: 0.75,\n              ease: \"power3.inOut\",\n            });\n\n            isFlipAnimationCompleted = false;\n          }\n        },\n      });\n      return () => {};\n    });\n  }\n\n  initAnimations();\n\n  let resizeTimer;\n  window.addEventListener(\"resize\", () => {\n    clearTimeout(resizeTimer);\n    resizeTimer = setTimeout(() => {\n      initAnimations();\n    }, 250);\n  });\n});\n",
      "styles.css": "@import url(\"https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&display=swap\");\n\n:root {\n  --bg: #0f0f0f;\n  --fg: #fff;\n  --card-1: #b2b2b2;\n  --card-2: #ce2017;\n  --card-3: #2f2f2f;\n}\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: \"Instrument Serif\", sans-serif;\n}\n\nimg {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\nh1 {\n  font-size: 4rem;\n  font-weight: 500;\n  line-height: 1;\n}\n\np {\n  font-size: 2rem;\n  font-weight: 500;\n  line-height: 1;\n}\n\nsection {\n  position: relative;\n  width: 100%;\n  height: 100svh;\n  padding: 2rem;\n  background-color: var(--bg);\n  color: var(--fg);\n}\n\n.intro,\n.outro {\n  text-align: center;\n  align-content: center;\n}\n\n.intro h1,\n.outro h1 {\n  width: 30%;\n  margin: 0 auto;\n}\n\n.sticky {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.sticky-header {\n  position: absolute;\n  top: 20%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.sticky-header h1 {\n  position: relative;\n  text-align: center;\n  will-change: transform, opacity;\n  transform: translateY(40px);\n  opacity: 0;\n}\n\n.card-container {\n  position: relative;\n  width: 75%;\n  display: flex;\n  perspective: 1000px;\n  transform: translateY(40px);\n  will-change: width;\n}\n\n.card {\n  position: relative;\n  flex: 1;\n  aspect-ratio: 5/7;\n  transform-style: preserve-3d;\n  transform-origin: top;\n}\n\n#card-1 {\n  border-radius: 20px 0 0 20px;\n}\n\n#card-3 {\n  border-radius: 0 20px 20px 0;\n}\n\n.card-front,\n.card-back {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  backface-visibility: hidden;\n  border-radius: inherit;\n  overflow: hidden;\n}\n\n.card-back {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  transform: rotateY(180deg);\n  padding: 2rem;\n}\n\n.card-back span {\n  position: absolute;\n  top: 2rem;\n  left: 2rem;\n  opacity: 0.4;\n}\n\n#card-1 .card-back {\n  background-color: var(--card-1);\n  color: var(--bg);\n}\n\n#card-2 .card-back {\n  background-color: var(--card-2);\n}\n\n#card-3 .card-back {\n  background-color: var(--card-3);\n}\n\n@media (max-width: 1000px) {\n  h1 {\n    font-size: 3rem;\n  }\n\n  .intro h1,\n  .outro h1 {\n    width: 100%;\n  }\n\n  .sticky {\n    height: max-content;\n    padding: 4rem 2rem;\n    flex-direction: column;\n  }\n\n  .sticky-header {\n    position: relative;\n    top: 0;\n    left: 0;\n    transform: none;\n    margin-bottom: 4rem;\n  }\n\n  .sticky-header h1 {\n    opacity: 1;\n  }\n\n  .card-container {\n    width: 100%;\n    flex-direction: column;\n    gap: 2rem;\n  }\n\n  .card {\n    width: 100%;\n    max-width: 400px;\n    margin: 0 auto;\n    border-radius: 20px !important;\n  }\n\n  #card-1,\n  #card-2,\n  #card-3,\n  .card-back {\n    transform: none;\n  }\n}\n"
    }
  }
]