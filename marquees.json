[
  {
    "title": "css-marquee",
    "code": "Documentation\n\nStep 1: Add HTML\n\n<div data-css-marquee=\"\" class=\"marquee-css\">\n  <div data-css-marquee-list=\"\" class=\"marquee-css__list\">\n    <div class=\"marquee-css__item\">\n      <p class=\"marquee-css__item-p\">CSS Marqueep>\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 50 50\" fill=\"none\" class=\"marquee-css__item-svg\"><path d=\"M17.6777 32.3223C12.9893 27.6339 6.63041 25 0 25C6.63041 25 12.9893 22.3661 17.6777 17.6777C22.3661 12.9893 25 6.63041 25 0C25 6.63041 27.6339 12.9893 32.3223 17.6777C37.0107 22.3661 43.3696 25 50 25C43.3696 25 37.0107 27.6339 32.3223 32.3223C27.6339 37.0107 25 43.3696 25 50C25 43.3696 22.3661 37.0107 17.6777 32.3223Z\" fill=\"#C9FC7D\">path>svg>\n    div>\n    <div class=\"marquee-css__item\">\n      <p class=\"marquee-css__item-p\">CSS Marqueep>\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 50 50\" fill=\"none\" class=\"marquee-css__item-svg\"><path d=\"M17.6777 32.3223C12.9893 27.6339 6.63041 25 0 25C6.63041 25 12.9893 22.3661 17.6777 17.6777C22.3661 12.9893 25 6.63041 25 0C25 6.63041 27.6339 12.9893 32.3223 17.6777C37.0107 22.3661 43.3696 25 50 25C43.3696 25 37.0107 27.6339 32.3223 32.3223C27.6339 37.0107 25 43.3696 25 50C25 43.3696 22.3661 37.0107 17.6777 32.3223Z\" fill=\"#C9FC7D\">path>svg>\n    div>\n    <div class=\"marquee-css__item\">\n      <p class=\"marquee-css__item-p\">CSS Marqueep>\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 50 50\" fill=\"none\" class=\"marquee-css__item-svg\"><path d=\"M17.6777 32.3223C12.9893 27.6339 6.63041 25 0 25C6.63041 25 12.9893 22.3661 17.6777 17.6777C22.3661 12.9893 25 6.63041 25 0C25 6.63041 27.6339 12.9893 32.3223 17.6777C37.0107 22.3661 43.3696 25 50 25C43.3696 25 37.0107 27.6339 32.3223 32.3223C27.6339 37.0107 25 43.3696 25 50C25 43.3696 22.3661 37.0107 17.6777 32.3223Z\" fill=\"#C9FC7D\">path>svg>\n    div>\n    <div class=\"marquee-css__item\">\n      <p class=\"marquee-css__item-p\">CSS Marqueep>\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewbox=\"0 0 50 50\" fill=\"none\" class=\"marquee-css__item-svg\"><path d=\"M17.6777 32.3223C12.9893 27.6339 6.63041 25 0 25C6.63041 25 12.9893 22.3661 17.6777 17.6777C22.3661 12.9893 25 6.63041 25 0C25 6.63041 27.6339 12.9893 32.3223 17.6777C37.0107 22.3661 43.3696 25 50 25C43.3696 25 37.0107 27.6339 32.3223 32.3223C27.6339 37.0107 25 43.3696 25 50C25 43.3696 22.3661 37.0107 17.6777 32.3223Z\" fill=\"#C9FC7D\">path>svg>\n    div>  \n  div>\ndiv>\n\nStep 2: Add CSS\n\n.marquee-css {\n  color: #efeeec;\n  background-color: #000;\n  width: 100%;\n  max-width: 42em;\n  display: flex;\n  position: relative;\n  overflow: hidden;\n}\n\n.marquee-css__list {\n  flex: none;\n  align-items: center;\n  display: flex;\n  position: relative;\n}\n\n.marquee-css__item {\n  grid-column-gap: 1em;\n  grid-row-gap: 1em;\n  flex: 0;\n  align-items: center;\n  padding-top: 1em;\n  padding-bottom: 1em;\n  padding-right: 1em;\n  display: flex;\n}\n\n.marquee-css__item-p {\n  white-space: nowrap;\n  margin-bottom: 0;\n  font-size: 1.5em;\n  line-height: 1;\n}\n\n.marquee-css__item-svg {\n  width: 1em;\n}\n\n/* CSS Keyframe Animation */\n@keyframes translateX { \n\tto {\n    transform: translateX(-100%);\n  }\n}\n\n[data-css-marquee-list] {\n  animation: translateX 30s linear;\n  animation-iteration-count: infinite;\n  animation-play-state: paused;\n}\n\nStep 2: Add custom Javascript\n\n// Note: The Javascript is optional. Read the documentation below how to use the CSS Only version.\n\nfunction initCSSMarquee() {\n  const pixelsPerSecond = 75; // Set the marquee speed (pixels per second)\n  const marquees = document.querySelectorAll('[data-css-marquee]');\n  \n  // Duplicate each [data-css-marquee-list] element inside its container\n  marquees.forEach(marquee => {\n    marquee.querySelectorAll('[data-css-marquee-list]').forEach(list => {\n      const duplicate = list.cloneNode(true);\n      marquee.appendChild(duplicate);\n    });\n  });\n\n  // Create an IntersectionObserver to check if the marquee container is in view\n  const observer = new IntersectionObserver(entries => {\n    entries.forEach(entry => {\n      entry.target.querySelectorAll('[data-css-marquee-list]').forEach(list => \n        list.style.animationPlayState = entry.isIntersecting ? 'running' : 'paused'\n      );\n    });\n  }, { threshold: 0 });\n  \n  // Calculate the width and set the animation duration accordingly\n  marquees.forEach(marquee => {\n    marquee.querySelectorAll('[data-css-marquee-list]').forEach(list => {\n      list.style.animationDuration = (list.offsetWidth / pixelsPerSecond) + 's';\n      list.style.animationPlayState = 'paused';\n    });\n    observer.observe(marquee);\n  });\n}\n\n// Initialize CSS Marquee\ndocument.addEventListener('DOMContentLoaded', function() {\n  initCSSMarquee();\n});\n\nImplementation\n\nAttributes\nThe marquee is targeted via the attribute [data-css-marquee]. The part that is moving on the X axis is targeted by the attribute [data-css-marquee-list].\n\nSpeed\n\nThe speed of the marquee can be changed in the JavaScript by changing the const pixelPerSecond = 75; variable. Make it higher to go faster.\n\nFunctions of the script\n- The CSS animation will be paused when out of view. \n-  The width of the [data-css-marquee-list] element is used to calculate the animation duration.\n- The [data-css-marquee-list] is duplicated to create the looping effect.\n\nCSS Only version\nNote: For the CSS Only version you don't need the javascript part of this resource. This removes the automatically speed calculation, duplication of the list and the in-view observer.\n- Step 1: Duplicate the [data-css-marquee-list].\n- Step 2: Fine-tune the animation: translateX 30s linear; speed to match the desired result.\n- Step 3: Remove the line animation-play-state: paused; from the CSS.\n/* CSS Keyframe Animation */\n@keyframes translateX { \n  to {\n    transform: translateX(-100%);\n  }\n}\n\n[data-css-marquee-list] {\n  animation: translateX 30s linear; /* Tweak this number in seconds */\n  animation-iteration-count: infinite;\n  /* Removed: animation-play-state: paused; */\n}",
    "id": "css-marquee"
  },
  {
    "title": "marquee-with-scroll-direction",
    "code": "Documentation\n\nSetup: External Scripts\n\n<script src=\"https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js\">script>\n<script src=\"https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js\">script>\n\nStep 1: Add HTML\n\n<section class=\"section-resource\">\n  \n  <div data-marquee-duplicate=\"2\" data-marquee-scroll-direction-target=\"\" data-marquee-direction=\"left\" data-marquee-status=\"normal\" data-marquee-speed=\"15\" data-marquee-scroll-speed=\"10\" class=\"marquee-advanced\">\n    <div data-marquee-scroll-target=\"\" class=\"marquee-advanced__scroll\">\n      <div data-marquee-collection-target=\"\" class=\"marquee-advanced__collection\">\n        <div class=\"marquee-advanced__item\">\n          <p class=\"marquee__advanced__p\">Marquee w/ Scroll Direction -p>\n        div>\n      div>\n    div>\n  div>\n  \n  <div data-marquee-duplicate=\"2\" data-marquee-scroll-direction-target=\"\" data-marquee-direction=\"right\" data-marquee-status=\"normal\" data-marquee-speed=\"15\" data-marquee-scroll-speed=\"10\" class=\"marquee-advanced\">\n    <div data-marquee-scroll-target=\"\" class=\"marquee-advanced__scroll\">\n      <div data-marquee-collection-target=\"\" class=\"marquee-advanced__collection\">\n        <div class=\"marquee-advanced__item-width\">div>\n        <div class=\"marquee-advanced__item-width\">div>\n        <div class=\"marquee-advanced__item-width\">div>\n        <div class=\"marquee-advanced__item-width\">div>\n        <div class=\"marquee-advanced__item-width\">div>\n      div>\n    div>\n  div>\nsection>\n\nStep 2: Add CSS\n\n.section-resource {\n  flex-flow: column;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  display: flex;\n}\n\n.marquee-advanced {\n  width: 100vw;\n  position: relative;\n  overflow: hidden;\n}\n\n.marquee-advanced__scroll {\n  will-change: transform;\n  width: 100%;\n  display: flex;\n  position: relative;\n}\n\n.marquee-advanced__collection {\n  will-change: transform;\n  display: flex;\n  position: relative;\n}\n\n.marquee-advanced__item {\n  justify-content: flex-start;\n  align-items: center;\n  font-size: max(4em, 8vw);\n  display: flex;\n}\n\n.marquee__advanced__p {\n  white-space: nowrap;\n  margin-bottom: 0;\n  margin-right: .25em;\n  font-size: 1em;\n}\n\n.marquee__advanced__arrow-svg {\n  color: #ff4c24;\n  width: 1em;\n  margin-right: .25em;\n  position: relative;\n}\n\n.marquee-advanced__item-width {\n  background-color: #131313;\n  border-radius: 1vw;\n  justify-content: center;\n  align-items: center;\n  width: 18vw;\n  height: 18vw;\n  margin: 1vw;\n  display: flex;\n}\n\n\n/* Optional: Rotating arrow left/right based on Scroll Direction */\n\n.marquee__advanced__arrow-svg,\n[data-marquee-direction=\"right\"][data-marquee-status=\"inverted\"] .marquee__advanced__arrow-svg {\n  transition: 0.5s cubic-bezier(0.625, 0.05, 0, 1);\n  transform: rotate(-180deg);\n}\n\n[data-marquee-status=\"inverted\"] .marquee__advanced__arrow-svg,\n[data-marquee-direction=\"right\"][data-marquee-status=\"normal\"] .marquee__advanced__arrow-svg {\n  transform: rotate(-359.999deg);\n}\n\nStep 2: Add custom Javascript\n\nfunction initMarqueeScrollDirection() {\n  document.querySelectorAll('[data-marquee-scroll-direction-target]').forEach((marquee) => {\n    // Query marquee elements\n    const marqueeContent = marquee.querySelector('[data-marquee-collection-target]');\n    const marqueeScroll = marquee.querySelector('[data-marquee-scroll-target]');\n    if (!marqueeContent || !marqueeScroll) return;\n\n    // Get data attributes\n    const { marqueeSpeed: speed, marqueeDirection: direction, marqueeDuplicate: duplicate, marqueeScrollSpeed: scrollSpeed } = marquee.dataset;\n\n    // Convert data attributes to usable types\n    const marqueeSpeedAttr = parseFloat(speed);\n    const marqueeDirectionAttr = direction === 'right' ? 1 : -1; // 1 for right, -1 for left\n    const duplicateAmount = parseInt(duplicate || 0);\n    const scrollSpeedAttr = parseFloat(scrollSpeed);\n    const speedMultiplier = window.innerWidth < 479 ? 0.25 : window.innerWidth < 991 ? 0.5 : 1;\n\n    let marqueeSpeed = marqueeSpeedAttr * (marqueeContent.offsetWidth / window.innerWidth) * speedMultiplier;\n\n    // Precompute styles for the scroll container\n    marqueeScroll.style.marginLeft = `${scrollSpeedAttr * -1}%`;\n    marqueeScroll.style.width = `${(scrollSpeedAttr * 2) + 100}%`;\n\n    // Duplicate marquee content\n    if (duplicateAmount > 0) {\n      const fragment = document.createDocumentFragment();\n      for (let i = 0; i < duplicateAmount; i++) {\n        fragment.appendChild(marqueeContent.cloneNode(true));\n      }\n      marqueeScroll.appendChild(fragment);\n    }\n\n    // GSAP animation for marquee content\n    const marqueeItems = marquee.querySelectorAll('[data-marquee-collection-target]');\n    const animation = gsap.to(marqueeItems, {\n      xPercent: -100, // Move completely out of view\n      repeat: -1,\n      duration: marqueeSpeed,\n      ease: 'linear'\n    }).totalProgress(0.5);\n\n    // Initialize marquee in the correct direction\n    gsap.set(marqueeItems, { xPercent: marqueeDirectionAttr === 1 ? 100 : -100 });\n    animation.timeScale(marqueeDirectionAttr); // Set correct direction\n    animation.play(); // Start animation immediately\n\n    // Set initial marquee status\n    marquee.setAttribute('data-marquee-status', 'normal');\n\n    // ScrollTrigger logic for direction inversion\n    ScrollTrigger.create({\n      trigger: marquee,\n      start: 'top bottom',\n      end: 'bottom top',\n      onUpdate: (self) => {\n        const isInverted = self.direction === 1; // Scrolling down\n        const currentDirection = isInverted ? -marqueeDirectionAttr : marqueeDirectionAttr;\n\n        // Update animation direction and marquee status\n        animation.timeScale(currentDirection);\n        marquee.setAttribute('data-marquee-status', isInverted ? 'normal' : 'inverted');\n      }\n    });\n\n    // Extra speed effect on scroll\n    const tl = gsap.timeline({\n      scrollTrigger: {\n        trigger: marquee,\n        start: '0% 100%',\n        end: '100% 0%',\n        scrub: 0\n      }\n    });\n\n    const scrollStart = marqueeDirectionAttr === -1 ? scrollSpeedAttr : -scrollSpeedAttr;\n    const scrollEnd = -scrollStart;\n\n    tl.fromTo(marqueeScroll, { x: `${scrollStart}vw` }, { x: `${scrollEnd}vw`, ease: 'none' });\n  });\n}\n\n// Initialize Marquee with Scroll Direction\ndocument.addEventListener('DOMContentLoaded', () => {\n  initMarqueeScrollDirection();\n});\n\nImplementation\n\nMarquee Direction\nYou can set the direction adding left/right to the [data-marquee-direction=\"left\"] attribute.\n\nMarquee Speed\nYou can change the speed of the marquee by setting the [data-marquee-speed=\"15\"] attribute. The lower the number, the faster it moves.\n\nMarquee Scroll Speed\nThe speed at which the marquee accelerates during scrolling can be adjusted by modifying the [data-marquee-scroll-speed] attribute. The higher the number, the faster it accelerates.\n\nDuplicating content\nTo create a seamless loop, the marquee elements must be duplicated at least once to fill the entire row. You can also use [data-marquee-duplicate=\"2\"] to generate three instances of the content. The higher the value, the more duplicates of your marquee content will be created.\n\nPlay/pause timeline\nWhen the Marquee is outside the window of the user the GSAP timeline will be paused. \n\nStyling based on the direction\nThe marquee’s direction can be tracked using the [data-marquee-status=\"normal\"] or [data-marquee-status=\"inverted\"] attribute.\n[data-marquee-direction=\"right\"][data-marquee-status=\"inverted\"] .element {\n  color: orange;\n}",
    "id": "marquee-with-scroll-direction"
  },
  {
    "title": "marquee animation on scroll js",
    "code": {
      "index.html": "<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset=\"UTF-8\" />\n    <title>Marquee animation on scroll | mukta</title>\n    <link rel=\"stylesheet\" href=\"styles.css\" />\n  </head>\n  <body>\n    <section class=\"spacer\"></section>\n\n    <section class=\"marquee\">\n      <div class=\"marquee__inner\">\n        <div class=\"marquee__part\">\n          modern creative studio\n          <div class=\"arrow\">\n            <img src=\"./assets/arrow.svg\" alt=\"\" />\n          </div>\n        </div>\n        <div class=\"marquee__part\">\n          modern creative studio\n          <div class=\"arrow\">\n            <img src=\"./assets/arrow.svg\" alt=\"\" />\n          </div>\n        </div>\n        <div class=\"marquee__part\">\n          modern creative studio\n          <div class=\"arrow\">\n            <img src=\"./assets/arrow.svg\" alt=\"\" />\n          </div>\n        </div>\n        <div class=\"marquee__part\">\n          modern creative studio\n          <div class=\"arrow\">\n            <img src=\"./assets/arrow.svg\" alt=\"\" />\n          </div>\n        </div>\n        <div class=\"marquee__part\">\n          modern creative studio\n          <div class=\"arrow\">\n            <img src=\"./assets/arrow.svg\" alt=\"\" />\n          </div>\n        </div>\n        <div class=\"marquee__part\">\n          modern creative studio\n          <div class=\"arrow\">\n            <img src=\"./assets/arrow.svg\" alt=\"\" />\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <section class=\"spacer\"></section>\n\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js\"></script>\n    <script>\n      let currentScroll = 0;\n      let isScrollingDown = true;\n      let arrows = document.querySelectorAll(\".arrow\");\n\n      let tween = gsap\n        .to(\".marquee__part\", {\n          xPercent: -100,\n          repeat: -1,\n          duration: 5,\n          ease: \"linear\",\n        })\n        .totalProgress(0.5);\n\n      gsap.set(\".marquee__inner\", { xPercent: -50 });\n\n      window.addEventListener(\"scroll\", function () {\n        if (window.pageYOffset > currentScroll) {\n          isScrollingDown = true;\n        } else {\n          isScrollingDown = false;\n        }\n\n        gsap.to(tween, {\n          timeScale: isScrollingDown ? 1 : -1,\n        });\n\n        arrows.forEach((arrow) => {\n          if (isScrollingDown) {\n            arrow.classList.remove(\"active\");\n          } else {\n            arrow.classList.add(\"active\");\n          }\n        });\n\n        currentScroll = window.pageYOffset;\n      });\n    </script>\n  </body>\n</html>\n",
      "styles.css": "* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  background: #a19f94;\n  font-family: \"PP Rader\";\n}\n\n.spacer {\n  height: 800px;\n}\n\n.marquee {\n  position: relative;\n  background: #0f0f0f;\n  color: #eee;\n  padding: 32px 0;\n  font-weight: 600;\n  font-size: 40px;\n  text-transform: uppercase;\n  overflow: hidden;\n}\n\n.marquee__inner {\n  display: flex;\n  width: fit-content;\n  flex: auto;\n  flex-direction: row;\n}\n\n.marquee__part {\n  display: flex;\n  align-items: center;\n  flex-shrink: 0;\n  padding: 0 4px;\n}\n\n.arrow {\n  width: 60px;\n  height: 80px;\n  margin: 0 1em;\n  transform: rotate(90deg);\n  transition: all 1s cubic-bezier(0.075, 0.82, 0.165, 1);\n}\n\n.arrow.active {\n  transform: rotate(-90deg);\n  transition: all 1s cubic-bezier(0.075, 0.82, 0.165, 1);\n}\n"
    }
  },
  {
    "title": "_",
    "description": "_",
    "code": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Radial Text Marquee</title>\n\n    <!-- Setup: External Scripts (GSAP) -->\n    <script src=\"https://cdn.jsdelivr.net/npm/gsap@3.14.1/dist/gsap.min.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/gsap@3.14.1/dist/ScrollTrigger.min.js\"></script>\n\n    <style>\n        /* Basic Page Reset */\n        body {\n            margin: 0;\n            padding: 0;\n            background-color: #111;\n            color: #fff;\n            font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif;\n            overflow-x: hidden;\n            height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n\n        /* \n           Step 1: Reconstructed Styles \n           The broken data contained: font-size: @raw<|clamp(4.5em, 10vw, 10em)|>;\n        */\n        \n        /* Container styling - needs overflow hidden per instructions */\n        .marquee-wrapper {\n            position: relative;\n            width: 100%;\n            height: 60vh; /* Give it space to arc */\n            display: flex;\n            align-items: flex-end; /* Aligns the arc to the bottom */\n            justify-content: center;\n            overflow: hidden; /* Critical for preventing scrollbars */\n            border-bottom: 1px solid #333;\n        }\n\n        /* Text styling */\n        .marquee-text {\n            /* Extracted from broken data */\n            font-size: clamp(4.5em, 10vw, 10em); \n            line-height: 1;\n            font-weight: 700;\n            user-select: none;\n            color: #ffffff;\n            text-transform: uppercase;\n            \n            /* Hidden initially to prevent flash of unstyled content before JS runs */\n            opacity: 0; \n        }\n    </style>\n</head>\n<body>\n\n    <!-- \n        Implementation Structure \n        Using attributes defined in the prompt:\n        - data-radial-text-marquee-init\n        - data-radial-text-marquee-radius (0-10)\n        - data-radial-text-marquee-speed\n        - data-radial-text-marquee-spacer\n        - data-radial-text-marquee-spacer-color\n    -->\n    <div class=\"marquee-wrapper\" \n         data-radial-text-marquee-init \n         data-radial-text-marquee-speed=\"5\" \n         data-radial-text-marquee-radius=\"9\" \n         data-radial-text-marquee-spacer=\"✦\" \n         data-radial-text-marquee-spacer-color=\"#ff4d4d\"\n         data-radial-text-marquee-spacer-padding=\"2\">\n        \n        <div class=\"marquee-text\" data-radial-text-marquee-text>\n            Broken Data Fixed\n        </div>\n    </div>\n<script>\n    // 1. Register ScrollTrigger\n    gsap.registerPlugin(ScrollTrigger);\n\n    function initRadialTextMarquee() {\n        const wraps = document.querySelectorAll('[data-radial-text-marquee-init]');\n        if (!wraps.length) return;\n\n        const ns = 'http://www.w3.org/2000/svg';\n        const xns = 'http://www.w3.org/1999/xlink';\n        const prm = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n        const isSafari = (() => {\n            const ua = navigator.userAgent;\n            return /Safari/i.test(ua) && !/Chrome|Chromium|Edg|OPR/i.test(ua);\n        })();\n\n        const clamp = (n, a, b) => Math.min(b, Math.max(a, Number(n) || 0));\n\n        const speedMul = () => {\n            const w = window.innerWidth || 2000;\n            const t = clamp((w - 250) / (2000 - 250), 0, 1);\n            return 0.5 + t * (1 - 0.5);\n        };\n\n        const lsToPx = (ls, fs) => {\n            if (!ls || ls === 'normal') return 0;\n            if (ls.endsWith('px')) return parseFloat(ls) || 0;\n            if (ls.endsWith('em')) return (parseFloat(ls) || 0) * fs;\n            if (ls.endsWith('rem')) {\n                const root = parseFloat(getComputedStyle(document.documentElement).fontSize) || 16;\n                return (parseFloat(ls) || 0) * root;\n            }\n            const n = parseFloat(ls);\n            return Number.isFinite(n) ? n : 0;\n        };\n\n        const syncType = (fromEl, svgText, svgTextPath) => {\n            const s = getComputedStyle(fromEl);\n            const fsPx = parseFloat(s.fontSize) || 16;\n            const lsPx = lsToPx(s.letterSpacing, fsPx);\n\n            svgText.setAttribute('font-family', s.fontFamily);\n            svgText.setAttribute('font-size', s.fontSize);\n            svgText.setAttribute('font-weight', s.fontWeight);\n            svgText.setAttribute('dominant-baseline', 'alphabetic');\n            svgText.setAttribute('text-rendering', 'geometricPrecision');\n            svgText.setAttribute('fill', s.color);\n            svgText.setAttribute('letter-spacing', `${lsPx}px`);\n\n            if (svgTextPath) svgTextPath.setAttribute('letter-spacing', `${lsPx}px`);\n\n            return { fsPx, lsPx, ff: s.fontFamily, fw: s.fontWeight, fz: s.fontSize };\n        };\n\n        const tspan = (tp, v, fill, lsPx) => {\n            const t = document.createElementNS(ns, 'tspan');\n            t.textContent = v;\n            if (fill) t.setAttribute('fill', fill);\n            if (lsPx != null) t.setAttribute('letter-spacing', `${lsPx}px`);\n            tp.appendChild(t);\n        };\n\n        const buildRun = (tp, text, spacer, spacerColor, pad, reps, lsPx) => {\n            tp.textContent = '';\n            for (let i = 0; i < reps; i++) {\n                tspan(tp, text, null, lsPx);\n                tspan(tp, pad, null, lsPx);\n                tspan(tp, spacer, spacerColor, lsPx);\n                tspan(tp, pad, null, lsPx);\n            }\n        };\n\n        const circleR = (half, level01) => {\n            if (level01 <= 0) return half * 200;\n            const inv = 1 - level01;\n            return half * (1.01 + inv * inv * 16.99);\n        };\n\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n\n        const measureLS = (str, fontCss, lsPx) => {\n            if (!ctx) return 0;\n            ctx.font = fontCss;\n            const txt = (str || '').replace(/\\u00A0/g, ' ');\n            const w = ctx.measureText(txt).width || 0;\n            const glyphs = Array.from(txt).length;\n            return w + Math.max(glyphs - 1, 0) * (lsPx || 0);\n        };\n\n        const setPlaying = (st, play) => {\n            st.inView = play;\n            if (!st.tw) return;\n            if (prm) return st.tw.pause();\n            play ? st.tw.play() : st.tw.pause();\n        };\n\n        const makeSvg = (wrap) => {\n            const svg = document.createElementNS(ns, 'svg');\n            const defs = document.createElementNS(ns, 'defs');\n            const g = document.createElementNS(ns, 'g');\n            const path = document.createElementNS(ns, 'path');\n            const text = document.createElementNS(ns, 'text');\n            const tp = document.createElementNS(ns, 'textPath');\n            const id = `rtm-${Math.random().toString(16).slice(2)}`;\n\n            svg.setAttribute('xmlns', ns);\n            svg.setAttribute('xmlns:xlink', xns);\n            Object.assign(svg.style, {\n                position: 'absolute',\n                top: 0,\n                left: 0,\n                overflow: 'visible',\n                pointerEvents: 'none',\n                display: 'block'\n            });\n            svg.setAttribute('aria-hidden', 'true');\n            svg.setAttribute('focusable', 'false');\n\n            path.setAttribute('id', id);\n            path.setAttribute('fill', 'none');\n            path.setAttribute('stroke', 'none');\n\n            tp.setAttributeNS(xns, 'xlink:href', `#${id}`);\n            tp.setAttribute('text-anchor', 'start');\n            tp.setAttribute('startOffset', '0px');\n\n            text.appendChild(tp);\n            defs.appendChild(path);\n            svg.appendChild(defs);\n            g.appendChild(path);\n            g.appendChild(text);\n            svg.appendChild(g);\n            wrap.appendChild(svg);\n\n            const textEl = wrap.querySelector('[data-radial-text-marquee-text]');\n            if (textEl) textEl.style.opacity = '0';\n\n            return { svg, g, path, text, tp };\n        };\n\n        wraps.forEach((wrap) => {\n            const textEl = wrap.querySelector('[data-radial-text-marquee-text]');\n            if (!textEl) return;\n\n            const st = { ...makeSvg(wrap), tw: null, px: { x: 0 }, inView: true, raf: 0, qs: null };\n            new IntersectionObserver((e) => setPlaying(st, !!(e[0] && e[0].isIntersecting)), { threshold: 0 }).observe(wrap);\n\n            const rebuild = () => {\n                const baseText = (textEl.textContent || '').trim();\n                if (!baseText) return;\n\n                const speed = clamp(wrap.getAttribute('data-radial-text-marquee-speed') || 4, 0.1, 200);\n                const speedPx = Math.max(speed * 100 * speedMul(), 1);\n\n                const radiusLevel = clamp(wrap.getAttribute('data-radial-text-marquee-radius') || 10, 0, 10);\n                const level01 = radiusLevel / 10;\n\n                const spacer = wrap.getAttribute('data-radial-text-marquee-spacer') || '•';\n                const spacerColor = wrap.getAttribute('data-radial-text-marquee-spacer-color') || null;\n\n                const padCount = clamp(wrap.getAttribute('data-radial-text-marquee-spacer-padding') || 1, 0, 20);\n                const pad = '\\u00A0'.repeat(padCount);\n\n                const typo = syncType(textEl, st.text, st.tp);\n\n                const wrapW = Math.max(wrap.clientWidth || 1, 1);\n                const wrapH = Math.max(wrap.clientHeight || textEl.offsetHeight || 1, 1);\n                const bleed = typo.fsPx * 2;\n\n                const w = wrapW + bleed * 2;\n                const h = wrapH;\n\n                Object.assign(st.svg.style, { width: `${w}px`, height: `${h}px`, left: `${-bleed}px` });\n                st.svg.setAttribute('width', w);\n                st.svg.setAttribute('height', h);\n                st.svg.setAttribute('viewBox', `0 0 ${w} ${h}`);\n\n                const half = w / 2;\n                const r = level01 <= 0.0001 ? half * 200 : Math.max(circleR(half, level01), half + 0.001);\n                const under = Math.max(r * r - half * half, 0);\n                const y = Math.max(r - Math.sqrt(under), 0);\n\n                st.path.setAttribute(\n                    'd',\n                    level01 <= 0.0001 ? `M 0 ${y} L ${w} ${y}` : `M 0 ${y} A ${r} ${r} 0 0 1 ${w} ${y}`\n                );\n\n                st.text.setAttribute('x', '0');\n                st.text.setAttribute('y', `${y}`);\n                st.g.setAttribute('transform', `translate(0 ${typo.fsPx})`);\n                textEl.style.opacity = '0';\n\n                cancelAnimationFrame(st.raf);\n                st.raf = requestAnimationFrame(() => {\n                    const fontCss = `${typo.fw} ${typo.fz} ${typo.ff}`;\n\n                    let loopLen =\n                        measureLS(baseText, fontCss, typo.lsPx) +\n                        measureLS(pad, fontCss, typo.lsPx) +\n                        measureLS(spacer, fontCss, typo.lsPx) +\n                        measureLS(pad, fontCss, typo.lsPx);\n\n                    loopLen = Math.max(loopLen || 0, 1);\n\n                    const pathLen = st.path.getTotalLength ? st.path.getTotalLength() : wrapW;\n                    const targetCover = Math.max(pathLen * 4, wrapW * 8);\n\n                    const reps = clamp(Math.ceil(targetCover / loopLen) + 6, 6, 600);\n                    buildRun(st.tp, baseText, spacer, spacerColor, pad, reps, typo.lsPx);\n\n                    if (!isSafari) {\n                        const fullLen = st.tp.getComputedTextLength();\n                        if (Number.isFinite(fullLen) && fullLen > 0) {\n                            const perUnit = fullLen / reps;\n                            if (Number.isFinite(perUnit) && perUnit > 0) loopLen = perUnit;\n                        }\n                    }\n\n                    loopLen = Math.max(loopLen, 1);\n\n                    if (st.tw) st.tw.kill();\n                    st.tw = null;\n                    \n                    // 2. Setup ScrollTrigger Proxy\n                    // This creates a \"proxy\" object that GSAP watches. \n                    // When you scroll, ScrollTrigger updates the 'velocity' property.\n                    let proxy = { velocity: 0 };\n                    \n                    ScrollTrigger.create({\n                        trigger: wrap,\n                        start: \"top bottom\",\n                        end: \"bottom top\",\n                        onUpdate: (self) => {\n                            // Boost velocity based on scroll speed\n                            // 'self.getVelocity()' returns pixels per second\n                            proxy.velocity = self.getVelocity() / -1000; \n                        }\n                    });\n\n                    st.qs = gsap && gsap.quickSetter ? gsap.quickSetter(st.tp, 'attr') : null;\n\n                    const setOffset = (v) => {\n                        const val = `${v.toFixed(3)}px`;\n                        if (st.qs) st.qs({ startOffset: val });\n                        else st.tp.setAttribute('startOffset', val);\n                    };\n\n                    st.px.x = 0;\n                    \n                    // 3. Update the Animation Loop\n                    // We use gsap.ticker to handle manual updates so we can combine\n                    // constant speed + scroll velocity\n                    let progress = 0;\n                    \n                    gsap.ticker.add(() => {\n                        if(!st.inView) return;\n\n                        // Base speed (constant movement)\n                        const baseDelta = (speedPx * gsap.ticker.deltaRatio()) / 60; \n                        \n                        // Scroll boost (decays over time using lerp)\n                        proxy.velocity *= 0.9; // Friction to slow down the boost\n                        \n                        // Combine them\n                        progress += baseDelta - (proxy.velocity * 50); // Multiply boost for effect\n\n                        // Wrap around loopLen\n                        const x = ((progress % loopLen) + loopLen) % loopLen;\n                        setOffset(-x);\n                    });\n                });\n            };\n\n            const schedule = (() => {\n                let raf = 0;\n                return () => {\n                    cancelAnimationFrame(raf);\n                    raf = requestAnimationFrame(rebuild);\n                };\n            })();\n\n            rebuild();\n\n            if (document.fonts && document.fonts.ready) document.fonts.ready.then(schedule).catch(() => {});\n            else setTimeout(schedule, 150);\n\n            if (window.ResizeObserver) {\n                const ro = new ResizeObserver(schedule);\n                ro.observe(wrap);\n                ro.observe(textEl);\n            } else {\n                window.addEventListener('resize', schedule);\n            }\n        });\n    }\n\n    document.addEventListener('DOMContentLoaded', function () {\n        initRadialTextMarquee();\n    });\n</script>\n</body>\n</html>"
  }
]